function Arcfour(){this.i=0,this.j=0,this.S=new Array}function ARC4init(e){var t,n,i;for(t=0;256>t;++t)this.S[t]=t;for(n=0,t=0;256>t;++t)n=n+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[n],this.S[n]=i;this.i=0,this.j=0}function ARC4next(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function prng_newstate(){return new Arcfour}function rng_seed_int(e){rng_pool[rng_pptr++]^=255&e,rng_pool[rng_pptr++]^=e>>8&255,rng_pool[rng_pptr++]^=e>>16&255,rng_pool[rng_pptr++]^=e>>24&255,rng_pptr>=rng_psize&&(rng_pptr-=rng_psize)}function rng_seed_time(){rng_seed_int((new Date).getTime())}function rng_get_byte(){if(null==rng_state){for(rng_seed_time(),rng_state=prng_newstate(),rng_state.init(rng_pool),rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function rng_get_bytes(e){var t;for(t=0;t<e.length;++t)e[t]=rng_get_byte()}function SecureRandom(){}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=ht.type(e);return"function"===n||ht.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(ht.isFunction(t))return ht.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ht.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(St.test(t))return ht.filter(t,e,n);t=ht.filter(t,e)}return ht.grep(e,function(e){return ht.inArray(e,t)>-1!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t={};return ht.each(e.match(At)||[],function(e,n){t[n]=!0}),t}function s(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a)):(it.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(it.addEventListener||"load"===e.event.type||"complete"===it.readyState)&&(s(),ht.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Nt,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:It.test(n)?ht.parseJSON(n):n}catch(r){}ht.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!ht.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,i){if(Dt(e)){var r,o,s=ht.expando,a=e.nodeType,u=a?ht.cache:e,l=a?e[s]:e[s]&&s;if(l&&u[l]&&(i||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=a?e[s]=nt.pop()||ht.guid++:s),u[l]||(u[l]=a?{}:{toJSON:ht.noop}),("object"==typeof t||"function"==typeof t)&&(i?u[l]=ht.extend(u[l],t):u[l].data=ht.extend(u[l].data,t)),o=u[l],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ht.camelCase(t)]=n),"string"==typeof t?(r=o[t],null==r&&(r=o[ht.camelCase(t)])):r=o,r}}function d(e,t,n){if(Dt(e)){var i,r,o=e.nodeType,s=o?ht.cache:e,a=o?e[ht.expando]:ht.expando;if(s[a]){if(t&&(i=n?s[a]:s[a].data)){ht.isArray(t)?t=t.concat(ht.map(t,ht.camelCase)):t in i?t=[t]:(t=ht.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!l(i):!ht.isEmptyObject(i))return}(n||(delete s[a].data,l(s[a])))&&(o?ht.cleanData([e],!0):dt.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function f(e,t,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ht.css(e,t,"")},u=a(),l=n&&n[3]||(ht.cssNumber[t]?"":"px"),c=(ht.cssNumber[t]||"px"!==l&&+u)&&Mt.exec(ht.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,ht.style(e,t,c+l);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function h(e){var t=Wt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){var n,i,r=0,o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||ht.nodeName(i,t)?o.push(i):ht.merge(o,p(i,t));return void 0===t||t&&ht.nodeName(e,t)?ht.merge([e],o):o}function m(e,t){for(var n,i=0;null!=(n=e[i]);i++)ht._data(n,"globalEval",!t||ht._data(t[i],"globalEval"))}function g(e){Ut.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,n,i,r){for(var o,s,a,u,l,c,d,f=e.length,v=h(t),_=[],y=0;f>y;y++)if(s=e[y],s||0===s)if("object"===ht.type(s))ht.merge(_,s.nodeType?[s]:s);else if(Vt.test(s)){for(u=u||v.appendChild(t.createElement("div")),l=(Bt.exec(s)||["",""])[1].toLowerCase(),d=$t[l]||$t._default,u.innerHTML=d[1]+ht.htmlPrefilter(s)+d[2],o=d[0];o--;)u=u.lastChild;if(!dt.leadingWhitespace&&jt.test(s)&&_.push(t.createTextNode(jt.exec(s)[0])),!dt.tbody)for(s="table"!==l||Yt.test(s)?"<table>"!==d[1]||Yt.test(s)?0:u:u.firstChild,o=s&&s.childNodes.length;o--;)ht.nodeName(c=s.childNodes[o],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(ht.merge(_,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=v.lastChild}else _.push(t.createTextNode(s));for(u&&v.removeChild(u),dt.appendChecked||ht.grep(p(_,"input"),g),y=0;s=_[y++];)if(i&&ht.inArray(s,i)>-1)r&&r.push(s);else if(a=ht.contains(s.ownerDocument,s),u=p(v.appendChild(s),"script"),a&&m(u),n)for(o=0;s=u[o++];)zt.test(s.type||"")&&n.push(s);return u=null,v}function _(){return!0}function y(){return!1}function q(){try{return it.activeElement}catch(e){}}function b(e,t,n,i,r,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(a in t)b(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=y;else if(!r)return e;return 1===o&&(s=r,r=function(e){return ht().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ht.guid++)),e.each(function(){ht.event.add(this,t,r,i,n)})}function w(e,t){return ht.nodeName(e,"table")&&ht.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function S(e){return e.type=(null!==ht.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=on.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){if(1===t.nodeType&&ht.hasData(e)){var n,i,r,o=ht._data(e),s=ht._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)ht.event.add(t,n,a[n][i])}s.data&&(s.data=ht.extend({},s.data))}}function T(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!dt.noCloneEvent&&t[ht.expando]){r=ht._data(t);for(i in r.events)ht.removeEvent(t,i,r.handle);t.removeAttribute(ht.expando)}"script"===n&&t.text!==e.text?(S(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),dt.html5Clone&&e.innerHTML&&!ht.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ut.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function E(e,t,n,i){t=ot.apply([],t);var r,o,s,a,u,l,c=0,d=e.length,f=d-1,h=t[0],m=ht.isFunction(h);if(m||d>1&&"string"==typeof h&&!dt.checkClone&&rn.test(h))return e.each(function(r){var o=e.eq(r);m&&(t[0]=h.call(this,r,o.html())),E(o,t,n,i)});if(d&&(l=v(t,e[0].ownerDocument,!1,e,i),r=l.firstChild,1===l.childNodes.length&&(l=r),r||i)){for(a=ht.map(p(l,"script"),S),s=a.length;d>c;c++)o=l,c!==f&&(o=ht.clone(o,!0,!0),s&&ht.merge(a,p(o,"script"))),n.call(e[c],o,c);if(s)for(u=a[a.length-1].ownerDocument,ht.map(a,x),c=0;s>c;c++)o=a[c],zt.test(o.type||"")&&!ht._data(o,"globalEval")&&ht.contains(u,o)&&(o.src?ht._evalUrl&&ht._evalUrl(o.src):ht.globalEval((o.text||o.textContent||o.innerHTML||"").replace(sn,"")));l=r=null}return e}function P(e,t,n){for(var i,r=t?ht.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ht.cleanData(p(i)),i.parentNode&&(n&&ht.contains(i.ownerDocument,i)&&m(p(i,"script")),i.parentNode.removeChild(i));return e}function A(e,t){var n=ht(t.createElement(e)).appendTo(t.body),i=ht.css(n[0],"display");return n.detach(),i}function F(e){var t=it,n=cn[e];return n||(n=A(e,t),"none"!==n&&n||(ln=(ln||ht("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(ln[0].contentWindow||ln[0].contentDocument).document,t.write(),t.close(),n=A(e,t),ln.detach()),cn[e]=n),n}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e){if(e in Cn)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=xn.length;n--;)if(e=xn[n]+t,e in Cn)return e}function I(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=ht._data(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Lt(i)&&(o[s]=ht._data(i,"olddisplay",F(i.nodeName)))):(r=Lt(i),(n&&"none"!==n||!r)&&ht._data(i,"olddisplay",r?n:ht.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function N(e,t,n){var i=bn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function R(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ht.css(e,n+Ht[o],!0,r)),i?("content"===n&&(s-=ht.css(e,"padding"+Ht[o],!0,r)),"margin"!==n&&(s-=ht.css(e,"border"+Ht[o]+"Width",!0,r))):(s+=ht.css(e,"padding"+Ht[o],!0,r),"padding"!==n&&(s+=ht.css(e,"border"+Ht[o]+"Width",!0,r)));return s}function M(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=mn(e),s=dt.boxSizing&&"border-box"===ht.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=gn(e,t,o),(0>r||null==r)&&(r=e.style[t]),fn.test(r))return r;i=s&&(dt.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+R(e,t,n||(s?"border":"content"),i,o)+"px"}function H(e,t,n,i,r){return new H.prototype.init(e,t,n,i,r)}function L(){return e.setTimeout(function(){Tn=void 0}),Tn=ht.now()}function O(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Ht[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e,t,n){for(var i,r=(j.tweeners[t]||[]).concat(j.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function B(e,t,n){var i,r,o,s,a,u,l,c,d=this,f={},h=e.style,p=e.nodeType&&Lt(e),m=ht._data(e,"fxshow");n.queue||(a=ht._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ht.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=ht.css(e,"display"),c="none"===l?ht._data(e,"olddisplay")||F(e.nodeName):l,"inline"===c&&"none"===ht.css(e,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==F(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",dt.shrinkWrapBlocks()||d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Pn.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}f[i]=m&&m[i]||ht.style(e,i)}else l=void 0;if(ht.isEmptyObject(f))"inline"===("none"===l?F(e.nodeName):l)&&(h.display=l);else{m?"hidden"in m&&(p=m.hidden):m=ht._data(e,"fxshow",{}),o&&(m.hidden=!p),p?ht(e).show():d.done(function(){ht(e).hide()}),d.done(function(){var t;ht._removeData(e,"fxshow");for(t in f)ht.style(e,t,f[t])});for(i in f)s=U(p?m[i]:0,i,d),i in m||(m[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function z(e,t){var n,i,r,o,s;for(n in e)if(i=ht.camelCase(n),r=t[i],o=e[n],ht.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=ht.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function j(e,t,n){var i,r,o=0,s=j.prefilters.length,a=ht.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=Tn||L(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,o=1-i,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:ht.extend({},t),opts:ht.extend(!0,{specialEasing:{},easing:ht.easing._default},n),originalProperties:t,originalOptions:n,startTime:Tn||L(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ht.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for(z(c,l.opts.specialEasing);s>o;o++)if(i=j.prefilters[o].call(l,e,c,l.opts))return ht.isFunction(i.stop)&&(ht._queueHooks(l.elem,l.opts.queue).stop=ht.proxy(i.stop,i)),i;return ht.map(c,U,l),ht.isFunction(l.opts.start)&&l.opts.start.call(e,l),ht.fx.timer(ht.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function W(e){return ht.attr(e,"class")||""}function $(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(At)||[];if(ht.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function V(e,t,n,i){function r(a){var u;return o[a]=!0,ht.each(e[a]||[],function(e,a){var l=a(t,n,i);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var o={},s=e===Zn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function Y(e,t){var n,i,r=ht.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&ht.extend(!0,e,n),e}function G(e,t,n){for(var i,r,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){u.unshift(s);break}if(u[0]in n)o=u[0];else{for(s in n){if(!u[0]||e.converters[s+" "+u[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function X(e,t,n,i){var r,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function K(e){return e.style&&e.style.display||ht.css(e,"display")}function Q(e){if(!ht.contains(e.ownerDocument||it,e))return!0;for(;e&&1===e.nodeType;){if("none"===K(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function J(e,t,n,i){var r;if(ht.isArray(t))ht.each(t,function(t,r){n||ri.test(e)?i(e,r):J(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==ht.type(t))i(e,t);else for(r in t)J(e+"["+r+"]",t[r],n,i)}function Z(){try{return new e.XMLHttpRequest}catch(t){}}function et(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function tt(e){return ht.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var nt=[],it=e.document,rt=nt.slice,ot=nt.concat,st=nt.push,at=nt.indexOf,ut={},lt=ut.toString,ct=ut.hasOwnProperty,dt={},ft="1.12.4",ht=function(e,t){return new ht.fn.init(e,t)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(e,t){return t.toUpperCase()};ht.fn=ht.prototype={jquery:ft,constructor:ht,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:rt.call(this)},pushStack:function(e){var t=ht.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ht.each(this,e)},map:function(e){return this.pushStack(ht.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:nt.sort,splice:nt.splice},ht.extend=ht.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||ht.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(r=arguments[a]))for(i in r)e=s[i],n=r[i],s!==n&&(l&&n&&(ht.isPlainObject(n)||(t=ht.isArray(n)))?(t?(t=!1,o=e&&ht.isArray(e)?e:[]):o=e&&ht.isPlainObject(e)?e:{},s[i]=ht.extend(l,o,n)):void 0!==n&&(s[i]=n));return s},ht.extend({expando:"jQuery"+(ft+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ht.type(e)},isArray:Array.isArray||function(e){return"array"===ht.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!ht.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ht.type(e)||e.nodeType||ht.isWindow(e))return!1;try{if(e.constructor&&!ct.call(e,"constructor")&&!ct.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!dt.ownFirst)for(t in e)return ct.call(e,t);for(t in e);return void 0===t||ct.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ut[lt.call(e)]||"object":typeof e},globalEval:function(t){t&&ht.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(mt,"ms-").replace(gt,vt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,r=0;if(n(e))for(i=e.length;i>r&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(pt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ht.merge(i,"string"==typeof e?[e]:e):st.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(at)return at.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,s=e.length,a=!n;s>o;o++)i=!t(e[o],o),i!==a&&r.push(e[o]);return r},map:function(e,t,i){var r,o,s=0,a=[];if(n(e))for(r=e.length;r>s;s++)o=t(e[s],s,i),null!=o&&a.push(o);else for(s in e)o=t(e[s],s,i),null!=o&&a.push(o);return ot.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),ht.isFunction(e)?(n=rt.call(arguments,2),i=function(){return e.apply(t||this,n.concat(rt.call(arguments)))},i.guid=e.guid=e.guid||ht.guid++,i):void 0},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ht.fn[Symbol.iterator]=nt[Symbol.iterator]),ht.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ut["[object "+t+"]"]=t.toLowerCase()});var _t=function(e){function t(e,t,n,i){var r,o,s,a,u,l,d,h,p=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&((t?t.ownerDocument||t:U)!==D&&k(t),t=t||D,N)){if(11!==m&&(l=vt.exec(e)))if(r=l[1]){if(9===m){if(!(s=t.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(p&&(s=p.getElementById(r))&&L(t,s)&&s.id===r)return n.push(s),n}else{if(l[2])return J.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&b.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(r)),n}if(!(!b.qsa||$[e+" "]||R&&R.test(e))){if(1!==m)p=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(yt,"\\$&"):t.setAttribute("id",a=O),d=C(e),o=d.length,u=ft.test(a)?"#"+a:"[id='"+a+"']";o--;)d[o]=u+" "+f(d[o]);h=d.join(","),p=_t.test(e)&&c(t.parentNode)||t}if(h)try{return J.apply(n,p.querySelectorAll(h)),n}catch(g){}finally{a===O&&t.removeAttribute("id")}}}return E(e.replace(at,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[O]=!0,e}function r(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=z++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,u,l,c=[B,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[O]||(t[O]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(a=u[i])&&a[0]===B&&a[1]===o)return c[2]=a[2];if(u[i]=c,c[2]=e(t,n,s))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),l&&t.push(a));return s}function v(e,t,n,r,o,s){return r&&!r[O]&&(r=v(r)),o&&!o[O]&&(o=v(o,s)),i(function(i,s,a,u){var l,c,d,f=[],h=[],p=s.length,v=i||m(t||"*",a.nodeType?[a]:a,[]),_=!e||!i&&t?v:g(v,f,e,a,u),y=n?o||(i?e:p||r)?[]:s:_;if(n&&n(_,y,a,u),r)for(l=g(y,h),r(l,[],a,u),c=l.length;c--;)(d=l[c])&&(y[h[c]]=!(_[h[c]]=d));if(i){if(o||e){if(o){for(l=[],c=y.length;c--;)(d=y[c])&&l.push(_[c]=d);o(null,y=[],l,u)}for(c=y.length;c--;)(d=y[c])&&(l=o?et(i,d):f[c])>-1&&(i[l]=!(s[l]=d))}}else y=g(y===s?y.splice(p,y.length):y),o?o(null,s,y,u):J.apply(s,y)})}function _(e){for(var t,n,i,r=e.length,o=w.relative[e[0].type],s=o||w.relative[" "],a=o?1:0,u=h(function(e){return e===t},s,!0),l=h(function(e){return et(t,e)>-1},s,!0),c=[function(e,n,i){var r=!o&&(i||n!==P)||((t=n).nodeType?u(e,n,i):l(e,n,i));return t=null,r}];r>a;a++)if(n=w.relative[e[a].type])c=[h(p(c),n)];else{if(n=w.filter[e[a].type].apply(null,e[a].matches),n[O]){for(i=++a;r>i&&!w.relative[e[i].type];i++);return v(a>1&&p(c),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(at,"$1"),n,i>a&&_(e.slice(a,i)),r>i&&_(e=e.slice(i)),r>i&&f(e))}c.push(n)}return p(c)}function y(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,u,l){var c,d,f,h=0,p="0",m=i&&[],v=[],_=P,y=i||o&&w.find.TAG("*",l),q=B+=null==_?1:Math.random()||.1,b=y.length;for(l&&(P=s===D||s||l);p!==b&&null!=(c=y[p]);p++){if(o&&c){for(d=0,s||c.ownerDocument===D||(k(c),a=!N);f=e[d++];)if(f(c,s||D,a)){u.push(c);break}l&&(B=q)}r&&((c=!f&&c)&&h--,i&&m.push(c))}if(h+=p,r&&p!==h){for(d=0;f=n[d++];)f(m,v,s,a);if(i){if(h>0)for(;p--;)m[p]||v[p]||(v[p]=K.call(u));v=g(v)}J.apply(u,v),l&&!i&&v.length>0&&h+n.length>1&&t.uniqueSort(u)}return l&&(B=q,P=_),m};return r?i(s):s}var q,b,w,S,x,C,T,E,P,A,F,k,D,I,N,R,M,H,L,O="sizzle"+1*new Date,U=e.document,B=0,z=0,j=n(),W=n(),$=n(),V=function(e,t){return e===t&&(F=!0),0},Y=1<<31,G={}.hasOwnProperty,X=[],K=X.pop,Q=X.push,J=X.push,Z=X.slice,et=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),ft=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/[+~]/,yt=/'|\\/g,qt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},wt=function(){k()};try{J.apply(X=Z.call(U.childNodes),U.childNodes),X[U.childNodes.length].nodeType}catch(St){J={apply:X.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}b=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},k=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:U;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,I=D.documentElement,N=!x(D),(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=r(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=gt.test(D.getElementsByClassName),b.getById=r(function(e){return I.appendChild(e).id=O,!D.getElementsByName||!D.getElementsByName(O).length}),b.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(qt,bt);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(qt,bt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=b.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=b.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&N?t.getElementsByClassName(e):void 0},M=[],R=[],(b.qsa=gt.test(D.querySelectorAll))&&(r(function(e){I.appendChild(e).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+O+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+O+"+*").length||R.push(".#.+[+~]")}),r(function(e){var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(b.matchesSelector=gt.test(H=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(e){b.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),M.push("!=",ot)}),R=R.length&&new RegExp(R.join("|")),M=M.length&&new RegExp(M.join("|")),t=gt.test(I.compareDocumentPosition),L=t||gt.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return F=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===D||e.ownerDocument===U&&L(U,e)?-1:t===D||t.ownerDocument===U&&L(U,t)?1:A?et(A,e)-et(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return F=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],u=[t];if(!r||!o)return e===D?-1:t===D?1:r?-1:o?1:A?et(A,e)-et(A,t):0;if(r===o)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[i]===u[i];)i++;return i?s(a[i],u[i]):a[i]===U?-1:u[i]===U?1:0},D):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&k(e),n=n.replace(ct,"='$1']"),!(!b.matchesSelector||!N||$[n+" "]||M&&M.test(n)||R&&R.test(n)))try{var i=H.call(e,n);if(i||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&k(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&k(e);var n=w.attrHandle[t.toLowerCase()],i=n&&G.call(w.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==i?i:b.attributes||!N?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(F=!b.detectDuplicates,A=!b.sortStable&&e.slice(0),e.sort(V),F){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return A=null,e},S=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},w=t.selectors={cacheLength:50,createPseudo:i,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(qt,bt),e[3]=(e[3]||e[4]||e[5]||"").replace(qt,bt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&dt.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(qt,bt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,h,p,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),_=!u&&!a,y=!1;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;
p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&_){for(f=g,d=f[O]||(f[O]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),l=c[e]||[],h=l[0]===B&&l[1],y=h&&l[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(y=h=0)||p.pop();)if(1===f.nodeType&&++y&&f===t){c[e]=[B,h,y];break}}else if(_&&(f=t,d=f[O]||(f[O]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),l=c[e]||[],h=l[0]===B&&l[1],y=h),y===!1)for(;(f=++h&&f&&f[m]||(y=h=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++y||(_&&(d=f[O]||(f[O]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),c[e]=[B,y]),f!==t)););return y-=r,y===i||y%i===0&&y/i>=0}}},PSEUDO:function(e,n){var r,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[O]?o(n):o.length>1?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=et(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=T(e.replace(at,"$1"));return r[O]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(qt,bt),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(qt,bt).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return pt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(q in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[q]=a(q);for(q in{submit:!0,reset:!0})w.pseudos[q]=u(q);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,C=t.tokenize=function(e,n){var i,r,o,s,a,u,l,c=W[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=w.preFilter;a;){(!i||(r=ut.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=lt.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in w.filter)!(r=ht[s].exec(a))||l[s]&&!(r=l[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):W(e,u).slice(0)},T=t.compile=function(e,t){var n,i=[],r=[],o=$[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=_(t[n]),o[O]?i.push(o):r.push(o);o=$(e,y(r,i)),o.selector=e}return o},E=t.select=function(e,t,n,i){var r,o,s,a,u,l="function"==typeof e&&e,d=!i&&C(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&b.getById&&9===t.nodeType&&N&&w.relative[o[1].type]){if(t=(w.find.ID(s.matches[0].replace(qt,bt),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=ht.needsContext.test(e)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((u=w.find[a])&&(i=u(s.matches[0].replace(qt,bt),_t.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&f(o),!e)return J.apply(n,i),n;break}}return(l||T(e,d))(i,t,!N,n,!t||_t.test(e)&&c(t.parentNode)||t),n},b.sortStable=O.split("").sort(V).join("")===O,b.detectDuplicates=!!F,k(),b.sortDetached=r(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);ht.find=_t,ht.expr=_t.selectors,ht.expr[":"]=ht.expr.pseudos,ht.uniqueSort=ht.unique=_t.uniqueSort,ht.text=_t.getText,ht.isXMLDoc=_t.isXML,ht.contains=_t.contains;var yt=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&ht(e).is(n))break;i.push(e)}return i},qt=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},bt=ht.expr.match.needsContext,wt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,St=/^.[^:#\[\.,]*$/;ht.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ht.find.matchesSelector(i,e)?[i]:[]:ht.find.matches(e,ht.grep(t,function(e){return 1===e.nodeType}))},ht.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(ht(e).filter(function(){for(t=0;r>t;t++)if(ht.contains(i[t],this))return!0}));for(t=0;r>t;t++)ht.find(e,i[t],n);return n=this.pushStack(r>1?ht.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&bt.test(e)?ht(e):e||[],!1).length}});var xt,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Tt=ht.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||xt,"string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ct.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ht?t[0]:t,ht.merge(this,ht.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:it,!0)),wt.test(i[1])&&ht.isPlainObject(t))for(i in t)ht.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(r=it.getElementById(i[2]),r&&r.parentNode){if(r.id!==i[2])return xt.find(e);this.length=1,this[0]=r}return this.context=it,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ht.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(ht):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ht.makeArray(e,this))};Tt.prototype=ht.fn,xt=ht(it);var Et=/^(?:parents|prev(?:Until|All))/,Pt={children:!0,contents:!0,next:!0,prev:!0};ht.fn.extend({has:function(e){var t,n=ht(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ht.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=bt.test(e)||"string"!=typeof e?ht(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ht.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ht.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ht.inArray(this[0],ht(e)):ht.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ht.uniqueSort(ht.merge(this.get(),ht(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ht.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return yt(e,"parentNode")},parentsUntil:function(e,t,n){return yt(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return yt(e,"nextSibling")},prevAll:function(e){return yt(e,"previousSibling")},nextUntil:function(e,t,n){return yt(e,"nextSibling",n)},prevUntil:function(e,t,n){return yt(e,"previousSibling",n)},siblings:function(e){return qt((e.parentNode||{}).firstChild,e)},children:function(e){return qt(e.firstChild)},contents:function(e){return ht.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ht.merge([],e.childNodes)}},function(e,t){ht.fn[e]=function(n,i){var r=ht.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ht.filter(i,r)),this.length>1&&(Pt[e]||(r=ht.uniqueSort(r)),Et.test(e)&&(r=r.reverse())),this.pushStack(r)}});var At=/\S+/g;ht.Callbacks=function(e){e="string"==typeof e?o(e):ht.extend({},e);var t,n,i,r,s=[],a=[],u=-1,l=function(){for(r=e.once,i=t=!0;a.length;u=-1)for(n=a.shift();++u<s.length;)s[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=s.length,n=!1);e.memory||(n=!1),t=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!t&&(u=s.length-1,a.push(n)),function i(t){ht.each(t,function(t,n){ht.isFunction(n)?e.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==ht.type(n)&&i(n)})}(arguments),n&&!t&&l()),this},remove:function(){return ht.each(arguments,function(e,t){for(var n;(n=ht.inArray(t,s,n))>-1;)s.splice(n,1),u>=n&&u--}),this},has:function(e){return e?ht.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=!0,n||c.disable(),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ht.extend({Deferred:function(e){var t=[["resolve","done",ht.Callbacks("once memory"),"resolved"],["reject","fail",ht.Callbacks("once memory"),"rejected"],["notify","progress",ht.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ht.Deferred(function(n){ht.each(t,function(t,o){var s=ht.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ht.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ht.extend(e,i):i}},r={};return i.pipe=i.then,ht.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=rt.call(arguments),s=o.length,a=1!==s||e&&ht.isFunction(e.promise)?s:0,u=1===a?e:ht.Deferred(),l=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?rt.call(arguments):r,i===t?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ht.isFunction(o[r].promise)?o[r].promise().progress(l(r,n,t)).done(l(r,i,o)).fail(u.reject):--a;return a||u.resolveWith(i,o),u.promise()}});var Ft;ht.fn.ready=function(e){return ht.ready.promise().done(e),this},ht.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ht.readyWait++:ht.ready(!0)},ready:function(e){(e===!0?--ht.readyWait:ht.isReady)||(ht.isReady=!0,e!==!0&&--ht.readyWait>0||(Ft.resolveWith(it,[ht]),ht.fn.triggerHandler&&(ht(it).triggerHandler("ready"),ht(it).off("ready"))))}}),ht.ready.promise=function(t){if(!Ft)if(Ft=ht.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)e.setTimeout(ht.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a);else{it.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var n=!1;try{n=null==e.frameElement&&it.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!ht.isReady){try{n.doScroll("left")}catch(t){return e.setTimeout(r,50)}s(),ht.ready()}}()}return Ft.promise(t)},ht.ready.promise();var kt;for(kt in ht(dt))break;dt.ownFirst="0"===kt,dt.inlineBlockNeedsLayout=!1,ht(function(){var e,t,n,i;n=it.getElementsByTagName("body")[0],n&&n.style&&(t=it.createElement("div"),i=it.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=it.createElement("div");dt.deleteExpando=!0;try{delete e.test}catch(t){dt.deleteExpando=!1}e=null}();var Dt=function(e){var t=ht.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t},It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/([A-Z])/g;ht.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ht.cache[e[ht.expando]]:e[ht.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ht.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=ht.data(o),1===o.nodeType&&!ht._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ht.camelCase(i.slice(5)),u(o,i,r[i])));ht._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ht.data(this,e)}):arguments.length>1?this.each(function(){ht.data(this,e,t)}):o?u(o,e,ht.data(o,e)):void 0},removeData:function(e){return this.each(function(){ht.removeData(this,e)})}}),ht.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ht._data(e,t),n&&(!i||ht.isArray(n)?i=ht._data(e,t,ht.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ht.queue(e,t),i=n.length,r=n.shift(),o=ht._queueHooks(e,t),s=function(){ht.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ht._data(e,n)||ht._data(e,n,{empty:ht.Callbacks("once memory").add(function(){ht._removeData(e,t+"queue"),ht._removeData(e,n)})})}}),ht.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ht.queue(this[0],e):void 0===t?this:this.each(function(){var n=ht.queue(this,e,t);ht._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ht.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ht.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=ht.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ht._data(o[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}}),function(){var e;dt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=it.getElementsByTagName("body")[0],n&&n.style?(t=it.createElement("div"),i=it.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var Rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=new RegExp("^(?:([+-])=|)("+Rt+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],Lt=function(e,t){return e=t||e,"none"===ht.css(e,"display")||!ht.contains(e.ownerDocument,e)},Ot=function(e,t,n,i,r,o,s){var a=0,u=e.length,l=null==n;if("object"===ht.type(n)){r=!0;for(a in n)Ot(e,t,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ht.isFunction(i)||(s=!0),l&&(s?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(ht(e),n)})),t))for(;u>a;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:l?t.call(e):u?t(e[0],n):o},Ut=/^(?:checkbox|radio)$/i,Bt=/<([\w:-]+)/,zt=/^$|\/(?:java|ecma)script/i,jt=/^\s+/,Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=it.createElement("div"),t=it.createDocumentFragment(),n=it.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===e.firstChild.nodeType,dt.tbody=!e.getElementsByTagName("tbody").length,dt.htmlSerialize=!!e.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),dt.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=it.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),dt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!e.addEventListener,e[ht.expando]=1,dt.attributes=!e.getAttribute(ht.expando)}();var $t={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td;var Vt=/<|&#?\w+;/,Yt=/<tbody/i;!function(){var t,n,i=it.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(dt[t]=n in e)||(i.setAttribute(n,"t"),dt[t]=i.attributes[n].expando===!1);i=null}();var Gt=/^(?:input|select|textarea)$/i,Xt=/^key/,Kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qt=/^(?:focusinfocus|focusoutblur)$/,Jt=/^([^.]*)(?:\.(.+)|)/;ht.event={global:{},add:function(e,t,n,i,r){var o,s,a,u,l,c,d,f,h,p,m,g=ht._data(e);if(g){for(n.handler&&(u=n,n=u.handler,r=u.selector),n.guid||(n.guid=ht.guid++),(s=g.events)||(s=g.events={}),(c=g.handle)||(c=g.handle=function(e){return"undefined"==typeof ht||e&&ht.event.triggered===e.type?void 0:ht.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(At)||[""],a=t.length;a--;)o=Jt.exec(t[a])||[],h=m=o[1],p=(o[2]||"").split(".").sort(),h&&(l=ht.event.special[h]||{},h=(r?l.delegateType:l.bindType)||h,l=ht.event.special[h]||{},d=ht.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ht.expr.match.needsContext.test(r),namespace:p.join(".")},u),(f=s[h])||(f=s[h]=[],f.delegateCount=0,l.setup&&l.setup.call(e,i,p,c)!==!1||(e.addEventListener?e.addEventListener(h,c,!1):e.attachEvent&&e.attachEvent("on"+h,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,d):f.push(d),ht.event.global[h]=!0);e=null}},remove:function(e,t,n,i,r){var o,s,a,u,l,c,d,f,h,p,m,g=ht.hasData(e)&&ht._data(e);if(g&&(c=g.events)){for(t=(t||"").match(At)||[""],l=t.length;l--;)if(a=Jt.exec(t[l])||[],h=m=a[1],p=(a[2]||"").split(".").sort(),h){for(d=ht.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,f=c[h]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)s=f[o],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(f.splice(o,1),s.selector&&f.delegateCount--,d.remove&&d.remove.call(e,s));u&&!f.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||ht.removeEvent(e,h,g.handle),delete c[h])}else for(h in c)ht.event.remove(e,h+t[l],n,i,!0);ht.isEmptyObject(c)&&(delete g.handle,ht._removeData(e,"events"))}},trigger:function(t,n,i,r){var o,s,a,u,l,c,d,f=[i||it],h=ct.call(t,"type")?t.type:t,p=ct.call(t,"namespace")?t.namespace.split("."):[];if(a=c=i=i||it,3!==i.nodeType&&8!==i.nodeType&&!Qt.test(h+ht.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),s=h.indexOf(":")<0&&"on"+h,t=t[ht.expando]?t:new ht.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ht.makeArray(n,[t]),l=ht.event.special[h]||{},r||!l.trigger||l.trigger.apply(i,n)!==!1)){if(!r&&!l.noBubble&&!ht.isWindow(i)){for(u=l.delegateType||h,Qt.test(u+h)||(a=a.parentNode);a;a=a.parentNode)f.push(a),c=a;c===(i.ownerDocument||it)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(a=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||h,o=(ht._data(a,"events")||{})[t.type]&&ht._data(a,"handle"),o&&o.apply(a,n),o=s&&a[s],o&&o.apply&&Dt(a)&&(t.result=o.apply(a,n),t.result===!1&&t.preventDefault());if(t.type=h,!r&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&Dt(i)&&s&&i[h]&&!ht.isWindow(i)){c=i[s],c&&(i[s]=null),ht.event.triggered=h;try{i[h]()}catch(m){}ht.event.triggered=void 0,c&&(i[s]=c)}return t.result}},dispatch:function(e){e=ht.event.fix(e);var t,n,i,r,o,s=[],a=rt.call(arguments),u=(ht._data(this,"events")||{})[e.type]||[],l=ht.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=ht.event.handlers.call(this,e,u),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((ht.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],n=0;a>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ht(r,this).index(u)>-1:ht.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&s.push({elem:u,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[ht.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Kt.test(r)?this.mouseHooks:Xt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ht.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||it),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||it,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==q()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===q()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ht.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ht.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var i=ht.extend(new ht.Event,n,{type:e,isSimulated:!0});ht.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}},ht.removeEvent=it.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},ht.Event=function(e,t){return this instanceof ht.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?_:y):this.type=e,t&&ht.extend(this,t),this.timeStamp=e&&e.timeStamp||ht.now(),void(this[ht.expando]=!0)):new ht.Event(e,t)},ht.Event.prototype={constructor:ht.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ht.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ht.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!ht.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),dt.submit||(ht.event.special.submit={setup:function(){return ht.nodeName(this,"form")?!1:void ht.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ht.nodeName(t,"input")||ht.nodeName(t,"button")?ht.prop(t,"form"):void 0;n&&!ht._data(n,"submit")&&(ht.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),ht._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&ht.event.simulate("submit",this.parentNode,e))},teardown:function(){return ht.nodeName(this,"form")?!1:void ht.event.remove(this,"._submit")}}),dt.change||(ht.event.special.change={setup:function(){return Gt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ht.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),ht.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),ht.event.simulate("change",this,e)})),!1):void ht.event.add(this,"beforeactivate._change",function(e){var t=e.target;Gt.test(t.nodeName)&&!ht._data(t,"change")&&(ht.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ht.event.simulate("change",this.parentNode,e)}),ht._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ht.event.remove(this,"._change"),!Gt.test(this.nodeName)}}),dt.focusin||ht.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ht.event.simulate(t,e.target,ht.event.fix(e))};ht.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ht._data(i,t);r||i.addEventListener(e,n,!0),ht._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ht._data(i,t)-1;r?ht._data(i,t,r):(i.removeEventListener(e,n,!0),ht._removeData(i,t))}}}),ht.fn.extend({on:function(e,t,n,i){return b(this,e,t,n,i)},one:function(e,t,n,i){return b(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ht(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=y),this.each(function(){ht.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ht.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ht.event.trigger(e,t,n,!0):void 0}});var Zt=/ jQuery\d+="(?:null|\d+)"/g,en=new RegExp("<(?:"+Wt+")[\\s/>]","i"),tn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,nn=/<script|<style|<link/i,rn=/checked\s*(?:[^=]|=\s*.checked.)/i,on=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an=h(it),un=an.appendChild(it.createElement("div"));ht.extend({htmlPrefilter:function(e){return e.replace(tn,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a,u=ht.contains(e.ownerDocument,e);if(dt.html5Clone||ht.isXMLDoc(e)||!en.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(un.innerHTML=e.outerHTML,un.removeChild(o=un.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ht.isXMLDoc(e)))for(i=p(o),a=p(e),s=0;null!=(r=a[s]);++s)i[s]&&T(r,i[s]);if(t)if(n)for(a=a||p(e),i=i||p(o),s=0;null!=(r=a[s]);s++)C(r,i[s]);else C(e,o);return i=p(o,"script"),i.length>0&&m(i,!u&&p(e,"script")),i=a=r=null,o},cleanData:function(e,t){for(var n,i,r,o,s=0,a=ht.expando,u=ht.cache,l=dt.attributes,c=ht.event.special;null!=(n=e[s]);s++)if((t||Dt(n))&&(r=n[a],o=r&&u[r])){if(o.events)for(i in o.events)c[i]?ht.event.remove(n,i):ht.removeEvent(n,i,o.handle);u[r]&&(delete u[r],l||"undefined"==typeof n.removeAttribute?n[a]=void 0:n.removeAttribute(a),nt.push(r))}}}),ht.fn.extend({domManip:E,detach:function(e){return P(this,e,!0)},remove:function(e){return P(this,e)},text:function(e){return Ot(this,function(e){return void 0===e?ht.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(e))},null,e,arguments.length)},append:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.appendChild(e)}})},prepend:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ht.cleanData(p(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ht.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ht.clone(this,e,t)})},html:function(e){return Ot(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Zt,""):void 0;if(!("string"!=typeof e||nn.test(e)||!dt.htmlSerialize&&en.test(e)||!dt.leadingWhitespace&&jt.test(e)||$t[(Bt.exec(e)||["",""])[1].toLowerCase()])){e=ht.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(ht.cleanData(p(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return E(this,arguments,function(t){var n=this.parentNode;ht.inArray(this,e)<0&&(ht.cleanData(p(this)),n&&n.replaceChild(t,this))},e)}}),ht.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ht.fn[e]=function(e){for(var n,i=0,r=[],o=ht(e),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),ht(o[i])[t](n),st.apply(r,n.get());return this.pushStack(r)}});var ln,cn={HTML:"block",BODY:"block"},dn=/^margin/,fn=new RegExp("^("+Rt+")(?!px)[a-z%]+$","i"),hn=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r
},pn=it.documentElement;!function(){function t(){var t,c,d=it.documentElement;d.appendChild(u),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=r=a=!1,i=s=!0,e.getComputedStyle&&(c=e.getComputedStyle(l),n="1%"!==(c||{}).top,a="2px"===(c||{}).marginLeft,r="4px"===(c||{width:"4px"}).width,l.style.marginRight="50%",i="4px"===(c||{marginRight:"4px"}).marginRight,t=l.appendChild(it.createElement("div")),t.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",s=!parseFloat((e.getComputedStyle(t)||{}).marginRight),l.removeChild(t)),l.style.display="none",o=0===l.getClientRects().length,o&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",l.childNodes[0].style.borderCollapse="separate",t=l.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===t[0].offsetHeight,o&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),d.removeChild(u)}var n,i,r,o,s,a,u=it.createElement("div"),l=it.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===l.style.opacity,dt.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===l.style.backgroundClip,u=it.createElement("div"),u.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",u.appendChild(l),dt.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,ht.extend(dt,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){return null==n&&t(),r},pixelMarginRight:function(){return null==n&&t(),i},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),s},reliableMarginLeft:function(){return null==n&&t(),a}}))}();var mn,gn,vn=/^(top|right|bottom|left)$/;e.getComputedStyle?(mn=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},gn=function(e,t,n){var i,r,o,s,a=e.style;return n=n||mn(e),s=n?n.getPropertyValue(t)||n[t]:void 0,""!==s&&void 0!==s||ht.contains(e.ownerDocument,e)||(s=ht.style(e,t)),n&&!dt.pixelMarginRight()&&fn.test(s)&&dn.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0===s?s:s+""}):pn.currentStyle&&(mn=function(e){return e.currentStyle},gn=function(e,t,n){var i,r,o,s,a=e.style;return n=n||mn(e),s=n?n[t]:void 0,null==s&&a&&a[t]&&(s=a[t]),fn.test(s)&&!vn.test(t)&&(i=a.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"});var _n=/alpha\([^)]*\)/i,yn=/opacity\s*=\s*([^)]*)/i,qn=/^(none|table(?!-c[ea]).+)/,bn=new RegExp("^("+Rt+")(.*)$","i"),wn={position:"absolute",visibility:"hidden",display:"block"},Sn={letterSpacing:"0",fontWeight:"400"},xn=["Webkit","O","Moz","ms"],Cn=it.createElement("div").style;ht.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=gn(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=ht.camelCase(t),u=e.style;if(t=ht.cssProps[a]||(ht.cssProps[a]=D(a)||a),s=ht.cssHooks[t]||ht.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:u[t];if(o=typeof n,"string"===o&&(r=Mt.exec(n))&&r[1]&&(n=f(e,t,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ht.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(e,n,i)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,i){var r,o,s,a=ht.camelCase(t);return t=ht.cssProps[a]||(ht.cssProps[a]=D(a)||a),s=ht.cssHooks[t]||ht.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=gn(e,t,i)),"normal"===o&&t in Sn&&(o=Sn[t]),""===n||n?(r=parseFloat(o),n===!0||isFinite(r)?r||0:o):o}}),ht.each(["height","width"],function(e,t){ht.cssHooks[t]={get:function(e,n,i){return n?qn.test(ht.css(e,"display"))&&0===e.offsetWidth?hn(e,wn,function(){return M(e,t,i)}):M(e,t,i):void 0},set:function(e,n,i){var r=i&&mn(e);return N(e,n,i?R(e,t,i,dt.boxSizing&&"border-box"===ht.css(e,"boxSizing",!1,r),r):0)}}}),dt.opacity||(ht.cssHooks.opacity={get:function(e,t){return yn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=ht.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ht.trim(o.replace(_n,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=_n.test(o)?o.replace(_n,r):o+" "+r)}}),ht.cssHooks.marginRight=k(dt.reliableMarginRight,function(e,t){return t?hn(e,{display:"inline-block"},gn,[e,"marginRight"]):void 0}),ht.cssHooks.marginLeft=k(dt.reliableMarginLeft,function(e,t){return t?(parseFloat(gn(e,"marginLeft"))||(ht.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-hn(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),ht.each({margin:"",padding:"",border:"Width"},function(e,t){ht.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Ht[i]+t]=o[i]||o[i-2]||o[0];return r}},dn.test(e)||(ht.cssHooks[e+t].set=N)}),ht.fn.extend({css:function(e,t){return Ot(this,function(e,t,n){var i,r,o={},s=0;if(ht.isArray(t)){for(i=mn(e),r=t.length;r>s;s++)o[t[s]]=ht.css(e,t[s],!1,i);return o}return void 0!==n?ht.style(e,t,n):ht.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Lt(this)?ht(this).show():ht(this).hide()})}}),ht.Tween=H,H.prototype={constructor:H,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||ht.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ht.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?ht.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ht.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ht.fx.step[e.prop]?ht.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ht.cssProps[e.prop]]&&!ht.cssHooks[e.prop]?e.elem[e.prop]=e.now:ht.style(e.elem,e.prop,e.now+e.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ht.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ht.fx=H.prototype.init,ht.fx.step={};var Tn,En,Pn=/^(?:toggle|show|hide)$/,An=/queueHooks$/;ht.Animation=ht.extend(j,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,Mt.exec(t),n),n}]},tweener:function(e,t){ht.isFunction(e)?(t=e,e=["*"]):e=e.match(At);for(var n,i=0,r=e.length;r>i;i++)n=e[i],j.tweeners[n]=j.tweeners[n]||[],j.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?j.prefilters.unshift(e):j.prefilters.push(e)}}),ht.speed=function(e,t,n){var i=e&&"object"==typeof e?ht.extend({},e):{complete:n||!n&&t||ht.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ht.isFunction(t)&&t};return i.duration=ht.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ht.fx.speeds?ht.fx.speeds[i.duration]:ht.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ht.isFunction(i.old)&&i.old.call(this),i.queue&&ht.dequeue(this,i.queue)},i},ht.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ht.isEmptyObject(e),o=ht.speed(t,n,i),s=function(){var t=j(this,ht.extend({},e),o);(r||ht._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=ht.timers,s=ht._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&An.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&ht.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ht._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=ht.timers,s=i?i.length:0;for(n.finish=!0,ht.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ht.each(["toggle","show","hide"],function(e,t){var n=ht.fn[t];ht.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,i,r)}}),ht.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ht.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ht.timers=[],ht.fx.tick=function(){var e,t=ht.timers,n=0;for(Tn=ht.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ht.fx.stop(),Tn=void 0},ht.fx.timer=function(e){ht.timers.push(e),e()?ht.fx.start():ht.timers.pop()},ht.fx.interval=13,ht.fx.start=function(){En||(En=e.setInterval(ht.fx.tick,ht.fx.interval))},ht.fx.stop=function(){e.clearInterval(En),En=null},ht.fx.speeds={slow:600,fast:200,_default:400},ht.fn.delay=function(t,n){return t=ht.fx?ht.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e,t=it.createElement("input"),n=it.createElement("div"),i=it.createElement("select"),r=i.appendChild(it.createElement("option"));n=it.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",dt.getSetAttribute="t"!==n.className,dt.style=/top/.test(e.getAttribute("style")),dt.hrefNormalized="/a"===e.getAttribute("href"),dt.checkOn=!!t.value,dt.optSelected=r.selected,dt.enctype=!!it.createElement("form").enctype,i.disabled=!0,dt.optDisabled=!r.disabled,t=it.createElement("input"),t.setAttribute("value",""),dt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),dt.radioValue="t"===t.value}();var Fn=/\r/g,kn=/[\x20\t\r\n\f]+/g;ht.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=ht.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,ht(this).val()):e,null==r?r="":"number"==typeof r?r+="":ht.isArray(r)&&(r=ht.map(r,function(e){return null==e?"":e+""})),t=ht.valHooks[this.type]||ht.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=ht.valHooks[r.type]||ht.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Fn,""):null==n?"":n)}}}),ht.extend({valHooks:{option:{get:function(e){var t=ht.find.attr(e,"value");return null!=t?t:ht.trim(ht.text(e)).replace(kn," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,u=0>r?a:o?r:0;a>u;u++)if(n=i[u],!(!n.selected&&u!==r||(dt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ht.nodeName(n.parentNode,"optgroup"))){if(t=ht(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=ht.makeArray(t),s=r.length;s--;)if(i=r[s],ht.inArray(ht.valHooks.option.get(i),o)>-1)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),ht.each(["radio","checkbox"],function(){ht.valHooks[this]={set:function(e,t){return ht.isArray(t)?e.checked=ht.inArray(ht(e).val(),t)>-1:void 0}},dt.checkOn||(ht.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Dn,In,Nn=ht.expr.attrHandle,Rn=/^(?:checked|selected)$/i,Mn=dt.getSetAttribute,Hn=dt.input;ht.fn.extend({attr:function(e,t){return Ot(this,ht.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ht.removeAttr(this,e)})}}),ht.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ht.prop(e,t,n):(1===o&&ht.isXMLDoc(e)||(t=t.toLowerCase(),r=ht.attrHooks[t]||(ht.expr.match.bool.test(t)?In:Dn)),void 0!==n?null===n?void ht.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ht.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!dt.radioValue&&"radio"===t&&ht.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(At);if(o&&1===e.nodeType)for(;n=o[r++];)i=ht.propFix[n]||n,ht.expr.match.bool.test(n)?Hn&&Mn||!Rn.test(n)?e[i]=!1:e[ht.camelCase("default-"+n)]=e[i]=!1:ht.attr(e,n,""),e.removeAttribute(Mn?n:i)}}),In={set:function(e,t,n){return t===!1?ht.removeAttr(e,n):Hn&&Mn||!Rn.test(n)?e.setAttribute(!Mn&&ht.propFix[n]||n,n):e[ht.camelCase("default-"+n)]=e[n]=!0,n}},ht.each(ht.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Nn[t]||ht.find.attr;Nn[t]=Hn&&Mn||!Rn.test(t)?function(e,t,i){var r,o;return i||(o=Nn[t],Nn[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Nn[t]=o),r}:function(e,t,n){return n?void 0:e[ht.camelCase("default-"+t)]?t.toLowerCase():null}}),Hn&&Mn||(ht.attrHooks.value={set:function(e,t,n){return ht.nodeName(e,"input")?void(e.defaultValue=t):Dn&&Dn.set(e,t,n)}}),Mn||(Dn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Nn.id=Nn.name=Nn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},ht.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Dn.set},ht.attrHooks.contenteditable={set:function(e,t,n){Dn.set(e,""===t?!1:t,n)}},ht.each(["width","height"],function(e,t){ht.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),dt.style||(ht.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ln=/^(?:input|select|textarea|button|object)$/i,On=/^(?:a|area)$/i;ht.fn.extend({prop:function(e,t){return Ot(this,ht.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ht.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ht.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ht.isXMLDoc(e)||(t=ht.propFix[t]||t,r=ht.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ht.find.attr(e,"tabindex");return t?parseInt(t,10):Ln.test(e.nodeName)||On.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||ht.each(["href","src"],function(e,t){ht.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),dt.optSelected||(ht.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ht.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ht.propFix[this.toLowerCase()]=this}),dt.enctype||(ht.propFix.enctype="encoding");var Un=/[\t\r\n\f]/g;ht.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,u=0;if(ht.isFunction(e))return this.each(function(t){ht(this).addClass(e.call(this,t,W(this)))});if("string"==typeof e&&e)for(t=e.match(At)||[];n=this[u++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(Un," ")){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ht.trim(i),r!==a&&ht.attr(n,"class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,u=0;if(ht.isFunction(e))return this.each(function(t){ht(this).removeClass(e.call(this,t,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(At)||[];n=this[u++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(Un," ")){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=ht.trim(i),r!==a&&ht.attr(n,"class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ht.isFunction(e)?function(n){ht(this).toggleClass(e.call(this,n,W(this),t),t)}:function(){var t,i,r,o;if("string"===n)for(i=0,r=ht(this),o=e.match(At)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(void 0===e||"boolean"===n)&&(t=W(this),t&&ht._data(this,"__className__",t),ht.attr(this,"class",t||e===!1?"":ht._data(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(Un," ").indexOf(t)>-1)return!0;return!1}}),ht.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ht.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ht.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Bn=e.location,zn=ht.now(),jn=/\?/,Wn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ht.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=ht.trim(t+"");return r&&!ht.trim(r.replace(Wn,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!o-!r,"")}))?Function("return "+r)():ht.error("Invalid JSON: "+t)},ht.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new e.DOMParser,n=i.parseFromString(t,"text/xml")):(n=new e.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ht.error("Invalid XML: "+t),n};var $n=/#.*$/,Vn=/([?&])_=[^&]*/,Yn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Xn=/^(?:GET|HEAD)$/,Kn=/^\/\//,Qn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Jn={},Zn={},ei="*/".concat("*"),ti=Bn.href,ni=Qn.exec(ti.toLowerCase())||[];ht.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ti,type:"GET",isLocal:Gn.test(ni[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ei,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ht.parseJSON,"text xml":ht.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,ht.ajaxSettings),t):Y(ht.ajaxSettings,e)},ajaxPrefilter:$(Jn),ajaxTransport:$(Zn),ajax:function(t,n){function i(t,n,i,r){var o,d,_,y,b,S=n;2!==q&&(q=2,u&&e.clearTimeout(u),c=void 0,a=r||"",w.readyState=t>0?4:0,o=t>=200&&300>t||304===t,i&&(y=G(f,w,i)),y=X(f,y,w,o),o?(f.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(ht.lastModified[s]=b),b=w.getResponseHeader("etag"),b&&(ht.etag[s]=b)),204===t||"HEAD"===f.type?S="nocontent":304===t?S="notmodified":(S=y.state,d=y.data,_=y.error,o=!_)):(_=S,(t||!S)&&(S="error",0>t&&(t=0))),w.status=t,w.statusText=(n||S)+"",o?m.resolveWith(h,[d,S,w]):m.rejectWith(h,[w,S,_]),w.statusCode(v),v=void 0,l&&p.trigger(o?"ajaxSuccess":"ajaxError",[w,f,o?d:_]),g.fireWith(h,[w,S]),l&&(p.trigger("ajaxComplete",[w,f]),--ht.active||ht.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,s,a,u,l,c,d,f=ht.ajaxSetup({},n),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?ht(h):ht.event,m=ht.Deferred(),g=ht.Callbacks("once memory"),v=f.statusCode||{},_={},y={},q=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===q){if(!d)for(d={};t=Yn.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===q?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return q||(e=y[n]=y[n]||e,_[e]=t),this},overrideMimeType:function(e){return q||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>q)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return c&&c.abort(t),i(0,t),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((t||f.url||ti)+"").replace($n,"").replace(Kn,ni[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=ht.trim(f.dataType||"*").toLowerCase().match(At)||[""],null==f.crossDomain&&(r=Qn.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===ni[1]&&r[2]===ni[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(ni[3]||("http:"===ni[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ht.param(f.data,f.traditional)),V(Jn,f,n,w),2===q)return w;l=ht.event&&f.global,l&&0===ht.active++&&ht.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Xn.test(f.type),s=f.url,f.hasContent||(f.data&&(s=f.url+=(jn.test(s)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Vn.test(s)?s.replace(Vn,"$1_="+zn++):s+(jn.test(s)?"&":"?")+"_="+zn++)),f.ifModified&&(ht.lastModified[s]&&w.setRequestHeader("If-Modified-Since",ht.lastModified[s]),ht.etag[s]&&w.setRequestHeader("If-None-Match",ht.etag[s])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+ei+"; q=0.01":""):f.accepts["*"]);for(o in f.headers)w.setRequestHeader(o,f.headers[o]);if(f.beforeSend&&(f.beforeSend.call(h,w,f)===!1||2===q))return w.abort();b="abort";for(o in{success:1,error:1,complete:1})w[o](f[o]);if(c=V(Zn,f,n,w)){if(w.readyState=1,l&&p.trigger("ajaxSend",[w,f]),2===q)return w;f.async&&f.timeout>0&&(u=e.setTimeout(function(){w.abort("timeout")},f.timeout));try{q=1,c.send(_,i)}catch(S){if(!(2>q))throw S;i(-1,S)}}else i(-1,"No Transport");return w},getJSON:function(e,t,n){return ht.get(e,t,n,"json")},getScript:function(e,t){return ht.get(e,void 0,t,"script")}}),ht.each(["get","post"],function(e,t){ht[t]=function(e,n,i,r){return ht.isFunction(n)&&(r=r||i,i=n,n=void 0),ht.ajax(ht.extend({url:e,type:t,dataType:r,data:n,success:i},ht.isPlainObject(e)&&e))}}),ht._evalUrl=function(e){return ht.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ht.fn.extend({wrapAll:function(e){if(ht.isFunction(e))return this.each(function(t){ht(this).wrapAll(e.call(this,t))});if(this[0]){var t=ht(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ht.isFunction(e)?function(t){ht(this).wrapInner(e.call(this,t))}:function(){var t=ht(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ht.isFunction(e);return this.each(function(n){ht(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ht.nodeName(this,"body")||ht(this).replaceWith(this.childNodes)}).end()}}),ht.expr.filters.hidden=function(e){return dt.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)},ht.expr.filters.visible=function(e){return!ht.expr.filters.hidden(e)};var ii=/%20/g,ri=/\[\]$/,oi=/\r?\n/g,si=/^(?:submit|button|image|reset|file)$/i,ai=/^(?:input|select|textarea|keygen)/i;ht.param=function(e,t){var n,i=[],r=function(e,t){t=ht.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ht.ajaxSettings&&ht.ajaxSettings.traditional),ht.isArray(e)||e.jquery&&!ht.isPlainObject(e))ht.each(e,function(){r(this.name,this.value)});else for(n in e)J(n,e[n],t,r);return i.join("&").replace(ii,"+")},ht.fn.extend({serialize:function(){return ht.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ht.prop(this,"elements");return e?ht.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ht(this).is(":disabled")&&ai.test(this.nodeName)&&!si.test(e)&&(this.checked||!Ut.test(e))}).map(function(e,t){var n=ht(this).val();return null==n?null:ht.isArray(n)?ht.map(n,function(e){return{name:t.name,value:e.replace(oi,"\r\n")}}):{name:t.name,value:n.replace(oi,"\r\n")}}).get()}}),ht.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?et():it.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||et()}:Z;var ui=0,li={},ci=ht.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in li)li[e](void 0,!0)}),dt.cors=!!ci&&"withCredentials"in ci,ci=dt.ajax=!!ci,ci&&ht.ajaxTransport(function(t){if(!t.crossDomain||dt.cors){var n;return{send:function(i,r){var o,s=t.xhr(),a=++ui;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)void 0!==i[o]&&s.setRequestHeader(o,i[o]+"");s.send(t.hasContent&&t.data||null),n=function(e,i){var o,u,l;if(n&&(i||4===s.readyState))if(delete li[a],n=void 0,s.onreadystatechange=ht.noop,i)4!==s.readyState&&s.abort();else{l={},o=s.status,"string"==typeof s.responseText&&(l.text=s.responseText);try{u=s.statusText}catch(c){u=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&r(o,u,l,s.getAllResponseHeaders())},t.async?4===s.readyState?e.setTimeout(n):s.onreadystatechange=li[a]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),ht.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ht.globalEval(e),e}}}),ht.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ht.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=it.head||ht("head")[0]||it.documentElement;return{send:function(i,r){t=it.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var di=[],fi=/(=)\?(?=&|$)|\?\?/;ht.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=di.pop()||ht.expando+"_"+zn++;return this[e]=!0,e}}),ht.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=t.jsonp!==!1&&(fi.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&fi.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=ht.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(fi,"$1"+r):t.jsonp!==!1&&(t.url+=(jn.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||ht.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){void 0===o?ht(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,di.push(r)),s&&ht.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ht.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||it;var i=wt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=v([e],t,r),r&&r.length&&ht(r).remove(),ht.merge([],i.childNodes))};var hi=ht.fn.load;ht.fn.load=function(e,t,n){if("string"!=typeof e&&hi)return hi.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=ht.trim(e.slice(a,e.length)),e=e.slice(0,a)),ht.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&ht.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?ht("<div>").append(ht.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ht.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ht.fn[t]=function(e){return this.on(t,e)}}),ht.expr.filters.animated=function(e){return ht.grep(ht.timers,function(t){return e===t.elem}).length},ht.offset={setOffset:function(e,t,n){var i,r,o,s,a,u,l,c=ht.css(e,"position"),d=ht(e),f={};"static"===c&&(e.style.position="relative"),a=d.offset(),o=ht.css(e,"top"),u=ht.css(e,"left"),l=("absolute"===c||"fixed"===c)&&ht.inArray("auto",[o,u])>-1,l?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),ht.isFunction(t)&&(t=t.call(e,n,ht.extend({},a))),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+r),"using"in t?t.using.call(e,f):d.css(f)}},ht.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ht.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,ht.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=tt(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ht.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ht.nodeName(e[0],"html")||(n=e.offset()),n.top+=ht.css(e[0],"borderTopWidth",!0),n.left+=ht.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ht.css(i,"marginTop",!0),left:t.left-n.left-ht.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!ht.nodeName(e,"html")&&"static"===ht.css(e,"position");)e=e.offsetParent;return e||pn})}}),ht.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ht.fn[e]=function(i){return Ot(this,function(e,i,r){var o=tt(e);return void 0===r?o?t in o?o[t]:o.document.documentElement[i]:e[i]:void(o?o.scrollTo(n?ht(o).scrollLeft():r,n?r:ht(o).scrollTop()):e[i]=r)},e,i,arguments.length,null)}}),ht.each(["top","left"],function(e,t){ht.cssHooks[t]=k(dt.pixelPosition,function(e,n){return n?(n=gn(e,t),fn.test(n)?ht(e).position()[t]+"px":n):void 0})}),ht.each({Height:"height",Width:"width"},function(e,t){ht.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ht.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return Ot(this,function(t,n,i){var r;return ht.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?ht.css(t,n,s):ht.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),ht.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)
},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ht.fn.size=function(){return this.length},ht.fn.andSelf=ht.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ht});var pi=e.jQuery,mi=e.$;return ht.noConflict=function(t){return e.$===ht&&(e.$=mi),t&&e.jQuery===ht&&(e.jQuery=pi),ht},t||(e.jQuery=e.$=ht),ht}),function(e){function t(t,i,r){var o=this;return this.on("click.pjax",t,function(t){var s=e.extend({},m(i,r));s.container||(s.container=e(this).attr("data-pjax")||o),n(t,s)})}function n(t,n,i){i=m(n,i);var o=t.currentTarget;if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==o.protocol||location.hostname!==o.hostname||o.href.indexOf("#")>-1&&p(o)==p(location)||t.isDefaultPrevented())){var s={url:o.href,container:e(o).attr("data-pjax"),target:o},a=e.extend({},s,i),u=e.Event("pjax:click");e(o).trigger(u,[a]),u.isDefaultPrevented()||(r(a),t.preventDefault(),e(o).trigger("pjax:clicked",[a]))}}function i(t,n,i){i=m(n,i);var o=t.currentTarget;if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:o.method.toUpperCase(),url:o.action,container:e(o).attr("data-pjax"),target:o};if("GET"!==s.type&&void 0!==window.FormData)s.data=new FormData(o),s.processData=!1,s.contentType=!1;else{if(e(o).find(":file").length)return;s.data=e(o).serializeArray()}r(e.extend({},s,i)),t.preventDefault()}function r(t){function n(t,n,r){r||(r={}),r.relatedTarget=i;var o=e.Event(t,r);return a.trigger(o,n),!o.isDefaultPrevented()}t=e.extend(!0,{},e.ajaxSettings,r.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var i=t.target,o=h(t.url).hash,a=t.context=g(t.container);t.data||(t.data={}),e.isArray(t.data)?t.data.push({name:"_pjax",value:a.selector}):t.data._pjax=a.selector;var u;t.beforeSend=function(e,i){if("GET"!==i.type&&(i.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",a.selector),!n("pjax:beforeSend",[e,i]))return!1;i.timeout>0&&(u=setTimeout(function(){n("pjax:timeout",[e,t])&&e.abort("timeout")},i.timeout),i.timeout=0);var r=h(i.url);o&&(r.hash=o),t.requestUrl=f(r)},t.complete=function(e,i){u&&clearTimeout(u),n("pjax:complete",[e,i,t]),n("pjax:end",[e,t])},t.error=function(e,i,r){var o=y("",e,t),a=n("pjax:error",[e,i,r,t]);"GET"==t.type&&"abort"!==i&&a&&s(o.url)},t.success=function(i,u,l){var d=r.state,f="function"==typeof e.pjax.defaults.version?e.pjax.defaults.version():e.pjax.defaults.version,p=l.getResponseHeader("X-PJAX-Version"),m=y(i,l,t),g=h(m.url);if(o&&(g.hash=o,m.url=g.href),f&&p&&f!==p)return void s(m.url);if(!m.contents)return void s(m.url);r.state={id:t.id||c(),url:m.url,title:m.title,container:a.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(r.state,m.title,m.url);try{document.activeElement.blur()}catch(v){}m.title&&(document.title=m.title),n("pjax:beforeReplace",[m.contents,t],{state:r.state,previousState:d}),a.html(m.contents);var _=a.find("input[autofocus], textarea[autofocus]").last()[0];_&&document.activeElement!==_&&_.focus(),q(m.scripts);var b=t.scrollTo;if(o){var w=decodeURIComponent(o.slice(1)),S=document.getElementById(w)||document.getElementsByName(w)[0];S&&(b=e(S).offset().top)}"number"==typeof b&&e(window).scrollTop(b),n("pjax:success",[i,u,l,t])},r.state||(r.state={id:c(),url:window.location.href,title:document.title,container:a.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(r.state,document.title)),l(r.xhr),r.options=t;var p=r.xhr=e.ajax(t);return p.readyState>0&&(t.push&&!t.replace&&(b(r.state.id,d(a)),window.history.pushState(null,"",t.requestUrl)),n("pjax:start",[p,t]),n("pjax:send",[p,t])),r.xhr}function o(t,n){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(e.extend(i,m(t,n)))}function s(e){window.history.replaceState(null,"",r.state.url),window.location.replace(e)}function a(t){E||l(r.xhr);var n,i=r.state,o=t.state;if(o&&o.container){if(E&&P==o.url)return;if(i){if(i.id===o.id)return;n=i.id<o.id?"forward":"back"}var a=F[o.id]||[],u=e(a[0]||o.container),c=a[1];if(u.length){i&&w(n,i.id,d(u));var f=e.Event("pjax:popstate",{state:o,direction:n});u.trigger(f);var h={id:o.id,url:o.url,container:u,push:!1,fragment:o.fragment,timeout:o.timeout,scrollTo:!1};if(c){u.trigger("pjax:start",[null,h]),r.state=o,o.title&&(document.title=o.title);var p=e.Event("pjax:beforeReplace",{state:o,previousState:i});u.trigger(p,[c,h]),u.html(c),u.trigger("pjax:end",[null,h])}else r(h);u[0].offsetHeight}else s(location.href)}E=!1}function u(t){var n=e.isFunction(t.url)?t.url():t.url,i=t.type?t.type.toUpperCase():"GET",r=e("<form>",{method:"GET"===i?"GET":"POST",action:n,style:"display:none"});"GET"!==i&&"POST"!==i&&r.append(e("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var o=t.data;if("string"==typeof o)e.each(o.split("&"),function(t,n){var i=n.split("=");r.append(e("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if(e.isArray(o))e.each(o,function(t,n){r.append(e("<input>",{type:"hidden",name:n.name,value:n.value}))});else if("object"==typeof o){var s;for(s in o)r.append(e("<input>",{type:"hidden",name:s,value:o[s]}))}e(document.body).append(r),r.submit()}function l(t){t&&t.readyState<4&&(t.onreadystatechange=e.noop,t.abort())}function c(){return(new Date).getTime()}function d(e){var t=e.clone();return t.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[e.selector,t.contents()]}function f(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),e.href.replace(/\?($|#)/,"$1")}function h(e){var t=document.createElement("a");return t.href=e,t}function p(e){return e.href.replace(/#.*/,"")}function m(t,n){return t&&n?n.container=t:n=e.isPlainObject(t)?t:{container:t},n.container&&(n.container=g(n.container)),n}function g(t){if(t=e(t),t.length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function v(e,t){return e.filter(t).add(e.find(t))}function _(t){return e.parseHTML(t,document,!0)}function y(t,n,i){var r={},o=/<html/i.test(t),s=n.getResponseHeader("X-PJAX-URL");if(r.url=s?f(h(s)):i.requestUrl,o)var a=e(_(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),u=e(_(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var a=u=e(_(t));if(0===u.length)return r;if(r.title=v(a,"title").last().text(),i.fragment){if("body"===i.fragment)var l=u;else var l=v(u,i.fragment).first();l.length&&(r.contents="body"===i.fragment?l:l.contents(),r.title||(r.title=l.attr("title")||l.data("title")))}else o||(r.contents=u);return r.contents&&(r.contents=r.contents.not(function(){return e(this).is("title")}),r.contents.find("title").remove(),r.scripts=v(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=e.trim(r.title)),r}function q(t){if(t){var n=e("script[src]");t.each(function(){var t=this.src,i=n.filter(function(){return this.src===t});if(!i.length){var r=document.createElement("script"),o=e(this).attr("type");o&&(r.type=o),r.src=e(this).attr("src"),document.head.appendChild(r)}})}}function b(e,t){F[e]=t,D.push(e),S(k,0),S(D,r.defaults.maxCacheLength)}function w(e,t,n){var i,o;F[t]=n,"forward"===e?(i=D,o=k):(i=k,o=D),i.push(t),(t=o.pop())&&delete F[t],S(i,r.defaults.maxCacheLength)}function S(e,t){for(;e.length>t;)delete F[e.shift()]}function x(){return e("meta").filter(function(){var t=e(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function C(){e.fn.pjax=t,e.pjax=r,e.pjax.enable=e.noop,e.pjax.disable=T,e.pjax.click=n,e.pjax.submit=i,e.pjax.reload=o,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:x},e(window).on("popstate.pjax",a)}function T(){e.fn.pjax=function(){return this},e.pjax=u,e.pjax.enable=C,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",a)}var E=!0,P=window.location.href,A=window.history.state;A&&A.container&&(r.state=A),"state"in window.history&&(E=!1);var F={},k=[],D=[];e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),e.support.pjax?C():T()}(jQuery),function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&e.data("remote")!==!1},handleRemote:function(i){var r,o,s,a,u,l;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.data("ujs:submit-button-formmethod")||i.attr("method"),o=i.data("ujs:submit-button-formaction")||i.attr("action"),s=e(i[0]).serializeArray();var c=i.data("ujs:submit-button");c&&(s.push(c),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);return l={type:r||"GET",data:s,dataType:u,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])?void i.trigger("ajax:send",e):!1},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(o)},a&&(l.xhrFields={withCredentials:a}),o&&(l.url=o),n.ajax(l)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=n.csrfToken(),u=n.csrfParam(),l=e('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';u===t||a===t||n.isCrossDomain(r)||(c+='<input name="'+u+'" value="'+a+'" type="hidden" />'),s&&l.attr("target",s),l.hide().append(c).appendTo("body"),l.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),i!==t&&(e.data("ujs:enable-with",e[n]()),e[n](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,i=e.data("confirm"),r=!1;if(!i)return!0;if(n.fire(e,"confirm")){try{r=n.confirm(i)}catch(o){(console.error||console.log).call(console,o.stack||o)}t=n.fire(e,"confirm:complete",[r])}return r&&t},blankInputs:function(t,n,i){var r,o,s,a,u=e(),l=n||"input,textarea",c=t.find(l),d={};return c.each(function(){r=e(this),r.is("input[type=radio]")?(a=r.attr("name"),d[a]||(0===t.find('input[type=radio]:checked[name="'+a+'"]').length&&(s=t.find('input[type=radio][name="'+a+'"]'),u=u.add(s)),d[a]=a)):(o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),o===i&&(u=u.add(r)))}),u.length?u:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");i!==t&&(e.data("ujs:enable-with",e.html()),e.html(i)),e.bind("click.railsDisable",function(e){return n.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(e(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(e(this))}),i.on("click.rails",n.linkClickSelector,function(t){var i=e(this),r=i.data("method"),o=i.data("params"),s=t.metaKey||t.ctrlKey;if(!n.allowAction(i))return n.stopEverything(t);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=n.handleRemote(i);return a===!1?n.enableElement(i):a.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(t){var i=e(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(t){var i=e(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.on("submit.rails",n.formSubmitSelector,function(i){var r,o,s=e(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===t)if(s.data("ujs:formnovalidate-button")===t){if(r=n.blankInputs(s,n.requiredInputSelector,!1),r&&n.fire(s,"ajax:aborted:required",[r]))return n.stopEverything(i)}else s.data("ujs:formnovalidate-button",t);if(a){if(o=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var u=n.fire(s,"ajax:aborted:file",[o]);return u||setTimeout(function(){n.enableFormElements(s)},13),u}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),i.on("click.rails",n.formInputClickSelector,function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null,s=i.closest("form");0===s.length&&(s=e("#"+i.attr("form"))),s.data("ujs:submit-button",o),s.data("ujs:formnovalidate-button",i.attr("formnovalidate")),s.data("ujs:submit-button-formaction",i.attr("formaction")),s.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(t){this===t.target&&n.disableFormElements(e(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(e){"use strict";function t(e,t,n){function i(i,r){s(),e.data("hasActiveHover")||(i?(r&&e.data("forcedOpen",!0),n.showTip(e)):(c.popOpenImminent=!0,a=setTimeout(function(){a=null,o(e)},t.intentPollInterval)))}function r(i){s(),e.data("hasActiveHover")&&(c.popOpenImminent=!1,e.data("forcedOpen",!1),i?n.hideTip(e):a=setTimeout(function(){a=null,n.hideTip(e)},t.closeDelay))}function o(){var r=Math.abs(c.previousX-c.currentX),o=Math.abs(c.previousY-c.currentY),s=r+o;s<t.intentSensitivity?n.showTip(e):(c.previousX=c.currentX,c.previousY=c.currentY,i())}function s(){a=clearTimeout(a)}var a=null;return{show:i,hide:r,cancel:s}}function n(t){function n(e){e.data("hasActiveHover",!0),g.queue(function(t){i(e),t()})}function i(n){if(n.data("hasActiveHover")){if(c.isPopOpen)return c.isClosing||r(c.activeHover),void g.delay(100).queue(function(e){i(n),e()});n.trigger("powerTipPreRender");var o=n.data("powertip"),s=n.data("powertiptarget"),u=n.data("powertipjq"),l=s?e("#"+s):[];if(o)g.html(o);else if(u&&u.length>0)g.empty(),u.clone(!0,!0).appendTo(g);else{if(!(l&&l.length>0))return;g.html(e("#"+s).html())}n.trigger("powerTipRender"),a.on("closePowerTip",function(){n.data("displayController").hide(!0)}),c.activeHover=n,c.isPopOpen=!0,g.data("followMouse",t.followMouse),g.data("mouseOnToPopup",t.mouseOnToPopup),t.followMouse?f():(h(n),c.isFixedPopOpen=!0),g.fadeIn(t.fadeInTime,function(){c.desyncTimeout||(c.desyncTimeout=setInterval(d,500)),n.trigger("powerTipOpen")})}}function r(e){c.isClosing=!0,e.data("hasActiveHover",!1),e.data("forcedOpen",!1),c.activeHover=null,c.isPopOpen=!1,c.desyncTimeout=clearInterval(c.desyncTimeout),a.off("closePowerTip"),g.fadeOut(t.fadeOutTime,function(){c.isClosing=!1,c.isFixedPopOpen=!1,g.removeClass(),m(c.currentX+t.offset,c.currentY+t.offset),e.trigger("powerTipClose")})}function d(){if(c.isPopOpen&&!c.isClosing){var e=!1;c.activeHover.data("hasActiveHover")===!1?e=!0:o(c.activeHover)||c.activeHover.is(":focus")||c.activeHover.data("forcedOpen")||(g.data("mouseOnToPopup")?o(g)||(e=!0):e=!0),e&&r(c.activeHover)}}function f(){if(c.isPopOpen&&!c.isFixedPopOpen||c.popOpenImminent&&!c.isFixedPopOpen&&g.data("hasMouseMove")){var e=u.scrollTop(),n=u.width(),i=u.height(),r=g.outerWidth(),o=g.outerHeight(),s=0,a=0;s=r+c.currentX+t.offset<n?c.currentX+t.offset:n-r,a=o+c.currentY+t.offset<e+i?c.currentY+t.offset:e+i-o,m(s,a)}}function h(n){var i,r,o,a,u=g.outerWidth(),l=g.outerHeight();t.smartPlacement?(i=e.fn.powerTip.smartPlacementLists[t.placement],e.each(i,function(e,t){return r=p(n,t,u,l),o=t,a=s(r,u,l),0===a.length?!1:void 0})):(r=p(n,t.placement,u,l),o=t.placement),g.addClass(o),m(r.x,r.y)}function p(e,n,i,r){var o=e.offset(),s=e.outerWidth(),a=e.outerHeight(),u=0,l=0;switch(n){case"n":u=o.left+s/2-i/2,l=o.top-r-t.offset;break;case"e":u=o.left+s+t.offset,l=o.top+a/2-r/2;break;case"s":u=o.left+s/2-i/2,l=o.top+a+t.offset;break;case"w":u=o.left-i-t.offset,l=o.top+a/2-r/2;break;case"nw":u=o.left-i+20,l=o.top-r-t.offset;break;case"ne":u=o.left+s-20,l=o.top-r-t.offset;break;case"sw":u=o.left-i+20,l=o.top+a+t.offset;break;case"se":u=o.left+s-20,l=o.top+a+t.offset}return{x:Math.round(u),y:Math.round(l)}}function m(e,t){g.css("left",e+"px"),g.css("top",t+"px")}var g=e("#"+t.popupId);return 0===g.length&&(g=e("<div></div>",{id:t.popupId}),0===l.length&&(l=e("body")),l.append(g)),t.followMouse&&(g.data("hasMouseMove")||a.on({mousemove:f,scroll:f}),g.data("hasMouseMove",!0)),(t.followMouse||t.mouseOnToPopup)&&g.on({mouseenter:function(){(g.data("followMouse")||g.data("mouseOnToPopup"))&&c.activeHover&&c.activeHover.data("displayController").cancel()},mouseleave:function(){g.data("mouseOnToPopup")&&c.activeHover&&c.activeHover.data("displayController").hide()}}),{showTip:n,hideTip:r}}function i(){var t=0,n=0;c.mouseTrackingActive||(c.mouseTrackingActive=!0,e(function(){t=a.scrollLeft(),n=a.scrollTop()}),a.on({mousemove:r,scroll:function(){var e=a.scrollLeft(),i=a.scrollTop();e!==t&&(c.currentX+=e-t,t=e),i!==n&&(c.currentY+=i-n,n=i)}}))}function r(e){c.currentX=e.pageX,c.currentY=e.pageY}function o(e){var t=e.offset();return c.currentX>=t.left&&c.currentX<=t.left+e.outerWidth()&&c.currentY>=t.top&&c.currentY<=t.top+e.outerHeight()}function s(e,t,n){var i=u.scrollLeft(),r=u.scrollTop(),o=u.width(),s=u.height(),a=[];return e.y<r&&a.push("top"),e.y+n>r+s&&a.push("bottom"),e.x<i&&a.push("left"),e.x+t>i+o&&a.push("right"),a}var a=e(document),u=e(window),l=e("body"),c={isPopOpen:!1,isFixedPopOpen:!1,isClosing:!1,popOpenImminent:!1,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,mouseTrackingActive:!1};e.fn.powerTip=function(s){if(!this.length)return this;var a=e.extend({},e.fn.powerTip.defaults,s),u=new n(a);return i(),this.each(function(){var n=e(this),i=n.data("powertip"),r=n.data("powertipjq"),o=n.data("powertiptarget"),s=n.attr("title");i||o||r||!s||(n.data("powertip",s),n.removeAttr("title")),n.data("displayController",new t(n,a,u))}),this.on({mouseenter:function(t){r(t),c.previousX=t.pageX,c.previousY=t.pageY,e(this).data("displayController").show()},mouseleave:function(){e(this).data("displayController").hide()},focus:function(){var t=e(this);o(t)||t.data("displayController").show(!0)},blur:function(){e(this).data("displayController").hide(!0)}})},e.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:!1,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",smartPlacement:!1,offset:10,mouseOnToPopup:!1},e.fn.powerTip.smartPlacementLists={n:["n","ne","nw","s"],e:["e","ne","se","w","nw","sw","n","s","e"],s:["s","se","sw","n"],w:["w","nw","sw","e","ne","se","n","s","w"],nw:["nw","w","sw","n","s","se","nw"],ne:["ne","e","se","n","s","sw","ne"],sw:["sw","w","nw","s","n","ne","sw"],se:["se","e","ne","s","n","nw","se"]},e.powerTip={showTip:function(t){e.powerTip.closeTip(),t=t.first(),o(t)||t.data("displayController").show(!0,!0)},closeTip:function(){a.triggerHandler("closePowerTip")}}}(jQuery),function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0)}),this.submit(function(t){function i(){var i;return n.settings.submitHandler?(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t&=n.element(this)}),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i=this[0];if(t){var r=e.data(i.form,"validator").settings,o=r.rules,s=e.validator.staticRules(i);switch(t){case"add":e.extend(s,e.validator.normalizeRule(n)),o[i.name]=s,n.messages&&(r.messages[i.name]=e.extend(r.messages[i.name],n.messages));break;case"remove":if(!n)return delete o[i.name],s;var a={};return e.each(n.split(/\s/),function(e,t){a[t]=s[t],delete s[t]}),a}}var u=e.validator.normalizeRules(e.extend({},e.validator.classRules(i),e.validator.attributeRules(i),e.validator.dataRules(i),e.validator.staticRules(i)),i);if(u.required){var l=u.required;delete u.required,u=e.extend({required:l},u)}return u}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+t.value)},filled:function(t){return!!e.trim(""+t.value)},unchecked:function(e){return!e.checked}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),n)}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,"");n.settings[i]&&n.settings[i].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};e.each(this.settings.groups,function(t,i){e.each(i.split(/\s/),function(e,i){n[i]=t})});var i=this.settings.rules;e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t)!==!1;return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),i=e(t).val();return"radio"===n||"checkbox"===n?e('input[name="'+e(t).attr("name")+'"]:checked').val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i=e(t).rules(),r=!1,o=this.elementValue(t);for(var s in i){var a={method:s,parameters:i[s]};try{if(n=e.validator.methods[s].call(this,o,t,a.parameters),"dependency-mismatch"===n){r=!0;continue}if(r=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,a),!1}catch(u){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+a.method+"' method",u),u}}return r?void 0:(this.objectLength(i)&&this.successList.push(t),!0)},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];
return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):r.test(i)&&(i=e.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i=this.errorsFor(t);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.attr("generated")&&i.html(n)):(i=e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t))),!n&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,t)),this.toShow=this.toShow.add(i)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find('[name="'+t+'"]')},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},i=e(t);for(var r in e.validator.methods){var o;"required"===r?(o=i.get(0).getAttribute(r),""===o&&(o=!0),o=!!o):o=i.attr(r),o?n[r]=o:i[0].getAttribute("type")===r&&(n[r]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,i,r={},o=e(t);for(n in e.validator.methods)i=o.data("rule-"+n.toLowerCase()),void 0!==i&&(r[n]=i);return r},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,r){if(r===!1)return void delete t[i];if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!e(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?t[i]=void 0!==r.param?r.param:!0:delete t[i]}}),e.each(t,function(i,r){t[i]=e.isFunction(r)?r(n):r}),e.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=e(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var r=this.previousValue(n);if(this.settings.messages[n.name]||(this.settings.messages[n.name]={}),r.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=r.message,i="string"==typeof i&&{url:i}||i,r.old===t)return r.valid;r.old=t;var o=this;this.startRequest(n);var s={};return s[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:s,success:function(i){o.settings.messages[n.name].remote=r.originalMessage;var s=i===!0||"true"===i;if(s){var a=o.formSubmitted;o.prepareElement(n),o.formSubmitted=a,o.successList.push(n),delete o.invalid[n.name],o.showErrors()}else{var u={},l=i||o.defaultMessage(n,"remote");u[n.name]=r.message=e.isFunction(l)?l(t):l,o.invalid[n.name]=!0,o.showErrors(u)}r.valid=s,o.stopRequest(n,s)}},i)),"pending"},minlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=i},maxlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r},rangelength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,i=0,r=!1;e=e.replace(/\D/g,"");for(var o=e.length-1;o>=0;o--){var s=e.charAt(o);i=parseInt(s,10),r&&(i*=2)>9&&(i-=9),n+=i,r=!r}return n%10===0},equalTo:function(t,n,i){var r=e(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===r.val()}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,i){var r=e.port;"abort"===e.mode&&(t[r]&&t[r].abort(),t[r]=i)});else{var n=e.ajax;e.ajax=function(i){var r=("mode"in i?i:e.ajaxSettings).mode,o=("port"in i?i:e.ajaxSettings).port;return"abort"===r?(t[o]&&t[o].abort(),t[o]=n.apply(this,arguments)):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var r=e(n.target);return r.is(t)?i.apply(r,arguments):void 0})}})}(jQuery),function(e,t,n){function i(n,i,r){var o=t.createElement(n);return i&&(o.id=Z+i),r&&(o.style.cssText=r),e(o)}function r(){return n.innerHeight?n.innerHeight:e(n).height()}function o(t,n){n!==Object(n)&&(n={}),this.cache={},this.el=t,this.value=function(t){var i;return void 0===this.cache[t]&&(i=e(this.el).attr("data-cbox-"+t),void 0!==i?this.cache[t]=i:void 0!==n[t]?this.cache[t]=n[t]:void 0!==Q[t]&&(this.cache[t]=Q[t])),this.cache[t]},this.get=function(t){var n=this.value(t);return e.isFunction(n)?n.call(this.el,this):n}}function s(e){var t=T.length,n=(j+e)%t;return 0>n?t+n:n}function a(e,t){return Math.round((/%/.test(e)?("x"===t?E.width():r())/100:1)*parseInt(e,10))}function u(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function l(e,t){return e.get("retinaUrl")&&n.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function c(e){"contains"in y[0]&&!y[0].contains(e.target)&&e.target!==_[0]&&(e.stopPropagation(),y.focus())}function d(e){d.str!==e&&(y.add(_).removeClass(d.str).addClass(e),d.str=e)}function f(t){j=0,t&&t!==!1&&"nofollow"!==t?(T=e("."+et).filter(function(){var n=e.data(this,J),i=new o(this,n);return i.get("rel")===t}),j=T.index(L.el),-1===j&&(T=T.add(L.el),j=T.length-1)):T=e(L.el)}function h(n){e(t).trigger(n),at.triggerHandler(n)}function p(n){var r;if(!Y){if(r=e(n).data(J),L=new o(n,r),f(L.get("rel")),!$){$=V=!0,d(L.get("className")),y.css({visibility:"hidden",display:"block",opacity:""}),P=i(ut,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),b.css({width:"",height:""}).append(P),O=w.height()+C.height()+b.outerHeight(!0)-b.height(),U=S.width()+x.width()+b.outerWidth(!0)-b.width(),B=P.outerHeight(!0),z=P.outerWidth(!0);var s=a(L.get("initialWidth"),"x"),u=a(L.get("initialHeight"),"y"),l=L.get("maxWidth"),p=L.get("maxHeight");L.w=(l!==!1?Math.min(s,a(l,"x")):s)-z-U,L.h=(p!==!1?Math.min(u,a(p,"y")):u)-B-O,P.css({width:"",height:L.h}),X.position(),h(tt),L.get("onOpen"),H.add(k).hide(),y.focus(),L.get("trapFocus")&&t.addEventListener&&(t.addEventListener("focus",c,!0),at.one(ot,function(){t.removeEventListener("focus",c,!0)})),L.get("returnFocus")&&at.one(ot,function(){e(L.el).focus()})}var m=parseFloat(L.get("opacity"));_.css({opacity:m===m?m:"",cursor:L.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),L.get("closeButton")?M.html(L.get("close")).appendTo(b):M.appendTo("<div/>"),v()}}function m(){y||(K=!1,E=e(n),y=i(ut).attr({id:J,"class":e.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),_=i(ut,"Overlay").hide(),F=e([i(ut,"LoadingOverlay")[0],i(ut,"LoadingGraphic")[0]]),q=i(ut,"Wrapper"),b=i(ut,"Content").append(k=i(ut,"Title"),D=i(ut,"Current"),R=e('<button type="button"/>').attr({id:Z+"Previous"}),N=e('<button type="button"/>').attr({id:Z+"Next"}),I=i("button","Slideshow"),F),M=e('<button type="button"/>').attr({id:Z+"Close"}),q.append(i(ut).append(i(ut,"TopLeft"),w=i(ut,"TopCenter"),i(ut,"TopRight")),i(ut,!1,"clear:left").append(S=i(ut,"MiddleLeft"),b,x=i(ut,"MiddleRight")),i(ut,!1,"clear:left").append(i(ut,"BottomLeft"),C=i(ut,"BottomCenter"),i(ut,"BottomRight"))).find("div div").css({"float":"left"}),A=i(ut,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),H=N.add(R).add(D).add(I)),t.body&&!y.parent().length&&e(t.body).append(_,y.append(q,A))}function g(){function n(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),p(this))}return y?(K||(K=!0,N.click(function(){X.next()}),R.click(function(){X.prev()}),M.click(function(){X.close()}),_.click(function(){L.get("overlayClose")&&X.close()}),e(t).bind("keydown."+Z,function(e){var t=e.keyCode;$&&L.get("escKey")&&27===t&&(e.preventDefault(),X.close()),$&&L.get("arrowKey")&&T[1]&&!e.altKey&&(37===t?(e.preventDefault(),R.click()):39===t&&(e.preventDefault(),N.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+Z,"."+et,n):e("."+et).live("click."+Z,n)),!0):!1}function v(){var t,r,o,s=X.prep,c=++lt;if(V=!0,W=!1,h(st),h(nt),L.get("onLoad"),L.h=L.get("height")?a(L.get("height"),"y")-B-O:L.get("innerHeight")&&a(L.get("innerHeight"),"y"),L.w=L.get("width")?a(L.get("width"),"x")-z-U:L.get("innerWidth")&&a(L.get("innerWidth"),"x"),L.mw=L.w,L.mh=L.h,L.get("maxWidth")&&(L.mw=a(L.get("maxWidth"),"x")-z-U,L.mw=L.w&&L.w<L.mw?L.w:L.mw),L.get("maxHeight")&&(L.mh=a(L.get("maxHeight"),"y")-B-O,L.mh=L.h&&L.h<L.mh?L.h:L.mh),t=L.get("href"),G=setTimeout(function(){F.show()},100),L.get("inline")){var d=e(t);o=e("<div>").hide().insertBefore(d),at.one(st,function(){o.replaceWith(d)}),s(d)}else L.get("iframe")?s(" "):L.get("html")?s(L.get("html")):u(L,t)?(t=l(L,t),W=L.get("createImg"),e(W).addClass(Z+"Photo").bind("error."+Z,function(){s(i(ut,"Error").html(L.get("imgError")))}).one("load",function(){c===lt&&setTimeout(function(){var t;L.get("retinaImage")&&n.devicePixelRatio>1&&(W.height=W.height/n.devicePixelRatio,W.width=W.width/n.devicePixelRatio),L.get("scalePhotos")&&(r=function(){W.height-=W.height*t,W.width-=W.width*t},L.mw&&W.width>L.mw&&(t=(W.width-L.mw)/W.width,r()),L.mh&&W.height>L.mh&&(t=(W.height-L.mh)/W.height,r())),L.h&&(W.style.marginTop=Math.max(L.mh-W.height,0)/2+"px"),T[1]&&(L.get("loop")||T[j+1])&&(W.style.cursor="pointer",e(W).bind("click."+Z,function(){X.next()})),W.style.width=W.width+"px",W.style.height=W.height+"px",s(W)},1)}),W.src=t):t&&A.load(t,L.get("data"),function(t,n){c===lt&&s("error"===n?i(ut,"Error").html(L.get("xhrError")):e(this).contents())})}var _,y,q,b,w,S,x,C,T,E,P,A,F,k,D,I,N,R,M,H,L,O,U,B,z,j,W,$,V,Y,G,X,K,Q={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return e(this).attr("href")},title:function(){return this.title},createImg:function(){var t=new Image,n=e(this).data("cbox-img-attrs");return"object"==typeof n&&e.each(n,function(e,n){t[e]=n}),t},createIframe:function(){var n=t.createElement("iframe"),i=e(this).data("cbox-iframe-attrs");return"object"==typeof i&&e.each(i,function(e,t){n[e]=t}),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),n.name=(new Date).getTime(),n.allowFullScreen=!0,n}},J="colorbox",Z="cbox",et=Z+"Element",tt=Z+"_open",nt=Z+"_load",it=Z+"_complete",rt=Z+"_cleanup",ot=Z+"_closed",st=Z+"_purge",at=e("<a/>"),ut="div",lt=0,ct={},dt=function(){function e(){clearTimeout(s)}function t(){(L.get("loop")||T[j+1])&&(e(),s=setTimeout(X.next,L.get("slideshowSpeed")))}function n(){I.html(L.get("slideshowStop")).unbind(u).one(u,i),at.bind(it,t).bind(nt,e),y.removeClass(a+"off").addClass(a+"on")}function i(){e(),at.unbind(it,t).unbind(nt,e),I.html(L.get("slideshowStart")).unbind(u).one(u,function(){X.next(),n()}),y.removeClass(a+"on").addClass(a+"off")}function r(){o=!1,I.hide(),e(),at.unbind(it,t).unbind(nt,e),y.removeClass(a+"off "+a+"on")}var o,s,a=Z+"Slideshow_",u="click."+Z;return function(){o?L.get("slideshow")||(at.unbind(rt,r),r()):L.get("slideshow")&&T[1]&&(o=!0,at.one(rt,r),L.get("slideshowAuto")?n():i(),I.show())}}();e[J]||(e(m),X=e.fn[J]=e[J]=function(t,n){var i,r=this;return t=t||{},e.isFunction(r)&&(r=e("<a/>"),t.open=!0),r[0]?(m(),g()&&(n&&(t.onComplete=n),r.each(function(){var n=e.data(this,J)||{};e.data(this,J,e.extend(n,t))}).addClass(et),i=new o(r[0],t),i.get("open")&&p(r[0])),r):r},X.position=function(t,n){function i(){w[0].style.width=C[0].style.width=b[0].style.width=parseInt(y[0].style.width,10)-U+"px",b[0].style.height=S[0].style.height=x[0].style.height=parseInt(y[0].style.height,10)-O+"px"}var o,s,u,l=0,c=0,d=y.offset();if(E.unbind("resize."+Z),y.css({top:-9e4,left:-9e4}),s=E.scrollTop(),u=E.scrollLeft(),L.get("fixed")?(d.top-=s,d.left-=u,y.css({position:"fixed"})):(l=s,c=u,y.css({position:"absolute"})),c+=L.get("right")!==!1?Math.max(E.width()-L.w-z-U-a(L.get("right"),"x"),0):L.get("left")!==!1?a(L.get("left"),"x"):Math.round(Math.max(E.width()-L.w-z-U,0)/2),l+=L.get("bottom")!==!1?Math.max(r()-L.h-B-O-a(L.get("bottom"),"y"),0):L.get("top")!==!1?a(L.get("top"),"y"):Math.round(Math.max(r()-L.h-B-O,0)/2),y.css({top:d.top,left:d.left,visibility:"visible"}),q[0].style.width=q[0].style.height="9999px",o={width:L.w+z+U,height:L.h+B+O,top:l,left:c},t){var f=0;e.each(o,function(e){return o[e]!==ct[e]?void(f=t):void 0}),t=f}ct=o,t||y.css(o),y.dequeue().animate(o,{duration:t||0,complete:function(){i(),V=!1,q[0].style.width=L.w+z+U+"px",q[0].style.height=L.h+B+O+"px",L.get("reposition")&&setTimeout(function(){E.bind("resize."+Z,X.position)},1),e.isFunction(n)&&n()},step:i})},X.resize=function(e){var t;$&&(e=e||{},e.width&&(L.w=a(e.width,"x")-z-U),e.innerWidth&&(L.w=a(e.innerWidth,"x")),P.css({width:L.w}),e.height&&(L.h=a(e.height,"y")-B-O),e.innerHeight&&(L.h=a(e.innerHeight,"y")),e.innerHeight||e.height||(t=P.scrollTop(),P.css({height:"auto"}),L.h=P.height()),P.css({height:L.h}),t&&P.scrollTop(t),X.position("none"===L.get("transition")?0:L.get("speed")))},X.prep=function(n){function r(){return L.w=L.w||P.width(),L.w=L.mw&&L.mw<L.w?L.mw:L.w,L.w}function a(){return L.h=L.h||P.height(),L.h=L.mh&&L.mh<L.h?L.mh:L.h,L.h}if($){var c,f="none"===L.get("transition")?0:L.get("speed");P.remove(),P=i(ut,"LoadedContent").append(n),P.hide().appendTo(A.show()).css({width:r(),overflow:L.get("scrolling")?"auto":"hidden"}).css({height:a()}).prependTo(b),A.hide(),e(W).css({"float":"none"}),d(L.get("className")),c=function(){function n(){e.support.opacity===!1&&y[0].style.removeAttribute("filter")}var i,r,a=T.length;$&&(r=function(){clearTimeout(G),F.hide(),h(it),L.get("onComplete")},k.html(L.get("title")).show(),P.show(),a>1?("string"==typeof L.get("current")&&D.html(L.get("current").replace("{current}",j+1).replace("{total}",a)).show(),N[L.get("loop")||a-1>j?"show":"hide"]().html(L.get("next")),R[L.get("loop")||j?"show":"hide"]().html(L.get("previous")),dt(),L.get("preloading")&&e.each([s(-1),s(1)],function(){var n,i=T[this],r=new o(i,e.data(i,J)),s=r.get("href");s&&u(r,s)&&(s=l(r,s),n=t.createElement("img"),n.src=s)})):H.hide(),L.get("iframe")?(i=L.get("createIframe"),L.get("scrolling")||(i.scrolling="no"),e(i).attr({src:L.get("href"),"class":Z+"Iframe"}).one("load",r).appendTo(P),at.one(st,function(){i.src="//about:blank"}),L.get("fastIframe")&&e(i).trigger("load")):r(),"fade"===L.get("transition")?y.fadeTo(f,1,n):n())},"fade"===L.get("transition")?y.fadeTo(f,0,function(){X.position(0,c)}):X.position(f,c)}},X.next=function(){!V&&T[1]&&(L.get("loop")||T[j+1])&&(j=s(1),p(T[j]))},X.prev=function(){!V&&T[1]&&(L.get("loop")||j)&&(j=s(-1),p(T[j]))},X.close=function(){$&&!Y&&(Y=!0,$=!1,h(rt),L.get("onCleanup"),E.unbind("."+Z),_.fadeTo(L.get("fadeOut")||0,0),y.stop().fadeTo(L.get("fadeOut")||0,0,function(){y.hide(),_.hide(),h(st),P.remove(),setTimeout(function(){Y=!1,h(ot),L.get("onClosed")},1)}))},X.remove=function(){y&&(y.stop(),e[J].close(),y.stop(!1,!0).remove(),_.remove(),Y=!1,y=null,e("."+et).removeData(J).removeClass(et),e(t).unbind("click."+Z).unbind("keydown."+Z))},X.element=function(){return e(L.el)},X.settings=Q)}(jQuery,document,window),function(e){var t=e.fn.ready;e.fn.ready=function(n){t(void 0===this.context?n:this.selector?e.proxy(function(){e(this.selector,this.context).each(n)},this):e.proxy(function(){e(this).each(n)},this))}}(jQuery),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===f.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t,n){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),l&&(this.jqDeferred=new l.Deferred);var r=this;setTimeout(function(){r.check()})}function a(e){this.img=e}function u(e){this.src=e,h[e]=this}var l=e.jQuery,c=e.console,d="undefined"!=typeof c,f=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var a=r[o];this.addImage(a)}}},s.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&d&&c.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},l&&(l.fn.imagesLoaded=function(e,t){var n=new s(this,e,t);return n.jqDeferred.promise(l(this))}),a.prototype=new t,a.prototype.check=function(){var e=h[this.img.src]||new u(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var h={};return u.prototype=new t,u.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},u.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},u.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},u.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},u.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},u.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s}),function(){this.BackgroundImage=function(){function e(e,t,n){var i;null==n&&(n={}),this.thumbnail=e,this.source=t,this.horizontal=BackgroundAlignment.translatePositionValue(n.horizontal),this.vertical=BackgroundAlignment.translatePositionValue(n.vertical),this.scaling=n.scaling,this.container=null!=(i=n.container)?i:"body"}return e.prototype.loadBackground=function(){var e,t,n,i,r,o,s;return e=$(""+this.container).children(".backdrop"),s=e.length?e:(o=$('<div class="backdrop"></div>'),"body"!==this.container?o.css({position:"static"}):void 0,o.appendTo(this.container)),i=e.find(".background"),r=$('<div class="background backdrop-thumbnail backdrop-'+this.scaling+'"></div>').css({opacity:"1","background-image":"url("+this.thumbnail+")","background-position":this.horizontal+"% "+this.vertical+"%"}).appendTo(s),t=$('<div class="background backdrop-full backdrop-'+this.scaling+'"></div>').css({"background-position":this.horizontal+"% "+this.vertical+"%"}).appendTo(s),n=$("<img />")[0],n.src=this.source,$(n).imagesLoaded(function(){return t.css({opacity:"1","background-image":"url("+n.src+")"}),i.css({opacity:0}).remove()})},e.prototype.adjustPosition=function(){var e,t;return e=$(""+this.container).children(".backdrop"),t=e.find(".background"),t.css({"background-position":this.horizontal+"% "+this.vertical+"%"})},e}(),this.BackgroundAlignment={translatePositionValue:function(e){switch(e){case"left":return"0";case"center":return"50";case"right":return"100";case"top":return"0";case"bottom":return"100";default:return e}}}}.call(this),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,s=Math.max(1-(1-e)/t*(100-o),e),a=l.substring(0,l.indexOf("Animation")).toLowerCase(),u=a&&"-"+a+"-"||"";return f[r]||(c.insertRule("@"+u+"keyframes "+r+"{0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",c.cssRules.length),f[r]=1),r}function i(e,t){var n,i,r=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<d.length;i++)if(n=d[i]+t,void 0!==r[n])return n;return void 0!==r[t]?t:void 0}function r(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=o(e||{},a.defaults,h)}function u(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)
}c.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,i){function o(){return r(n("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function a(e,a,u){t(f,t(r(o(),{rotation:360/i.lines*e+"deg",left:~~a}),t(r(n("roundrect",{arcsize:i.corners}),{width:l,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:u}),n("fill",{color:s(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var u,l=i.scale*(i.length+i.width),c=2*i.scale*l,d=-(i.width+i.length)*i.scale*2+"px",f=r(o(),{position:"absolute",top:d,left:d});if(i.shadow)for(u=1;u<=i.lines;u++)a(u,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(u=1;u<=i.lines;u++)a(u);return t(e,f)},a.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}}var l,c,d=["webkit","Moz","ms","O"],f={},h={lines:12,length:7,width:5,radius:10,scale:1,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};if(a.defaults={},o(a.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,o=n.el=r(e(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});if(r(o,{left:i.left,top:i.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!l){var s,a=0,u=(i.lines-1)*(1-i.direction)/2,c=i.fps,d=c/i.speed,f=(1-i.opacity)/(d*i.trail/100),h=d/i.lines;!function p(){a++;for(var e=0;e<i.lines;e++)s=Math.max(1-(a+(i.lines-e)*h)%d*f,i.opacity),n.opacity(o,e*i.direction+u,s,i);n.timeout=n.el&&setTimeout(p,~~(1e3/c))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,o){function a(t,n){return r(e(),{position:"absolute",width:o.scale*(o.length+o.width)+"px",height:o.scale*o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*c+o.rotate)+"deg) translate("+o.scale*o.radius+"px,0)",borderRadius:(o.corners*o.scale*o.width>>1)+"px"})}for(var u,c=0,d=(o.lines-1)*(1-o.direction)/2;c<o.lines;c++)u=r(e(),{position:"absolute",top:1+~(o.scale*o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:l&&n(o.opacity,o.trail,d+c*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(u,r(a("#000","0 0 4px #000"),{top:"2px"})),t(i,t(u,a(s(o.color,c),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){c=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var p=r(e("group"),{behavior:"url(#default#VML)"});!i(p,"transform")&&p.adj?u():l=i(p,"animation")}return a}),function(e){if("object"==typeof exports)e(require("jquery"),require("spin.js"));else if("function"==typeof define&&define.amd)define(["jquery","spin"],e);else{if(!window.Spinner)throw new Error("Spin.js not present");e(window.jQuery,window.Spinner)}}(function(e,t){e.fn.spin=function(n,i){return this.each(function(){var r=e(this),o=r.data();o.spinner&&(o.spinner.stop(),delete o.spinner),n!==!1&&(n=e.extend({color:i||r.css("color")},e.fn.spin.presets[n]||n),o.spinner=new t(n).spin(this))})},e.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}}),function(e){var t={init:function(t){return this.each(function(){var n=e(this),i=n.data("flipper"),r=n.text();if(!i){var o=e.extend({type:"fall",speed:"normal",queueSuper:!0},t);n.addClass("flipper").addClass("fl-animate").addClass("fl-"+o.type).addClass("fl-"+o.speed),n.css("line-height",n.height()+1+"px");var s=e('<span class="fl-new fl-top fl-num"></span>'),a=e('<span class="fl-new fl-bottom fl-num"></span>'),u=e('<span class="fl-show fl-top fl-num">'+r+"</span>"),l=e('<span class="fl-show fl-bottom fl-num">'+r+"</span>");n.html("").append(s,a,u,l),n.data("flipper",{new1:s,new2:a,cur1:u,cur2:l,type:o.type,speed:o.speed,queueSuper:o.queueSuper,running:!1,insuper:!1,presuperspeed:null,queue:[]})}})},destroy:function(){return this.each(function(){var t=e(this);t.removeData("flipper")})},option:function(t,n){if("speed"==t){var i=e(this),r=i.data().flipper,o=r.speed;return r.speed=n,i.removeClass("fl-"+o).addClass("fl-"+n),i.data("flipper",r),!0}if("type"==t){var i=e(this),r=i.data().flipper,s=r.type;return r.type=n,i.removeClass("fl-"+s).addClass("fl-"+n),i.data("flipper",r),!0}return!1},update:function(n,i){var r=e(this),o=r.data().flipper;return o.running?(o.queue.push([n,i]),void r.data("flipper",o)):(o.running=!0,void t._process(this,n,i))},_process:function(i,r,o){var s=e(i),a=s.data().flipper;if(s.data("flipper",a),a.queueSuper&&!a.insuper&&a.queue.length){var u=a.speed;a.speed="super",s.removeClass("fl-"+u).addClass("fl-super"),a.oldspeed=u,a.insuper=!0,s.data("flipper",a)}else a.queueSuper&&a.insuper&&!a.queue.length&&(a.speed=a.oldspeed,s.removeClass("fl-super").addClass("fl-"+a.speed),a.insuper=!1,s.data("flipper",a));setTimeout(function(){n[a.type](i,r,function(){if(a.queue.length){var e=a.queue.shift();setTimeout(function(){t._process(i,e[0],e[1])},1),"function"==typeof o&&o(!1)}else"function"==typeof o&&o(!0),a.running=!1,s.data("flipper",a)})},1)},clearqueue:function(){var t=e(this),n=t.data().flipper;n.queue.length=0,t.data("flipper",n)}},n={fall:function(t,n,i){var r=e(t),o=r.data().flipper;if(r.addClass("fl-animate"),r.addClass("fl-go"),o.new1.text(n),o.new2.text(n),"slow"==o.speed)var s=2e3;else if("normal"==o.speed)var s=1e3;else if("fast"==o.speed)var s=500;else if("super"==o.speed)var s=50;setTimeout(function(){r.removeClass("fl-animate"),o.cur1.text(n),o.cur2.text(n),o.new1.text(""),o.new2.text(""),r.removeClass("fl-go"),i()},s)},rise:function(t,n,i){var r=e(t),o=r.data().flipper;if(r.addClass("fl-animate"),r.addClass("fl-go"),o.new1.text(n),o.new2.text(n),"slow"==o.speed)var s=2e3;else if("normal"==o.speed)var s=1e3;else if("fast"==o.speed)var s=500;else if("super"==o.speed)var s=50;setTimeout(function(){r.removeClass("fl-animate"),o.cur1.text(n),o.cur2.text(n),o.new1.text(""),o.new2.text(""),r.removeClass("fl-go"),i()},s)},clap:function(t,n,i){var r=e(t),o=r.data().flipper;if(r.addClass("fl-animate"),r.addClass("fl-go"),o.new1.text(n),o.new2.text(o.cur2.text()),o.cur2.text(n),"slow"==o.speed)var s=2e3;else if("normal"==o.speed)var s=1e3;else if("fast"==o.speed)var s=500;else if("super"==o.speed)var s=50;setTimeout(function(){r.removeClass("fl-animate"),o.cur1.text(n),o.new1.text(""),o.new2.text(""),r.removeClass("fl-go"),i()},s)},slide:function(t,n,i){var r=e(t),o=r.data().flipper;if(r.addClass("fl-animate"),r.addClass("fl-go"),o.new1.text(n),"slow"==o.speed)var s=2e3,a=1e3;else if("normal"==o.speed)var s=1e3,a=500;else if("fast"==o.speed)var s=500,a=250;else if("super"==o.speed)var s=50,a=25;setTimeout(function(){r.removeClass("fl-go").addClass("fl-zfix"),o.cur2.text(n)},a),setTimeout(function(){r.removeClass("fl-animate"),o.cur1.text(n),o.new1.text(""),r.removeClass("fl-zfix"),i()},s)},open:function(t,n,i){var r=e(t),o=r.data().flipper;if(r.addClass("fl-animate"),r.addClass("fl-go"),o.new1.text(n),o.new2.text(n),"slow"==o.speed)var s=2e3,a=1e3;else if("normal"==o.speed)var s=1e3,a=500;else if("fast"==o.speed)var s=500,a=250;else if("super"==o.speed)var s=50,a=25;setTimeout(function(){r.addClass("fl-zfix")},a),setTimeout(function(){r.removeClass("fl-animate"),o.cur1.text(n),o.cur2.text(n),o.new1.text(""),o.new2.text(""),r.removeClass("fl-go").removeClass("fl-zfix"),i()},s)},close:function(t,n,i){var r=e(t),o=r.data().flipper;if(r.addClass("fl-animate"),r.addClass("fl-go"),o.new1.text(o.cur1.text()),o.new2.text(o.cur2.text()),o.cur1.text(n),o.cur2.text(n),"slow"==o.speed)var s=2e3,a=1e3;else if("normal"==o.speed)var s=1e3,a=500;else if("fast"==o.speed)var s=500,a=250;else if("super"==o.speed)var s=50,a=25;r.addClass("fl-zfix"),setTimeout(function(){r.removeClass("fl-zfix")},a),setTimeout(function(){r.removeClass("fl-animate"),o.cur1.text(n),o.cur2.text(n),o.new1.text(""),o.new2.text(""),r.removeClass("fl-go"),i()},s)}};e.fn.flipper=function(n){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.flipper"):t.init.apply(this,arguments)}}(jQuery),function(e){function t(e,t){return function(n){return u(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function i(){}function r(e){s(this,e)}function o(e){var t=e.years||e.year||e.y||0,n=e.months||e.month||e.M||0,i=e.weeks||e.week||e.w||0,r=e.days||e.day||e.d||0,o=e.hours||e.hour||e.h||0,s=e.minutes||e.minute||e.m||0,a=e.seconds||e.second||e.s||0,u=e.milliseconds||e.millisecond||e.ms||0;this._input=e,this._milliseconds=+u+1e3*a+6e4*s+36e5*o,this._days=+r+7*i,this._months=+n+12*t,this._data={},this._bubble()}function s(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e){return 0>e?Math.ceil(e):Math.floor(e)}function u(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function l(e,t,n,i){var r,o,s=t._milliseconds,a=t._days,u=t._months;s&&e._d.setTime(+e._d+s*n),(a||u)&&(r=e.minute(),o=e.hour()),a&&e.date(e.date()+a*n),u&&e.month(e.month()+u*n),s&&!i&&R.updateOffset(e),(a||u)&&(e.minute(r),e.hour(o))}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e,t){var n,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0;for(n=0;i>n;n++)~~e[n]!==~~t[n]&&o++;return o+r}function f(e){return e?st[e]||e.toLowerCase().replace(/(.)s$/,"$1"):e}function h(e,t){return t.abbr=e,O[e]||(O[e]=new i),O[e].set(t),O[e]}function p(e){delete O[e]}function m(e){if(!e)return R.fn._lang;if(!O[e]&&U)try{require("./lang/"+e)}catch(t){return R.fn._lang}return O[e]||R.fn._lang}function g(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function v(e){var t,n,i=e.match(j);for(t=0,n=i.length;n>t;t++)i[t]=ct[i[t]]?ct[i[t]]:g(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function _(e,t){function n(t){return e.lang().longDateFormat(t)||t}for(var i=5;i--&&(W.lastIndex=0,W.test(t));)t=t.replace(W,n);return at[t]||(at[t]=v(t)),at[t](e)}function y(e,t){switch(e){case"DDDD":return Y;case"YYYY":return G;case"YYYYY":return X;case"S":case"SS":case"SSS":case"DDD":return V;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return K;case"a":case"A":return m(t._l)._meridiemParse;case"X":return Z;case"Z":case"ZZ":return Q;case"T":return J;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return $;default:return new RegExp(e.replace("\\",""))}}function q(e){var t=(Q.exec(e)||[])[0],n=(t+"").match(it)||["-",0,0],i=+(60*n[1])+~~n[2];return"+"===n[0]?-i:i}function b(e,t,n){var i,r=n._a;switch(e){case"M":case"MM":null!=t&&(r[1]=~~t-1);break;case"MMM":case"MMMM":i=m(n._l).monthsParse(t),null!=i?r[1]=i:n._isValid=!1;break;case"D":case"DD":null!=t&&(r[2]=~~t);break;case"DDD":case"DDDD":null!=t&&(r[1]=0,r[2]=~~t);break;case"YY":r[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~t;break;case"a":case"A":n._isPm=m(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":r[3]=~~t;break;case"m":case"mm":r[4]=~~t;break;case"s":case"ss":r[5]=~~t;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=q(t)}null==t&&(n._isValid=!1)}function w(e){var t,n,i,r=[];if(!e._d){for(i=S(e),t=0;3>t&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];r[3]+=~~((e._tzm||0)/60),r[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),e._d=n}}function S(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function x(e){var t,n,i=e._f.match(j),r=""+e._i;for(e._a=[],t=0;t<i.length;t++)n=(y(i[t],e).exec(r)||[])[0],n&&(r=r.slice(r.indexOf(n)+n.length)),ct[i[t]]&&b(i[t],n,e);r&&(e._il=r),e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&12===e._a[3]&&(e._a[3]=0),w(e)}function C(e){var t,n,i,o,a,u=99;for(o=0;o<e._f.length;o++)t=s({},e),t._f=e._f[o],x(t),n=new r(t),a=d(t._a,n.toArray()),n._il&&(a+=n._il.length),u>a&&(u=a,i=n);s(e,i)}function T(e){var t,n=e._i,i=et.exec(n);if(i){for(e._f="YYYY-MM-DD"+(i[2]||" "),t=0;4>t;t++)if(nt[t][1].exec(n)){e._f+=nt[t][0];break}Q.exec(n)&&(e._f+=" Z"),x(e)}else e._d=new Date(n)}function E(t){var n=t._i,i=B.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?T(t):c(n)?(t._a=n.slice(0),w(t)):t._d=new Date(n instanceof Date?+n:n)}function P(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function A(e,t,n){var i=L(Math.abs(e)/1e3),r=L(i/60),o=L(r/60),s=L(o/24),a=L(s/365),u=45>i&&["s",i]||1===r&&["m"]||45>r&&["mm",r]||1===o&&["h"]||22>o&&["hh",o]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",L(s/30)]||1===a&&["y"]||["yy",a];return u[2]=t,u[3]=e>0,u[4]=n,P.apply({},u)}function F(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=R(e).add("d",o),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function k(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=m().preparse(t)),R.isMoment(t)?(e=s({},t),e._d=new Date(+t._d)):n?c(n)?C(e):x(e):E(e),new r(e))}function D(e,t){R.fn[e]=R.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),R.updateOffset(this),this):this._d["get"+n+t]()}}function I(e){R.duration.fn[e]=function(){return this._data[e]}}function N(e,t){R.duration.fn["as"+e]=function(){return+this/t}}for(var R,M,H="2.1.0",L=Math.round,O={},U="undefined"!=typeof module&&module.exports,B=/^\/?Date\((\-?\d+)/i,z=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,j=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,$=/\d\d?/,V=/\d{1,3}/,Y=/\d{3}/,G=/\d{1,4}/,X=/[+\-]?\d{1,6}/,K=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Q=/Z|[\+\-]\d\d:?\d\d/i,J=/T/i,Z=/[\+\-]?\d+(\.\d{1,3})?/,et=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,tt="YYYY-MM-DDTHH:mm:ssZ",nt=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],it=/([\+\-]|\d\d)/gi,rt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ot={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},st={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},at={},ut="DDD w W M D d".split(" "),lt="M D H h m s w W".split(" "),ct={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(~~(e/60),2)+":"+u(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};ut.length;)M=ut.pop(),ct[M+"o"]=n(ct[M],M);for(;lt.length;)M=lt.pop(),ct[M+M]=t(ct[M],2);for(ct.DDDD=t(ct.DDD,3),i.prototype={set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=R([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=R([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return F(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},R=function(e,t,n){return k({_i:e,_f:t,_l:n,_isUTC:!1})},R.utc=function(e,t,n){return k({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},R.unix=function(e){return R(1e3*e)},R.duration=function(e,t){var n,i,r=R.isDuration(e),s="number"==typeof e,a=r?e._input:s?{}:e,u=z.exec(e);return s?t?a[t]=e:a.milliseconds=e:u&&(n="-"===u[1]?-1:1,a={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),i=new o(a),r&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},R.version=H,R.defaultFormat=tt,R.updateOffset=function(){},R.lang=function(e,t){return e?(t?h(e,t):null===t?(p(e),e="en"):O[e]||m(e),void(R.duration.fn._lang=R.fn._lang=m(e))):R.fn._lang._abbr},R.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),m(e)},R.isMoment=function(e){return e instanceof r},R.isDuration=function(e){return e instanceof o},R.fn=r.prototype={clone:function(){return R(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return _(R(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?R.utc(this._a):R(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var e,t=this._a,n=(this._isUTC?R.utc(this._a):R(this._a)).toArray();for(e=6;e>=0&&t[e]===n[e];--e);return e},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=_(this,e||R.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?R.duration(+t,e):R.duration(e,t),l(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?R.duration(+t,e):R.duration(e,t),l(this,n,-1),this},diff:function(e,t,n){var i,r,o=this._isUTC?R(e).zone(this._offset||0):R(e).local(),s=6e4*(this.zone()-o.zone());return t=f(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+o.daysInMonth()),r=12*(this.year()-o.year())+(this.month()-o.month()),r+=(this-R(this).startOf("month")-(o-R(o).startOf("month")))/i,r-=6e4*(this.zone()-R(this).startOf("month").zone()-(o.zone()-R(o).startOf("month").zone()))/i,"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),n?r:a(r)},from:function(e,t){return R.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(R(),e)},calendar:function(){var e=this.diff(R().startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&(e=this.lang().weekdaysParse(e),"number"!=typeof e)?this:this.add({d:e-t}):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),R.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=f(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoweek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=f(e),this.startOf(e).add("isoweek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+R(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+R(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+R(e).startOf(t)},min:function(e){return e=R.apply(null,arguments),this>e?this:e},max:function(e){return e=R.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=q(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&l(this,R.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return R.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=L((R(this).startOf("day")-R(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=F(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=F(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=F(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=f(e),this[e.toLowerCase()+"s"]()},set:function(e,t){e=f(e),this[e.toLowerCase()+"s"](t)},lang:function(t){return t===e?this._lang:(this._lang=m(t),this)}},M=0;M<rt.length;M++)D(rt[M].toLowerCase().replace(/s$/,""),rt[M]);D("year","FullYear"),R.fn.days=R.fn.day,R.fn.months=R.fn.month,R.fn.weeks=R.fn.week,R.fn.isoWeeks=R.fn.isoWeek,R.fn.toJSON=R.fn.toISOString,R.duration.fn=o.prototype={_bubble:function(){var e,t,n,i,r=this._milliseconds,o=this._days,s=this._months,u=this._data;u.milliseconds=r%1e3,e=a(r/1e3),u.seconds=e%60,t=a(e/60),u.minutes=t%60,n=a(t/60),u.hours=n%24,o+=a(n/24),u.days=o%30,s+=a(o/30),u.months=s%12,i=a(s/12),u.years=i},weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=A(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=R.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=R.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=f(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=f(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:R.fn.lang};for(M in ot)ot.hasOwnProperty(M)&&(N(M,ot[M]),I(M.toLowerCase()));N("Weeks",6048e5),R.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},R.lang("en",{ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),U&&(module.exports=R),"undefined"==typeof ender&&(this.moment=R),"function"==typeof define&&define.amd&&define("moment",[],function(){return R})}.call(this),function(){this.Countdown={shuffle:function(e){var t,n,i,r;if(t=e.length,0===t)return!1;for(;--t;)n=Math.floor(Math.random()*(t+1)),i=e[t],r=e[n],e[t]=r,e[n]=i;return e},differenceInDays:function(e){var t,n,i;return t=moment(e,"MMMM D, YYYY"),n=moment(),i=moment([n.year(),n.month(),n.date()]),t.diff(i,"days")},parseDifferenceToArray:function(e){var t,n,i,r,o,s;if(n=Math.abs(e).toString(),t=n.split(""),i=4-t.length,i>0)for(;i--;)t.unshift(0);for(r=o=0,s=t.length;s>=0?s>o:o>s;r=s>=0?++o:--o)t[r]=parseInt(t[r],10);return t},calculateDifference:function(e){var t,n,i;return t=Countdown.differenceInDays(e),n=null!=(i=t>-1)?i:{"true":!1},$("#countdown-qualifier").html("Day"+(1===Math.abs(t)?"":"s")+" "+(n?"Until":"Since")),Countdown.parseDifferenceToArray(t)},flipNumbers:function(e){var t,n,i,r,o,s,a,u,l;for(a=[0,1,2,3,4,5,6,7,8,9],t=Countdown.calculateDifference(e),u=[],n=o=0;3>=o;n=++o){if(i=n+1,i>1)for(r=2*i;--r;)a=a.concat(Math.floor(10*Math.random()));l=Countdown.shuffle(a),l=l.concat(t[n]),u.push(function(){var e,t,n;for(n=[],t=0,e=l.length;e>t;t++)s=l[t],n.push($("#digit"+i).flipper("update",s));return n}())}return u},iterateNumbers:function(e){var t,n;return $(".number").addClass("flipper").html("").append($('<span class="fl-number"></span>')),n=[0,1,2,3,4,5,6,7,8,9],t=Countdown.calculateDifference(e),setTimeout(function(){var e,i,r,o,s,a,u,l,c;for(l=[],i=a=0;3>=a;i=++a){if(r=i+1,r>1)for(o=2*r;--o;)n=n.concat(Math.floor(10*Math.random()));c=Countdown.shuffle(n),c=c.concat(t[i]),e=function(e,t,n){return setTimeout(function(){return $("#digit"+e+" .fl-number").text(t)},75+75*n)},l.push(function(){var t,n,i;for(i=[],s=t=0,n=c.length;n>=t;s=t+=1)u=c[s],i.push(e(r,u,s));return i}())}return l},400)},init:function(e,t){return null==t&&(t=!1),jQuery(function(){return Modernizr.csstransforms3d?($(".number").flipper({speed:"fast"}),Countdown.flipNumbers(e)):Countdown.iterateNumbers(e),t?$("#countdown").draggable({scroll:!0,cursor:"move",handle:$("#countdown-move-handle"),stop:function(){var e;return e=$(this).position(),$("#customer_customization_attributes_countdown_widget_top").val(Math.round(e.top)),$("#customer_customization_attributes_countdown_widget_left").val(Math.round(e.left))}}):void 0})}}}.call(this),function(){this.SoundCloud={init:function(e,t){var n,i,r,o,s,a,u,l;return null==e&&(e=!0),null==t&&(t={}),e?(u=$("#customer_customization_attributes_soundcloud_widget_url").val(),l=$("#customer_customization_attributes_soundcloud_widget_width").val(),a=$("#customer_customization_attributes_soundcloud_widget_height").val(),o=$("#customer_customization_attributes_soundcloud_widget_autoplay").val(),r=$("#customer_customization_attributes_soundcloud_widget_artwork").val(),s=$("#customer_customization_attributes_soundcloud_widget_color").val(),$("#soundcloud .front-container").css({width:l,height:a})):(u=t.soundcloudUrl,l=t.soundcloudWidth,a=t.soundcloudHeight,o=t.soundcloudAutoplay,r=t.soundcloudArtwork,s=t.soundcloudColor),i={show_teaser:!1,show_comments:!1,show_playcount:!1,liking:!1,sharing:!1,visual:!1,download:!1,buying:!1,show_artwork:r,auto_play:o,color:s,maxwidth:l,maxheight:a},n={editable:e,soundcloudWidth:l,soundcloudHeight:a},/\/sets\//.test(u)?SC.resolve(u).then(function(e){return $.extend(i,{url:e.uri}),SoundCloud.insertIframe(n,i)})["catch"](function(e){return console.log("resolve error: ",e)}):($.extend(i,{url:u}),SoundCloud.insertIframe(n,i))},insertIframe:function(e,t){var n;return n='<iframe width="'+e.soundcloudWidth+'" height="'+e.soundcloudHeight+'" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?'+$.param(t)+'"></iframe>',e.editable?($("#soundcloud-widget").html(n),$("#soundcloud").draggable({scroll:!0,cursor:"move",handle:$("#soundcloud-move-handle"),stop:function(){var e;return e=$(this).position(),$("#customer_customization_attributes_soundcloud_widget_top").val(e.top),$("#customer_customization_attributes_soundcloud_widget_left").val(e.left)}})):$("#soundcloud-widget-player").html(n)},initializeMobile:function(e){var t,n;return null==e&&(e={}),t=$("#soundcloud-player").find("iframe").get(0),n={color:e.soundcloudColor},/\/sets\//.test(e.soundcloudUrl)?SC.resolve(e.soundcloudUrl).then(function(e){return $.extend(n,{url:e.uri}),t.src="https://w.soundcloud.com/player/?"+$.param(n),t.onload=function(){return SoundCloud.playAndPause()}})["catch"](function(e){return console.log("resolve error: ",e)}):($.extend(n,{url:e.soundcloudUrl}),t.src="https://w.soundcloud.com/player/?"+$.param(n))},playAndPause:function(){return setTimeout(function(){var e,t;return e=$("#soundcloud-player").find("iframe").get(0),t=SC.Widget(e),t.play(),t.pause()},1e3)}}}.call(this),function(){this.Translator={init:function(){return $("#translator").draggable({scroll:!0,cursor:"move",handle:$("#translator-move-handle"),stop:function(){var e;return e=$(this).position(),$("#customer_customization_attributes_translator_widget_top").val(e.top),$("#customer_customization_attributes_translator_widget_left").val(e.left)}})},useLastLanguage:function(){var e,t,n;if("undefined"!=typeof Microsoft&&$("#WidgetFloaterPanels").is(":visible")){e="en";try{e=Microsoft.Translator.Widget.GetAutoDetectedLanguage()}catch(n){t=n}return Microsoft.Translator.Widget.Translate(e,Microsoft.Translator.Widget.lastToLanguage)}}}}.call(this),function(){"use strict";function e(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,i),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,t+=1
}var t=0,n={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(e){var t=[];for(var i in n)t.push(n[i]);for(var r=0,o=t.length;o>r;r++)t[r][e]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=r.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,i[e.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,i={},r=window.Waypoint,o=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&t&&(this.adapter.off(".waypoints"),delete i[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,r.requestAnimationFrame(e))})},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){(!t.didScroll||r.isTouch)&&(t.didScroll=!0,r.requestAnimationFrame(e))})},t.prototype.handleResize=function(){r.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in t){var i=t[n],r=i.newScroll>i.oldScroll,o=r?i.forward:i.backward;for(var s in this.waypoints[n]){var a=this.waypoints[n][s],u=i.oldScroll<a.triggerPoint,l=i.newScroll>=a.triggerPoint,c=u&&l,d=!u&&!l;(c||d)&&(a.queueTrigger(o),e[a.group.id]=a.group)}}for(var f in e)e[f].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element==this.element.window?r.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element==this.element.window?r.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var n in this.waypoints[t])e.push(this.waypoints[t][n]);for(var i=0,r=e.length;r>i;i++)e[i].destroy()},t.prototype.refresh=function(){var e,t=this.element==this.element.window,n=this.adapter.offset(),i={};this.handleScroll(),e={horizontal:{contextOffset:t?0:n.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:n.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in e){var o=e[r];for(var s in this.waypoints[r]){var a,u,l,c,d,f=this.waypoints[r][s],h=f.options.offset,p=f.triggerPoint,m=0,g=null==p;f.element!==f.element.window&&(m=f.adapter.offset()[o.offsetProp]),"function"==typeof h?h=h.apply(f):"string"==typeof h&&(h=parseFloat(h),f.options.offset.indexOf("%")>-1&&(h=Math.ceil(o.contextDimension*h/100))),a=o.contextScroll-o.contextOffset,f.triggerPoint=m+a-h,u=p<o.oldScroll,l=f.triggerPoint>=o.oldScroll,c=u&&l,d=!u&&!l,!g&&c?(f.queueTrigger(o.backward),i[f.group.id]=f.group):!g&&d?(f.queueTrigger(o.forward),i[f.group.id]=f.group):g&&o.oldScroll>=f.triggerPoint&&(f.queueTrigger(o.forward),i[f.group.id]=f.group)}}for(var v in i)i[v].flushTriggers();return this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in i)i[e].refresh()},t.findByElement=function(e){return i[e.waypointContextKey]},window.onload=function(){o&&o(),t.refreshAll()},r.requestAnimationFrame=function(t){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e;n.call(window,t)},r.Context=t}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function n(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},r=window.Waypoint;n.prototype.add=function(e){this.waypoints.push(e)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],r="up"===n||"left"===n;i.sort(r?t:e);for(var o=0,s=i.length;s>o;o+=1){var a=i[o];(a.options.continuous||o===i.length-1)&&a.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(t){this.waypoints.sort(e);var n=r.Adapter.inArray(t,this.waypoints),i=n===this.waypoints.length-1;return i?null:this.waypoints[n+1]},n.prototype.previous=function(t){this.waypoints.sort(e);var n=r.Adapter.inArray(t,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},n.prototype.remove=function(e){var t=r.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(e){return i[e.axis][e.name]||new n(e)},r.Group=n}(),function(){"use strict";function e(e){this.$element=t(e)}var t=window.jQuery,n=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,n){e.prototype[n]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[n].apply(this.$element,e)}}),t.each(["extend","inArray","isEmptyObject"],function(n,i){e[i]=t[i]}),n.adapters.push({name:"jquery",Adapter:e}),n.Adapter=e}(),function(){"use strict";function e(e){return function(){var n=[],i=arguments[0];return e.isFunction(arguments[0])&&(i=e.extend({},arguments[1]),i.handler=arguments[0]),this.each(function(){var r=e.extend({},i,{element:this});"string"==typeof r.context&&(r.context=e(this).closest(r.context)[0]),n.push(new t(r))}),n}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),function(){"use strict";function e(i){this.options=t.extend({},n.defaults,e.defaults,i),this.element=this.options.element,this.$element=t(this.element),this.createWrapper(),this.createWaypoint()}var t=window.jQuery,n=window.Waypoint;e.prototype.createWaypoint=function(){var e=this.options.handler;this.waypoint=new n(t.extend({},this.options,{element:this.wrapper,handler:t.proxy(function(t){var n=this.options.direction.indexOf(t)>-1,i=n?this.$element.outerHeight(!0):"";this.$wrapper.height(i),this.$element.toggleClass(this.options.stuckClass,n),e&&e.call(this,t)},this)}))},e.prototype.createWrapper=function(){this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},e.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass).unwrap())},e.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},n.Sticky=e}(),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,s=i.push,a=i.slice,u=i.concat,l=r.toString,c=r.hasOwnProperty,d=Array.isArray,f=Object.keys,h=o.bind,p=function(e){return e instanceof p?e:this instanceof p?void(this._wrapped=e):new p(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),exports._=p):e._=p,p.VERSION="1.6.0";var m=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},g=function(e,t,n){return null==e?p.identity:p.isFunction(e)?m(e,t,n):p.isObject(e)?p.matches(e):p.property(e)};p.each=p.forEach=function(e,t,i){var r,o;if(null==e)return e;if(t=m(t,i),e.length===+e.length)for(r=0,o=e.length;o>r&&t(e[r],r,e)!==n;r++);else{var s=p.keys(e);for(r=0,o=s.length;o>r&&t(e[s[r]],s[r],e)!==n;r++);}return e},p.map=p.collect=function(e,t,n){if(null==e)return[];t=g(t,n);var i,r,o=e.length;o!==+o&&(r=p.keys(e),o=r.length);for(var s=Array(o),a=0;o>a;a++)i=r?r[a]:a,s[a]=t(e[i],i,e);return s};var v="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),t=m(t,i,4),p.each(e,function(e,i,o){r?n=t(n,e,i,o):(n=e,r=!0)}),!r)throw TypeError(v);return n},p.reduceRight=p.foldr=function(e,t,n,i){var r=arguments.length>2;null==e&&(e=[]);var o=e.length;if(t=m(t,i,4),o!==+o){var s=p.keys(e);o=s.length}if(p.each(e,function(i,a,u){a=s?s[--o]:--o,r?n=t(n,e[a],a,u):(n=e[a],r=!0)}),!r)throw TypeError(v);return n},p.find=p.detect=function(e,t,n){var i;return t=g(t,n),p.some(e,function(e,n,r){return t(e,n,r)?(i=e,!0):void 0}),i},p.filter=p.select=function(e,t,n){var i=[];return null==e?i:(t=g(t,n),p.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i)},p.reject=function(e,t,n){return p.filter(e,p.negate(g(t)),n)},p.every=p.all=function(e,t,i){var r=!0;return null==e?r:(t=g(t,i),p.each(e,function(e,i,o){return r=t(e,i,o),r?void 0:n}),!!r)},p.some=p.any=function(e,t,i){var r=!1;return null==e?r:(t=g(t,i),p.each(e,function(e,i,o){return r=t(e,i,o),r?n:void 0}),!!r)},p.contains=p.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=p.values(e)),p.indexOf(e,t)>=0)},p.invoke=function(e,t){var n=a.call(arguments,2),i=p.isFunction(t);return p.map(e,function(e){return(i?t:e[t]).apply(e,n)})},p.pluck=function(e,t){return p.map(e,p.property(t))},p.where=function(e,t){return p.filter(e,p.matches(t))},p.findWhere=function(e,t){return p.find(e,p.matches(t))},p.max=function(e,t,n){var i,r,o=-1/0,s=-1/0;if(!t&&p.isArray(e))for(var a=0,u=e.length;u>a;a++)i=e[a],i>o&&(o=i);else t=g(t,n),p.each(e,function(e,n,i){r=t(e,n,i),(r>s||r===-1/0&&o===-1/0)&&(o=e,s=r)});return o},p.min=function(e,t,n){var i,r,o=1/0,s=1/0;if(!t&&p.isArray(e))for(var a=0,u=e.length;u>a;a++)i=e[a],o>i&&(o=i);else t=g(t,n),p.each(e,function(e,n,i){r=t(e,n,i),(s>r||1/0===r&&1/0===o)&&(o=e,s=r)});return o},p.shuffle=function(e){var t,n=0,i=[];return p.each(e,function(e){t=p.random(n++),i[n-1]=i[t],i[t]=e}),i},p.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=p.values(e)),e[p.random(e.length-1)]):p.shuffle(e).slice(0,Math.max(0,t))},p.sortBy=function(e,t,n){return t=g(t,n),p.pluck(p.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var _=function(e){return function(t,n,i){var r={};return n=g(n,i),p.each(t,function(i,o){var s=n(i,o,t);e(r,i,s)}),r}};p.groupBy=_(function(e,t,n){p.has(e,n)?e[n].push(t):e[n]=[t]}),p.indexBy=_(function(e,t,n){e[n]=t}),p.countBy=_(function(e,t,n){p.has(e,n)?e[n]++:e[n]=1}),p.sortedIndex=function(e,t,n,i){n=g(n,i,1);for(var r=n(t),o=0,s=e.length;s>o;){var a=o+s>>>1;n(e[a])<r?o=a+1:s=a}return o},p.toArray=function(e){return e?p.isArray(e)?a.call(e):e.length===+e.length?p.map(e,p.identity):p.values(e):[]},p.size=function(e){return null==e?0:e.length===+e.length?e.length:p.keys(e).length},p.partition=function(e,t,n){t=g(t,n);var i=[],r=[];return p.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},p.first=p.head=p.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:a.call(e,0,t)},p.initial=function(e,t,n){return a.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},p.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},p.rest=p.tail=p.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},p.compact=function(e){return p.filter(e,p.identity)};var y=function(e,t,n,i){if(t&&p.every(e,p.isArray))return u.apply(i,e);for(var r=0,o=e.length;o>r;r++){var a=e[r];p.isArray(a)||p.isArguments(a)?t?s.apply(i,a):y(a,t,n,i):n||i.push(a)}return i};p.flatten=function(e,t){return y(e,t,!1,[])},p.without=function(e){return p.difference(e,a.call(arguments,1))},p.uniq=p.unique=function(e,t,n,i){if(null==e)return[];p.isFunction(t)&&(i=n,n=t,t=!1),n&&(n=g(n,i));for(var r=[],o=[],s=0,a=e.length;a>s;s++){var u=e[s];n&&(u=n(u,s,e)),(t?s&&o===u:p.contains(o,u))||(t?o=u:o.push(u),r.push(e[s]))}return r},p.union=function(){return p.uniq(y(arguments,!0,!0,[]))},p.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,i=0,r=e.length;r>i;i++){var o=e[i];if(!p.contains(t,o)){for(var s=1;n>s&&p.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},p.difference=function(e){var t=y(a.call(arguments,1),!0,!0,[]);return p.filter(e,function(e){return!p.contains(t,e)})},p.zip=function(e){if(null==e)return[];for(var t=p.max(arguments,"length").length,n=Array(t),i=0;t>i;i++)n[i]=p.pluck(arguments,i);return n},p.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},p.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=p.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}for(;r>i;i++)if(e[i]===t)return i;return-1},p.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=e.length;for("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1));--i>=0;)if(e[i]===t)return i;return-1},p.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=Array(i);i>r;)o[r++]=e,e+=n;return o};var q=function(){};p.bind=function(e,t){var n,i;if(h&&e.bind===h)return h.apply(e,a.call(arguments,1));if(!p.isFunction(e))throw TypeError("Bind must be called on a function");return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(a.call(arguments)));q.prototype=e.prototype;var r=new q;q.prototype=null;var o=e.apply(r,n.concat(a.call(arguments)));return Object(o)===o?o:r}},p.partial=function(e){var t=a.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,o=i.length;o>r;r++)i[r]===p&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},p.bindAll=function(e){var t,n=1,i=arguments.length;if(1>=i)throw Error("bindAll must be passed function names");for(;i>n;n++)t=arguments[n],e[t]=p.bind(e[t],e);return e},p.memoize=function(e,t){var n=function(i){var r=n.cache,o=t?t.apply(this,arguments):i;return p.has(r,o)||(r[o]=e.apply(this,arguments)),r[i]};return n.cache={},n},p.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},p.defer=function(e){return p.delay.apply(p,[e,1].concat(a.call(arguments,1)))},p.throttle=function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:p.now(),s=null,o=e.apply(i,r),s||(i=r=null)};return function(){var l=p.now();a||n.leading!==!1||(a=l);var c=t-(l-a);return i=this,r=arguments,0>=c||c>t?(clearTimeout(s),s=null,a=l,o=e.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(u,c)),o}},p.debounce=function(e,t,n){var i,r,o,s,a,u=function(){var l=p.now()-s;t>l&&l>0?i=setTimeout(u,t-l):(i=null,n||(a=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=p.now();var l=n&&!i;return i||(i=setTimeout(u,t)),l&&(a=e.apply(o,r),o=r=null),a}},p.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},p.wrap=function(e,t){return p.partial(t,e)},p.negate=function(e){return function(){return!e.apply(this,arguments)}},p.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},p.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},p.keys=function(e){if(!p.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)p.has(e,n)&&t.push(n);return t},p.values=function(e){for(var t=p.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},p.pairs=function(e){for(var t=p.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},p.invert=function(e){for(var t={},n=p.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},p.functions=p.methods=function(e){var t=[];for(var n in e)p.isFunction(e[n])&&t.push(n);return t.sort()},p.extend=function(e){if(!p.isObject(e))return e;for(var t,n,i=1,r=arguments.length;r>i;i++){t=arguments[i];for(n in t)e[n]=t[n]}return e},p.pick=function(e,t,n){var i,r={};if(null==e)return r;if(p.isFunction(t)){t=m(t,n);for(i in e){var o=e[i];t(o,i,e)&&(r[i]=o)}}else{var s=u.apply([],a.call(arguments,1));e=Object(e);for(var l=0,c=s.length;c>l;l++)i=s[l],i in e&&(r[i]=e[i])}return r},p.omit=function(e,t,n){if(p.isFunction(t))t=p.negate(t);else{var i=p.map(u.apply([],a.call(arguments,1)),String);t=function(e,t){return!p.contains(i,t)}}return p.pick(e,t,n)},p.defaults=function(e){if(!p.isObject(e))return e;for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];for(var r in i)void 0===e[r]&&(e[r]=i[r])}return e},p.clone=function(e){return p.isObject(e)?p.isArray(e)?e.slice():p.extend({},e):e},p.tap=function(e,t){return t(e),e};var b=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof p&&(e=e._wrapped),t instanceof p&&(t=t._wrapped);var r=l.call(e);if(r!==l.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]===e)return i[o]===t;var s=e.constructor,a=t.constructor;if(s!==a&&"constructor"in e&&"constructor"in t&&!(p.isFunction(s)&&s instanceof s&&p.isFunction(a)&&a instanceof a))return!1;n.push(e),i.push(t);var u,c;if("[object Array]"===r){if(u=e.length,c=u===t.length)for(;u--&&(c=b(e[u],t[u],n,i)););}else{var d,f=p.keys(e);if(u=f.length,c=p.keys(t).length==u)for(;u--&&(d=f[u],c=p.has(t,d)&&b(e[d],t[d],n,i)););}return n.pop(),i.pop(),c};p.isEqual=function(e,t){return b(e,t,[],[])},p.isEmpty=function(e){if(null==e)return!0;if(p.isArray(e)||p.isString(e)||p.isArguments(e))return 0===e.length;for(var t in e)if(p.has(e,t))return!1;return!0},p.isElement=function(e){return!(!e||1!==e.nodeType)},p.isArray=d||function(e){return"[object Array]"===l.call(e)},p.isObject=function(e){return e===Object(e)},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){p["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),p.isArguments(arguments)||(p.isArguments=function(e){return p.has(e,"callee")}),"function"!=typeof/./&&(p.isFunction=function(e){return"function"==typeof e}),p.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},p.isNaN=function(e){return p.isNumber(e)&&e!==+e},p.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},p.isNull=function(e){return null===e},p.isUndefined=function(e){return void 0===e},p.has=function(e,t){return null!=e&&c.call(e,t)},p.noConflict=function(){return e._=t,this},p.identity=function(e){return e},p.constant=function(e){return function(){return e}},p.noop=function(){},p.property=function(e){return function(t){return t[e]}},p.matches=function(e){return function(t){if(null==t)return p.isEmpty(e);if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},p.times=function(e,t,n){var i=Array(Math.max(0,e));t=m(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},p.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},p.now=Date.now||function(){return(new Date).getTime()};var w={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};w.unescape=p.invert(w.escape);var S={escape:RegExp("["+p.keys(w.escape).join("")+"]","g"),unescape:RegExp("("+p.keys(w.unescape).join("|")+")","g")};p.each(["escape","unescape"],function(e){p[e]=function(t){return null==t?"":(""+t).replace(S[e],function(t){return w[e][t]})}}),p.result=function(e,t){if(null==e)return void 0;var n=e[t];return p.isFunction(n)?e[t]():n};var x=0;p.uniqueId=function(e){var t=++x+"";return e?e+t:t},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},E=/\\|'|\r|\n|\u2028|\u2029/g,P=function(e){return"\\"+T[e]};p.template=function(e,t,n){n=p.defaults({},n,p.templateSettings);var i=RegExp([(n.escape||C).source,(n.interpolate||C).source,(n.evaluate||C).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,s,a){return o+=e.slice(r,a).replace(E,P),r=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=Function(n.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(t)return s(t,p);var u=function(e){return s.call(this,e,p)},l=n.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},p.chain=function(e){var t=p(e);return t._chain=!0,t};var A=function(e){return this._chain?p(e).chain():e};p.mixin=function(e){p.each(p.functions(e),function(t){var n=p[t]=e[t];p.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),A.call(this,n.apply(p,e))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];p.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],A.call(this,n)}}),p.each(["concat","join","slice"],function(e){var t=i[e];p.prototype[e]=function(){return A.call(this,t.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}.call(this),function(){this.Rules={init:function(e){return this.rules=e,this.actionDependents=this.initializeDependents(e)},initializeDependents:function(){var e,t,n,i,r,o,s,a,u,l,c;if(i={},null!=this.rules)for(u=this.rules,r=0,s=u.length;s>r;r++)for(c=u[r],l=c.actions,o=0,a=l.length;a>o;o++)e=l[o],t=i[e.field],null==t&&(n=this.findRulesOnCondition(e),n.length>0&&(i[e.field]=n));return i},findRulesOnCondition:function(e){var t,n,i,r,o,s,a,u,l;for(n=[],a=this.rules,i=0,o=a.length;o>i;i++)for(l=a[i],u=l.conditions,r=0,s=u.length;s>r;r++)if(t=u[r],t.field===e.field){n.push(l);break}return n},initialize:function(){var e,t,n,i,r,o,s,a,u,l;if(null!=this.rules){for(s=this.rules,u=[],n=0,r=s.length;r>n;n++){for(l=s[n],a=l.actions,i=0,o=a.length;o>i;i++)e=a[i],"show"===e.type&&$("#field-"+e.field).hide();u.push(function(){var e,n,i,r;for(i=l.conditions,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push($("#field-"+t.field).on("change keyup",function(){var e,t;return e=$(this),t=500,clearTimeout(e.data("timer")),e.data("timer",setTimeout(function(){return e.removeData("timer"),Rules.handleChange(e)},t))}));return r}())}return u}},handleChange:function(e){var t,n,i,r,o,s;if(t=e.attr("id").split("-").pop(),s=this.getRules(t),null!=s){for(n=0,i=s.length;i>n;n++)r=s[n],o=this.processRule(r),this.processAction(r,o);return Rules.processDependents(s)}},processAction:function(e,t){var n,i,r,o,s,a,u,l,c;if(t){for(a=e.actions,l=[],i=0,o=a.length;o>i;i++)n=a[i],l.push("hide"===n.type?this.clearFieldValue($("#field-"+n.field).hide()):$("#field-"+n.field).show());return l}for(u=e.actions,c=[],r=0,s=u.length;s>r;r++)n=u[r],c.push("hide"===n.type?$("#field-"+n.field).show():this.clearFieldValue($("#field-"+n.field).hide()));return c},processDependents:function(e){var t,n,i,r,o,s,a,u,l;for(a=[],n=0,r=e.length;r>n;n++){for(u=e[n],l=this.processRule(u),s=u.actions,i=0,o=s.length;o>i;i++)t=s[i],this.processDependentRules(t,l);a.push(this.processAction(u,l))}return a},processDependentRules:function(e,t){var n,i,r,o,s,a,u;if(o=this.actionDependents[e.field]){for(u=[],s=0,a=o.length;a>s;s++)i=o[s],r=this.processRule(i),u.push(function(){var e,o,s,a;for(s=i.actions,a=[],e=0,o=s.length;o>e;e++)n=s[e],"show"===n.type&&!t||"hide"===n.type&&t?this.clearFieldValue($("#field-"+n.field).hide()):r&&$("#field-"+n.field).show(),a.push(this.processDependentRules(n,r));return a}.call(this));return u}},clearFieldValue:function(e){return e.hasClass("type-checkbox")||e.hasClass("type-radio")?e.find(":checkbox, :radio").prop("checked",!1):e.hasClass("type-select")?e.find("option").prop("selected",!1):e.find("textarea, input[type=text]").val("")},getRules:function(e){var t,n,i,r,o,s,a,u,l;for(l=[],s=this.rules,n=0,r=s.length;r>n;n++)for(u=s[n],a=u.conditions,i=0,o=a.length;o>i;i++)if(t=a[i],t.field===e){l.push(u);break}return l},processRule:function(e){var t,n,i,r,o,s,a,u,l;for(u=!1,i=[],a=e.conditions,o=0,s=a.length;s>o;o++)t=a[o],n=$("#field-"+t.field),n.hasClass("type-checkbox")?n.find(":checkbox:checked").each(function(){var e;return e=$(this).val(),i.push(Rules.matchConditionValue(t,e))}):(r=n.hasClass("type-radio")?n.find("input[name$='[value]']:checked").val():n.find("input[name$='[value]'],textarea[name$='[value]'],select[name$='[value]']").val(),l=$.trim(r),i.push(Rules.matchConditionValue(t,l)));switch(e.condition_match){case"or":u=_.any(i,function(e){return e});break;case"and":u=_.all(i,function(e){return e})}return u},matchConditionValue:function(e,t){var n,i,r,o,s;return s=$.trim(e.value),i=Rules.escapeRegEx(s),o=new RegExp("^"+i+"$","i"),r=new RegExp(""+i,"i"),n=function(){switch(e.equalizer){case"is":return o.test(t);case"is not":return!o.test(t);case"includes":return r.test(t);case"excludes":return!r.test(t)}}()},escapeRegEx:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}}.call(this),function(){this.RsvpFormSubmission={init:function(){return jQuery.validator.addMethod("remotePasscode",function(e,t,n){var i,r,o,s;return i=$(t).attr("name").replace("[value]","[form_field_id]"),r=$("input[name='"+i+"']").val(),s={data:{passcode:e,form_field_id:r}},o=$.extend(!0,n,s),$.validator.methods.remote.call(this,e,t,o)},"Passcode is invalid."),jQuery.validator.addClassRules("passcode",{remotePasscode:{url:"/check.json"}}),$("form#new_response").on("ajax:error",function(){return 0===$("#errors").length?$("#rsvp-form-post").prepend('<div id="errors"><h4>We had a problem trying to save your reply. Sorry!<br/>Please try again in a few moments.</h4></div>'):void 0}),$("form#new_response").validate({submitHandler:function(e){return $("#field-rsvp-submit-button").is(":hidden")?void 0:$.rails.handleRemote($(e))}})}}}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.GuestbookForm={init:function(){var t,n;return $("#add-message-link").on("click",function(e){return e.preventDefault(),$("#guestbook-post").show(),$("#message_name").focus(),$(this).hide()}),$("#cancel-submit-message").click(function(e){return e.preventDefault(),$("#guestbook-post").hide(),$("#guestbook-photo-preview").attr("src",""),$("#message_image_url").val(""),$("#add-message-link").show(),$("form#new_message").get(0).reset(),$("form#new_message").data("validator").resetForm()}),$("form#new_message").validate({submitHandler:function(e){return $.rails.handleRemote($(e))},errorPlacement:function(e,t){return t.parents(".field-group").append(e)}}),t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.defaultSettings=function(){var e,t;return t=n.__super__.defaultSettings.apply(this,arguments),e={validation:{sizeLimit:5e6}},$.extend(!0,t,e)},n.prototype.onComplete=function(e,t,i,r){var o,s;return i.success&&($("#message_image_url").val(r),o=r+"?fit=max&w=500&h=750",s=r+"?fit=max&w=50&h=50",$("#guestbook-photo-preview").attr("src",s)),n.__super__.onComplete.apply(this,arguments)},n}(ImageUploader),n=new t({directory:"guestbook",element:$("#guestbook-upload-button")[0]})}}}.call(this),function(){this.SongRequests={clearSongFields:function(){return $("#request_artist_name").val(""),$("#request_track_title").val(""),$("#request_thumbnail").val("")},resetForm:function(){return this.clearSongFields(),$("#song-choice").hide(),$("#song-request-hotline").hide(),$("#add-request-link").show(),$("#manual-song-choice").hide(),$("#manual-input").hide(),$("#request_name").val(""),$("#song-suggestion-search").val(""),$("#song-suggestion").show(),$("form#new_request").data("validator").resetForm()},init:function(){return jQuery.validator.addMethod("gottapick",function(e){return $.trim(e).length<2||$("#song-suggestion-search").hasClass("ui-autocomplete-loading")||$("#suggestion-spinner").is(":visible")||$("#song-suggestions").is(":visible")||$("#song-suggestion").is(":hidden")},"Please choose a song after searching."),$("form#new_request").validate({showErrors:function(e){var t;return this.defaultShowErrors(),t=$.trim(e.song_suggestion_search),t.length&&"This field is required."!==t?$("#manual-input").show():void 0},submitHandler:function(e){return $.rails.handleRemote($(e))},errorPlacement:function(e,t){return t.parent(".field-group").append(e)},rules:{song_suggestion_search:{required:{depends:function(){return $("#song-suggestion").is(":visible")}},gottapick:!0}}}),$("#add-request-link").on("click",function(e){return e.preventDefault(),$("#song-request-hotline").show(),$("#request_name").focus(),$(this).hide()}),$("#cancel-submit-suggestion").on("click",function(e){return e.preventDefault(),SongRequests.resetForm()}),$("#remove-song-choice").on("click",function(e){return e.preventDefault(),SongRequests.clearSongFields(),$("#song-choice").hide(),setTimeout(function(){return $("#song-suggestion-search").val("").focus()},0),$("#song-suggestion").show()}),$("#go-back-searching").on("click",function(e){return e.preventDefault(),$("#manual-song-choice").hide(),SongRequests.clearSongFields(),setTimeout(function(){return $("#song-suggestion-search").val("").focus()},0),$("#song-suggestion").show()}),$("#manual-input a").on("click",function(e){return e.preventDefault(),SongRequests.clearSongFields(),$("form#new_request").data("validator").resetForm(),$("#song-suggestion").hide(),$("#song-suggestion-search").val(""),$("#manual-input").hide(),setTimeout(function(){return $("#request_track_title").focus()},0),$("#manual-song-choice").show()}),$.validator.messages.manual_title="Can't find the song?",$.validator.messages.manual_message="Enter your song request manually",$("#song-suggestion-search").autocomplete({minLength:2,source:function(e,t){return $.ajax({dataType:"json",url:"/suggestions",data:{term:e.term},success:function(e){return e.length||e.push({valid:!1}),e.push({track_name:$.validator.messages.manual_title,artist_name:$.validator.messages.manual_message,valid:!0}),t(e)}})},select:function(e,t){var n;return t.item&&t.item.valid?(t.item.thumbnail?($("#request_track_title").val(t.item.track_name),$("#request_artist_name").val(t.item.artist_name),$("#request_thumbnail").val(t.item.thumbnail),n=$("#song-choice"),n.find("img").attr("src",t.item.thumbnail),n.find("h4").html(t.item.track_name),n.find("h5").html(t.item.artist_name),n.show()):(setTimeout(function(){return $("#request_track_title").focus()
},0),$("#manual-song-choice").show()),$("#song-suggestion").hide(),$("#manual-input").hide()):void 0},create:function(){return $("#suggestion-spinner").spin({lines:10,length:4,width:2,radius:3,speed:3,top:"0%",left:"0%"},"black")}}),$("#song-suggestion-search").data("ui-autocomplete")._renderItem=function(e,t){var n;return n=$("<a>",{"class":"clearfix"}),t.thumbnail&&n.append($("<img>",{src:t.thumbnail,width:"50",height:"50"})),n.append($("<h4>",{text:t.track_name})),n.append($("<h5>",{text:t.artist_name})),$("<li>").append(n).appendTo(e)},$("#song-suggestion-search").data("ui-autocomplete")._renderMenu=function(e,t){var n;return n=this,$.each(t,function(t,i){return i.valid?n._renderItemData(e,i):void 0}),$(e).children().last().attr("id","input-suggestion"),$(e).attr("id","song-suggestions")}}}}.call(this),function(){this.RsvpNext={init:function(){return this.initializeValidation(),this.initializeButtons(),this.initializeAttendance(),this.initializePartyDropDown()},initializeValidation:function(){return RsvpNext.validateForm()},initializeButtons:function(){return $(document).on("ajax:success","button[data-remote],form",function(e,t){return $("#rsvp-next-content").html(t),RsvpNext.validateForm()})},validateForm:function(){return $("#rsvp-next-content").find("form").validate({submitHandler:function(e){return $.rails.handleRemote($(e))}})},initializeAttendance:function(){return $(document).on("change",".guest-attending",function(){var e,t,n;return t=$(this),e=t.val(),n=t.parents("ul").nextAll(".meal-questions"),"true"===e?n.show():(n.find("input[type=radio]").prop("checked",!1),n.hide())})},initializePartyDropDown:function(){return $(document).on("change","#total-party-number",function(){var e,t,n,i,r,o,s,a,u,l;if(r=$(this).find("option:last").val(),o=parseInt($(this).val()),o>1)for(t=n=2,s=o;s>=2?s>=n:n>=s;t=s>=2?++n:--n)e=$("#extra-party-member-"+t),e.find("input[type=text],input[type=radio],input[type=hidden]").removeAttr("disabled"),e.show();if(r>o){for(l=[],t=i=a=o+1,u=r;u>=a?u>=i:i>=u;t=u>=a?++i:--i)e=$("#extra-party-member-"+t),e.find("input[type=text],textarea").val("").attr("disabled","disabled"),e.find("input[type=radio],input[type=hidden]").attr("disabled","disabled"),l.push(e.hide());return l}})}}}.call(this),function(){$.validator.i18n={}}.call(this),function(e){e.validator.i18n.de={required:"Dieses Feld ist ein Pflichtfeld.",maxlength:e.validator.format("Geben Sie bitte maximal {0} Zeichen ein."),minlength:e.validator.format("Geben Sie bitte mindestens {0} Zeichen ein."),rangelength:e.validator.format("Geben Sie bitte mindestens {0} und maximal {1} Zeichen ein."),email:"Geben Sie bitte eine g\xfcltige E-Mail Adresse ein.",url:"Geben Sie bitte eine g\xfcltige URL ein.",date:"Bitte geben Sie ein g\xfcltiges Datum ein.",number:"Geben Sie bitte eine Nummer ein.",digits:"Geben Sie bitte nur Ziffern ein.",equalTo:"Bitte denselben Wert wiederholen.",range:e.validator.format("Geben Sie bitte einen Wert zwischen {0} und {1} ein."),max:e.validator.format("Geben Sie bitte einen Wert kleiner oder gleich {0} ein."),min:e.validator.format("Geben Sie bitte einen Wert gr\xf6\xdfer oder gleich {0} ein."),creditcard:"Geben Sie bitte eine g\xfcltige Kreditkarten-Nummer ein.",gottapick:"Bitte w\xe4hlen Sie ein Lied nach der Suche.",manual_title:"Kann das Lied nicht finden?",manual_message:"Geben Sie Ihren Musikwunsch manuell"}}(jQuery),function(e){e.validator.i18n.es={required:"Este campo es obligatorio.",remote:"Por favor, rellena este campo.",email:"Por favor, escribe una direcci\xf3n de correo v\xe1lida.",url:"Por favor, escribe una URL v\xe1lida.",date:"Por favor, escribe una fecha v\xe1lida.",dateISO:"Por favor, escribe una fecha (ISO) v\xe1lida.",number:"Por favor, escribe un n\xfamero v\xe1lido.",digits:"Por favor, escribe s\xf3lo d\xedgitos.",creditcard:"Por favor, escribe un n\xfamero de tarjeta v\xe1lido.",equalTo:"Por favor, escribe el mismo valor de nuevo.",extension:"Por favor, escribe un valor con una extensi\xf3n aceptada.",maxlength:e.validator.format("Por favor, no escribas m\xe1s de {0} caracteres."),minlength:e.validator.format("Por favor, no escribas menos de {0} caracteres."),rangelength:e.validator.format("Por favor, escribe un valor entre {0} y {1} caracteres."),range:e.validator.format("Por favor, escribe un valor entre {0} y {1}."),max:e.validator.format("Por favor, escribe un valor menor o igual a {0}."),min:e.validator.format("Por favor, escribe un valor mayor o igual a {0}."),nifES:"Por favor, escribe un NIF v\xe1lido.",nieES:"Por favor, escribe un NIE v\xe1lido.",cifES:"Por favor, escribe un CIF v\xe1lido.",gottapick:"Por favor, elija una canci\xf3n despu\xe9s de buscar.",manual_title:"No se puede encontrar la canci\xf3n?",manual_message:"Escribe tu canci\xf3n petici\xf3n manualmente"}}(jQuery),function(e){e.validator.i18n.fr={required:"Ce champ est obligatoire.",remote:"Veuillez corriger ce champ.",email:"Veuillez fournir une adresse \xe9lectronique valide.",url:"Veuillez fournir une adresse URL valide.",date:"Veuillez fournir une date valide.",dateISO:"Veuillez fournir une date valide (ISO).",number:"Veuillez fournir un num\xe9ro valide.",digits:"Veuillez fournir seulement des chiffres.",creditcard:"Veuillez fournir un num\xe9ro de carte de cr\xe9dit valide.",equalTo:"Veuillez fournir encore la m\xeame valeur.",extension:"Veuillez fournir une valeur avec une extension valide.",maxlength:e.validator.format("Veuillez fournir au plus {0} caract\xe8res."),minlength:e.validator.format("Veuillez fournir au moins {0} caract\xe8res."),rangelength:e.validator.format("Veuillez fournir une valeur qui contient entre {0} et {1} caract\xe8res."),range:e.validator.format("Veuillez fournir une valeur entre {0} et {1}."),max:e.validator.format("Veuillez fournir une valeur inf\xe9rieure ou \xe9gale \xe0 {0}."),min:e.validator.format("Veuillez fournir une valeur sup\xe9rieure ou \xe9gale \xe0 {0}."),maxWords:e.validator.format("Veuillez fournir au plus {0} mots."),minWords:e.validator.format("Veuillez fournir au moins {0} mots."),rangeWords:e.validator.format("Veuillez fournir entre {0} et {1} mots."),letterswithbasicpunc:"Veuillez fournir seulement des lettres et des signes de ponctuation.",alphanumeric:"Veuillez fournir seulement des lettres, nombres, espaces et soulignages.",lettersonly:"Veuillez fournir seulement des lettres.",nowhitespace:"Veuillez ne pas inscrire d'espaces blancs.",ziprange:"Veuillez fournir un code postal entre 902xx-xxxx et 905-xx-xxxx.",integer:"Veuillez fournir un nombre non d\xe9cimal qui est positif ou n\xe9gatif.",vinUS:"Veuillez fournir un num\xe9ro d'identification du v\xe9hicule (VIN).",dateITA:"Veuillez fournir une date valide.",time:"Veuillez fournir une heure valide entre 00:00 et 23:59.",phoneUS:"Veuillez fournir un num\xe9ro de t\xe9l\xe9phone valide.",phoneUK:"Veuillez fournir un num\xe9ro de t\xe9l\xe9phone valide.",mobileUK:"Veuillez fournir un num\xe9ro de t\xe9l\xe9phone mobile valide.",strippedminlength:e.validator.format("Veuillez fournir au moins {0} caract\xe8res."),email2:"Veuillez fournir une adresse \xe9lectronique valide.",url2:"Veuillez fournir une adresse URL valide.",creditcardtypes:"Veuillez fournir un num\xe9ro de carte de cr\xe9dit valide.",ipv4:"Veuillez fournir une adresse IP v4 valide.",ipv6:"Veuillez fournir une adresse IP v6 valide.",require_from_group:"Veuillez fournir au moins {0} de ces champs.",nifES:"Veuillez fournir un num\xe9ro NIF valide.",nieES:"Veuillez fournir un num\xe9ro NIE valide.",cifES:"Veuillez fournir un num\xe9ro CIF valide.",postalCodeCA:"Veuillez fournir un code postal valide.",gottapick:"S'il vous pla\xeet choisir une chanson apr\xe8s une recherche.",manual_title:"Vous ne trouvez pas la chanson?",manual_message:"Entrez votre demande de chanson manuellement"}}(jQuery),function(e){e.validator.i18n.ru={required:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c.",remote:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.",email:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b.",url:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL.",date:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443.",dateISO:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 ISO.",number:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e.",digits:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u043e\u0434\u0438\u0442\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b.",creditcard:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0439 \u043a\u0430\u0440\u0442\u044b.",equalTo:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0430\u043a\u043e\u0435 \u0436\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.",extension:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c.",maxlength:e.validator.format("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 {0} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."),minlength:e.validator.format("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 {0} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."),rangelength:e.validator.format("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u0438\u043d\u043e\u0439 \u043e\u0442 {0} \u0434\u043e {1} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."),range:e.validator.format("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e \u043e\u0442 {0} \u0434\u043e {1}."),max:e.validator.format("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e, \u043c\u0435\u043d\u044c\u0448\u0435\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e\u0435 {0}."),min:e.validator.format("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e, \u0431\u043e\u043b\u044c\u0448\u0435\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e\u0435 {0}."),gottapick:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0441\u043d\u044e \u043f\u043e\u0441\u043b\u0435 \u043f\u043e\u0438\u0441\u043a\u0430.",manual_title:"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u044d\u0442\u0443 \u043f\u0435\u0441\u043d\u044e?",manual_message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u0435\u0441\u043d\u0438 \u0432\u0440\u0443\u0447\u043d\u0443\u044e"}}(jQuery),function(e){e.validator.i18n["zh-CN"]={required:"\u8fd9\u662f\u5fc5\u586b\u5b57\u6bb5",remote:"\u8bf7\u4fee\u6b63\u6b64\u5b57\u6bb5",email:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740",url:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7f51\u5740",date:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u65e5\u671f",dateISO:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u65e5\u671f (YYYY-MM-DD)",number:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u6570\u5b57",digits:"\u53ea\u80fd\u8f93\u5165\u6570\u5b57",creditcard:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u4fe1\u7528\u5361\u53f7\u7801",equalTo:"\u4f60\u7684\u8f93\u5165\u4e0d\u76f8\u540c",extension:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u540e\u7f00",maxlength:e.validator.format("\u6700\u591a\u53ef\u4ee5\u8f93\u5165 {0} \u4e2a\u5b57\u7b26"),minlength:e.validator.format("\u6700\u5c11\u8981\u8f93\u5165 {0} \u4e2a\u5b57\u7b26"),rangelength:e.validator.format("\u8bf7\u8f93\u5165\u957f\u5ea6\u5728 {0} \u5230 {1} \u4e4b\u95f4\u7684\u5b57\u7b26\u4e32"),range:e.validator.format("\u8bf7\u8f93\u5165\u8303\u56f4\u5728 {0} \u5230 {1} \u4e4b\u95f4\u7684\u6570\u503c"),max:e.validator.format("\u8bf7\u8f93\u5165\u4e0d\u5927\u4e8e {0} \u7684\u6570\u503c"),min:e.validator.format("\u8bf7\u8f93\u5165\u4e0d\u5c0f\u4e8e {0} \u7684\u6570\u503c"),gottapick:"\u8bf7\u641c\u7d22\u540e\u9009\u62e9\u4e00\u9996\u6b4c\u66f2",manual_title:"\u627e\u4e0d\u5230\u8fd9\u9996\u6b4c?",manual_message:"\u624b\u52a8\u8f93\u5165\u4f60\u7684\u6b4c\u7684\u8bf7\u6c42"}}(jQuery),function(e){e.validator.i18n["zh-HK"]={required:"\u5fc5\u9808\u586b\u5beb",remote:"\u8acb\u4fee\u6b63\u6b64\u6b04\u4f4d",email:"\u8acb\u8f38\u5165\u6709\u6548\u7684\u96fb\u5b50\u90f5\u4ef6",url:"\u8acb\u8f38\u5165\u6709\u6548\u7684\u7db2\u5740",date:"\u8acb\u8f38\u5165\u6709\u6548\u7684\u65e5\u671f",dateISO:"\u8acb\u8f38\u5165\u6709\u6548\u7684\u65e5\u671f (YYYY-MM-DD)",number:"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u6578\u503c",digits:"\u53ea\u53ef\u8f38\u5165\u6578\u5b57",creditcard:"\u8acb\u8f38\u5165\u6709\u6548\u7684\u4fe1\u7528\u5361\u865f\u78bc",equalTo:"\u8acb\u91cd\u8907\u8f38\u5165\u4e00\u6b21",extension:"\u8acb\u8f38\u5165\u6709\u6548\u7684\u5f8c\u7db4",maxlength:e.validator.format("\u6700\u591a {0} \u500b\u5b57"),minlength:e.validator.format("\u6700\u5c11 {0} \u500b\u5b57"),rangelength:e.validator.format("\u8acb\u8f38\u5165\u9577\u5ea6\u70ba {0} \u81f3 {1} \u4e4b\u9593\u7684\u5b57\u4e32"),range:e.validator.format("\u8acb\u8f38\u5165 {0} \u81f3 {1} \u4e4b\u9593\u7684\u6578\u503c"),max:e.validator.format("\u8acb\u8f38\u5165\u4e0d\u5927\u65bc {0} \u7684\u6578\u503c"),min:e.validator.format("\u8acb\u8f38\u5165\u4e0d\u5c0f\u65bc {0} \u7684\u6578\u503c"),gottapick:"\u8acb\u641c\u7d22\u5f8c\u9078\u64c7\u4e00\u9996\u6b4c\u66f2",manual_title:"\u627e\u4e0d\u5230\u9019\u9996\u6b4c?",manual_message:"\u624b\u52d5\u8f38\u5165\u4f60\u7684\u6b4c\u7684\u8acb\u6c42"}}(jQuery),function(e,t){function n(t,n){var r,o,s,a=t.nodeName.toLowerCase();return"area"===a?(r=t.parentNode,o=r.name,t.href&&o&&"map"===r.nodeName.toLowerCase()?(s=e("img[usemap=#"+o+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?a["inner"+i].call(this):this.each(function(){e(this).css(s,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(t,n,i){var r,o,s,a,u={},l=t.split(".")[0];t=t.split(".")[1],r=l+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(i,function(t,i){return e.isFunction(i)?void(u[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(u[t]=i)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:t},u,{constructor:s,namespace:l,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(n){for(var r,o,s=i.call(arguments,1),a=0,u=s.length;u>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==t&&(n[r]=e.isPlainObject(o)?e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(s){var a="string"==typeof s,u=i.call(arguments,1),l=this;return s=!a&&u.length?e.widget.extend.apply(null,[s].concat(u)):s,this.each(a?function(){var i,r=e.data(this,o);return r?e.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,u),i!==r&&i!==t?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'")}:function(){var t=e.data(this,o);t?t.option(s||{})._init():e.data(this,o,new r(s,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,s,a=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(o=a[n]=e.widget.extend({},this.options[n]),s=0;s<r.length-1;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var u=i.match(/^(\w+)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?r.delegate(c,l,a):n.bind(l,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}})}(jQuery),function(e,t){function n(e,t,n){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,s=Math.max,a=Math.abs,u=Math.round,l=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,h=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var n,i,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),n=s.offsetWidth,r.css("overflow","scroll"),i=s.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),o=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var o,h,m,g,v,_,y=e(t.of),q=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(q),w=(t.collision||"flip").split(" "),S={};return _=r(y),y[0].preventDefault&&(t.at="left top"),h=_.width,m=_.height,g=_.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",e=d.exec(i[0]),n=d.exec(i[1]),S[this]=[e?e[0]:0,n?n[0]:0],t[this]=[f.exec(i[0])[0],f.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?v.left+=h:"center"===t.at[0]&&(v.left+=h/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),o=n(S.at,h,m),v.left+=o[0],v.top+=o[1],this.each(function(){var r,l,c=e(this),d=c.outerWidth(),f=c.outerHeight(),p=i(this,"marginLeft"),_=i(this,"marginTop"),x=d+p+i(this,"marginRight")+b.width,C=f+_+i(this,"marginBottom")+b.height,T=e.extend({},v),E=n(S.my,c.outerWidth(),c.outerHeight());"right"===t.my[0]?T.left-=d:"center"===t.my[0]&&(T.left-=d/2),"bottom"===t.my[1]?T.top-=f:"center"===t.my[1]&&(T.top-=f/2),T.left+=E[0],T.top+=E[1],e.support.offsetFractions||(T.left=u(T.left),T.top=u(T.top)),r={marginLeft:p,marginTop:_},e.each(["left","top"],function(n,i){e.ui.position[w[n]]&&e.ui.position[w[n]][i](T,{targetWidth:h,targetHeight:m,elemWidth:d,elemHeight:f,collisionPosition:r,collisionWidth:x,collisionHeight:C,offset:[o[0]+E[0],o[1]+E[1]],my:t.my,at:t.at,within:q,elem:c})}),t.using&&(l=function(e){var n=g.left-T.left,i=n+h-d,r=g.top-T.top,o=r+m-f,u={target:{element:y,left:g.left,top:g.top,width:h,height:m},element:{element:c,left:T.left,top:T.top,width:d,height:f},horizontal:0>i?"left":n>0?"right":"center",vertical:0>o?"top":r>0?"bottom":"middle"};d>h&&a(n+i)<h&&(u.horizontal="center"),f>m&&a(r+o)<m&&(u.vertical="middle"),u.important=s(a(n),a(i))>s(a(r),a(o))?"horizontal":"vertical",t.using.call(this,e,u)}),c.offset(e.extend(T,{using:l}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=e.left-t.collisionPosition.marginLeft,u=r-a,l=a+t.collisionWidth-o-r;t.collisionWidth>o?u>0&&0>=l?(n=e.left+u+t.collisionWidth-o-r,e.left+=u-n):e.left=l>0&&0>=u?r:u>l?r+o-t.collisionWidth:r:u>0?e.left+=u:l>0?e.left-=l:e.left=s(e.left-a,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,u=r-a,l=a+t.collisionHeight-o-r;t.collisionHeight>o?u>0&&0>=l?(n=e.top+u+t.collisionHeight-o-r,e.top+=u-n):e.top=l>0&&0>=u?r:u>l?r+o-t.collisionHeight:r:u>0?e.top+=u:l>0?e.top-=l:e.top=s(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,u=r.isWindow?r.scrollLeft:r.offset.left,l=e.left-t.collisionPosition.marginLeft,c=l-u,d=l+t.collisionWidth-s-u,f="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>c?(n=e.left+f+h+p+t.collisionWidth-s-o,(0>n||n<a(c))&&(e.left+=f+h+p)):d>0&&(i=e.left-t.collisionPosition.marginLeft+f+h+p-u,(i>0||a(i)<d)&&(e.left+=f+h+p))},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,u=r.isWindow?r.scrollTop:r.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-u,d=l+t.collisionHeight-s-u,f="top"===t.my[1],h=f?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>c?(i=e.top+h+p+m+t.collisionHeight-s-o,e.top+h+p+m>c&&(0>i||i<a(c))&&(e.top+=h+p+m)):d>0&&(n=e.top-t.collisionPosition.marginTop+h+p+m-u,e.top+h+p+m>d&&(n>0||a(n)<d)&&(e.top+=h+p+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)t.style[o]=i[o];t.appendChild(a),n=s||document.documentElement,n.insertBefore(t,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=e(a).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",n.removeChild(t)}()}(jQuery),function(e){e.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var n=e(t.target).closest(".ui-menu-item");
!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),n.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,r,o,s,a,u=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:u=!1,r=this.previousFilter||"",o=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),o===r?s=!0:o=r+o,a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(t.keyCode),a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}u&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=t.height(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o?!0:s?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var i=n.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,n=++t;return function(i){n===t&&e.__response(i),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){"use strict";function t(t,n){function i(e,t){return'<div style="'+(o._isMove?"":e!==o.currSlideId?o._opacityCSS:"z-index:0;")+'" class="rsSlide '+(t||"")+'"></div>'}var r,o=this,s=window.navigator,a=s.userAgent.toLowerCase();o.uid=e.rsModules.uid++,o.ns=".rs"+o.uid;var u,l=document.createElement("div").style,c=["webkit","Moz","ms","O"],d="",f=0;for(r=0;r<c.length;r++)u=c[r],!d&&u+"Transform"in l&&(d=u),u=u.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[u+"RequestAnimationFrame"],window.cancelAnimationFrame=window[u+"CancelAnimationFrame"]||window[u+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-f)),i=window.setTimeout(function(){e(t+n)},n);return f=t+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),o.isIPAD=a.match(/(ipad)/),o.isIOS=o.isIPAD||a.match(/(iphone|ipod)/);var h=function(e){var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},p=h(a),m={};if(p.browser&&(m[p.browser]=!0,m.version=p.version),m.chrome&&(m.webkit=!0),o._browser=m,o.isAndroid=a.indexOf("android")>-1,o.slider=e(t),o.ev=e(o),o._doc=e(document),o.st=e.extend({},e.fn.royalSlider.defaults,n),o._currAnimSpeed=o.st.transitionSpeed,o._minPosOffset=0,o.st.allowCSS3&&(!m.webkit||o.st.allowCSS3OnWebkit)){var g=d+(d?"T":"t");o._useCSS3Transitions=g+"ransform"in l&&g+"ransition"in l,o._useCSS3Transitions&&(o._use3dTransform=d+(d?"P":"p")+"erspective"in l)}d=d.toLowerCase(),o._vendorPref="-"+d+"-",o._slidesHorizontal="vertical"===o.st.slidesOrientation?!1:!0,o._reorderProp=o._slidesHorizontal?"left":"top",o._sizeProp=o._slidesHorizontal?"width":"height",o._prevNavItemId=-1,o._isMove="fade"===o.st.transitionType?!1:!0,o._isMove||(o.st.sliderDrag=!1,o._fadeZIndex=10),o._opacityCSS="z-index:0; display:none; opacity:0;",o._newSlideId=0,o._sPosition=0,o._nextSlidePos=0,e.each(e.rsModules,function(e,t){"uid"!==e&&t.call(o)}),o.slides=[],o._idCount=0;var v=o.st.slides?e(o.st.slides):o.slider.children().detach();v.each(function(){o._parseNode(this,!0)}),o.st.randomizeSlides&&o.slides.sort(function(){return.5-Math.random()}),o.numSlides=o.slides.length,o._refreshNumPreloadImages(),o.st.startSlideId?o.st.startSlideId>o.numSlides-1&&(o.st.startSlideId=o.numSlides-1):o.st.startSlideId=0,o._newSlideId=o.staticSlideId=o.currSlideId=o._realId=o.st.startSlideId,o.currSlide=o.slides[o.currSlideId],o._accelerationPos=0,o.pointerMultitouch=!1,o.slider.addClass((o._slidesHorizontal?"rsHor":"rsVer")+(o._isMove?"":" rsFade"));var _='<div class="rsOverflow"><div class="rsContainer">';o.slidesSpacing=o.st.slidesSpacing,o._slideSize=(o._slidesHorizontal?o.slider.width():o.slider.height())+o.st.slidesSpacing,o._preload=Boolean(o._numPreloadImages>0),o.numSlides<=1&&(o._loop=!1);var y=o._loop&&o._isMove?2===o.numSlides?1:2:0;for(o._loopHelpers=y,o._maxImages=o.numSlides<6?o.numSlides:6,o._currBlockIndex=0,o._idOffset=0,o.slidesJQ=[],r=0;r<o.numSlides;r++)o.slidesJQ.push(e(i(r)));o._sliderOverflow=_=e(_+"</div></div>");var q=function(){o.st.sliderDrag&&(o._hasDrag=!0,m.msie||m.opera?o._grabCursor=o._grabbingCursor="move":m.mozilla?(o._grabCursor="-moz-grab",o._grabbingCursor="-moz-grabbing"):m.webkit&&-1!=s.platform.indexOf("Mac")&&(o._grabCursor="-webkit-grab",o._grabbingCursor="-webkit-grabbing"),o._setGrabCursor())},b=(o.ns,function(e,t,n,i,r){o._downEvent=e+t,o._moveEvent=e+n,o._upEvent=e+i,r&&(o._cancelEvent=e+r)}),w=s.pointerEnabled;o.pointerEnabled=w||s.msPointerEnabled,o.pointerEnabled?(o.hasTouch=!1,o._lastItemFriction=.2,o.pointerMultitouch=Boolean(s[(w?"m":"msM")+"axTouchPoints"]>1),w?b("pointer","down","move","up","cancel"):b("MSPointer","Down","Move","Up","Cancel")):(o.isIOS?o._downEvent=o._moveEvent=o._upEvent=o._cancelEvent="":b("mouse","down","move","up"),"ontouchstart"in window||"createTouch"in document?(o.hasTouch=!0,o._downEvent+=" touchstart",o._moveEvent+=" touchmove",o._upEvent+=" touchend",o._cancelEvent+=" touchcancel",o._lastItemFriction=.5,o.st.sliderTouch&&(o._hasDrag=!0)):(o.hasTouch=!1,o._lastItemFriction=.2)),q(),o.slider.html(_),o._controlsContainer=o.st.controlsInside?o._sliderOverflow:o.slider,o._slidesContainer=o._sliderOverflow.children(".rsContainer"),o.pointerEnabled&&o._slidesContainer.css((w?"":"-ms-")+"touch-action",o._slidesHorizontal?"pan-y":"pan-x"),o._preloader=e('<div class="rsPreloader"></div>');var S=o._slidesContainer.children(".rsSlide");if(o._currHolder=o.slidesJQ[o.currSlideId],o._selectedSlideHolder=0,o._eventCallbacks={dragStart:function(e){o._onDragStart(e)},dragStartThumb:function(e){o._onDragStart(e,!0)},touchmoveFix:function(){}},o._useCSS3Transitions)if(o._TP="transition-property",o._TD="transition-duration",o._TTF="transition-timing-function",o._yProp=o._xProp=o._vendorPref+"transform",o._use3dTransform?(m.webkit&&!m.chrome&&o.slider.addClass("rsWebkit3d"),o._tPref1="translate3d(",o._tPref2="px, ",o._tPref3="px, 0px)"):(o._tPref1="translate(",o._tPref2="px, ",o._tPref3="px)"),o._isMove)o._slidesContainer[o._vendorPref+o._TP]=o._vendorPref+"transform";else{var x={};x[o._vendorPref+o._TP]="opacity",x[o._vendorPref+o._TD]=o.st.transitionSpeed+"ms",x[o._vendorPref+o._TTF]=o.st.css3easeInOut,S.css(x)}else o._xProp="left",o._yProp="top";o._slidesHorizontal&&o.slider.css("touch-action","pan-y");var C;if(e(window).on("resize"+o.ns,function(){C&&clearTimeout(C),C=setTimeout(function(){o.updateSliderSize()},50)}),o.ev.trigger("rsAfterPropsSetup"),o.updateSliderSize(),o.st.keyboardNavEnabled&&o._bindKeyboardNav(),o.st.arrowsNavHideOnTouch&&(o.hasTouch||o.pointerMultitouch)&&(o.st.arrowsNav=!1),o.st.arrowsNav){var T="rsArrow",E=o._controlsContainer;if(e('<div class="'+T+" "+T+'Left"><div class="'+T+'Icn"></div></div><div class="'+T+" "+T+'Right"><div class="'+T+'Icn"></div></div>').appendTo(E),o._arrowLeft=E.children("."+T+"Left").click(function(e){e.preventDefault(),o.prev()}),o._arrowRight=E.children("."+T+"Right").click(function(e){e.preventDefault(),o.next()}),o.st.arrowsNavAutoHide&&!o.hasTouch){o._arrowLeft.addClass("rsHidden"),o._arrowRight.addClass("rsHidden");var P=E;P.one("mousemove.arrowshover",function(){o._arrowLeft.removeClass("rsHidden"),o._arrowRight.removeClass("rsHidden")}),P.hover(function(){o._arrowsAutoHideLocked||(o._arrowLeft.removeClass("rsHidden"),o._arrowRight.removeClass("rsHidden"))},function(){o._arrowsAutoHideLocked||(o._arrowLeft.addClass("rsHidden"),o._arrowRight.addClass("rsHidden"))})}o.ev.on("rsOnUpdateNav",function(){o._updateArrowsNav()}),o._updateArrowsNav()}o.hasTouch&&o.st.sliderTouch||!o.hasTouch&&o.st.sliderDrag?(o._bindPassiveEvent(o._slidesContainer[0],o._downEvent,o._eventCallbacks.dragStart,!1),o._bindPassiveEvent(o.slider[0],o._moveEvent,o._eventCallbacks.touchmoveFix,!1)):o.dragSuccess=!1;var A=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];o._slidesContainer.click(function(t){if(!o.dragSuccess){var n=e(t.target),i=n.attr("class");if(-1!==e.inArray(i,A)&&o.toggleVideo())return!1;if(o.st.navigateByClick&&!o._blockActions){if(e(t.target).closest(".rsNoDrag",o._currHolder).length)return!0;o._mouseNext(t)}o.ev.trigger("rsSlideClick",t)}}).on("click.rs","a",function(){return o.dragSuccess?!1:(o._blockActions=!0,void setTimeout(function(){o._blockActions=!1},3))}),o.ev.trigger("rsAfterInit")}e.rsModules||(e.rsModules={uid:0}),t.prototype={constructor:t,_mouseNext:function(e){var t=this,n=e[t._slidesHorizontal?"pageX":"pageY"]-t._sliderOffset;n>=t._nextSlidePos?t.next():0>n&&t.prev()},_refreshNumPreloadImages:function(){var e,t=this;e=t.st.numImagesToPreload,t._loop=t.st.loop,t._loop&&(2===t.numSlides?(t._loop=!1,t.st.loopRewind=!0):t.numSlides<2&&(t.st.loopRewind=t._loop=!1)),t._loop&&e>0&&(t.numSlides<=4?e=1:t.st.numImagesToPreload>(t.numSlides-1)/2&&(e=Math.floor((t.numSlides-1)/2))),t._numPreloadImages=e},_parseNode:function(t,n){function i(e,t){if(a.images.push(t?e.attr(t):e.text()),u){u=!1,a.caption="src"===t?e.attr("alt"):e.contents(),a.image=a.images[0],a.videoURL=e.attr("data-rsVideo");var n=e.attr("data-rsw"),i=e.attr("data-rsh");"undefined"!=typeof n&&n!==!1&&"undefined"!=typeof i&&i!==!1?(a.iW=parseInt(n,10),a.iH=parseInt(i,10)):s.st.imgWidth&&s.st.imgHeight&&(a.iW=s.st.imgWidth,a.iH=s.st.imgHeight)}}var r,o,s=this,a={},u=!0;return t=e(t),s._currContent=t,s.ev.trigger("rsBeforeParseNode",[t,a]),a.stopParsing?void 0:(t=s._currContent,a.id=s._idCount,a.contentAdded=!1,s._idCount++,a.images=[],a.isBig=!1,a.hasCover||(t.hasClass("rsImg")?(o=t,r=!0):(o=t.find(".rsImg"),o.length&&(r=!0)),r?(a.bigImage=o.eq(0).attr("data-rsBigImg"),o.each(function(){var t=e(this);t.is("a")?i(t,"href"):t.is("img")?i(t,"src"):i(t)})):t.is("img")&&(t.addClass("rsImg rsMainSlideImage"),i(t,"src"))),o=t.find(".rsCaption"),o.length&&(a.caption=o.remove()),a.content=t,s.ev.trigger("rsAfterParseNode",[t,a]),n&&s.slides.push(a),0===a.images.length&&(a.isLoaded=!0,a.isRendered=!1,a.isLoading=!1,a.images=null),a)},_bindKeyboardNav:function(){var e,t,n=this,i=function(e){37===e?n.prev():39===e&&n.next()};n._doc.on("keydown"+n.ns,function(r){if(!n.st.keyboardNavEnabled)return!0;if(!(n._isDragging||(t=r.keyCode,37!==t&&39!==t||e))){if(document.activeElement&&/(INPUT|SELECT|TEXTAREA)/i.test(document.activeElement.tagName))return!0;n.isFullscreen&&r.preventDefault(),i(t),e=setInterval(function(){i(t)},700)}}).on("keyup"+n.ns,function(){e&&(clearInterval(e),e=null)})},goTo:function(e,t){var n=this;e!==n.currSlideId&&n._moveTo(e,n.st.transitionSpeed,!0,!t)},destroy:function(t){var n=this;n.ev.trigger("rsBeforeDestroy"),n._doc.off("keydown"+n.ns+" keyup"+n.ns),n._eventCallbacks.dragMove&&(n._unbindPassiveEvent(document,n._moveEvent,n._eventCallbacks.dragMove,!0),n._unbindPassiveEvent(document,n._upEvent,n._eventCallbacks.dragRelease,!0)),n._eventCallbacks.downEvent&&(n._unbindPassiveEvent(n._slidesContainer[0],n._downEvent,n._eventCallbacks.dragStart,!1),n._unbindPassiveEvent(n.slider[0],n._moveEvent,n._eventCallbacks.touchmoveFix,!1)),n._slidesContainer.off(n._downEvent+" click"),n.slider.data("royalSlider",null),e.removeData(n.slider,"royalSlider"),e(window).off("resize"+n.ns),n.loadingTimeout&&clearTimeout(n.loadingTimeout),t&&n.slider.remove(),n.slides=null,n.slider=null,n.ev=null},_updateBlocksContent:function(t,n){function i(n,i,s){n.isAdded?(r(i,n),o(i,n)):(s||(s=l.slidesJQ[i]),n.holder?s=n.holder:(s=l.slidesJQ[i]=e(s),n.holder=s),n.appendOnLoaded=!1,o(i,n,s),r(i,n),l._addBlockToContainer(n,s,t),n.isAdded=!0)}function r(e,n){n.contentAdded||(l.setItemHtml(n,t),t||(n.contentAdded=!0))}function o(e,t,n){l._isMove&&(n||(n=l.slidesJQ[e]),n.css(l._reorderProp,(e+l._idOffset+f)*l._slideSize))}function s(e){if(c){if(e>d-1)return s(e-d);if(0>e)return s(d+e)}return e}var a,u,l=this,c=l._loop,d=l.numSlides;if(!isNaN(n))return s(n);var f,h,p=l.currSlideId,m=t?Math.abs(l._prevSlideId-l.currSlideId)>=l.numSlides-1?0:1:l._numPreloadImages,g=Math.min(2,m),v=!1,_=!1;for(u=p;p+1+g>u;u++)if(h=s(u),a=l.slides[h],a&&(!a.isAdded||!a.positionSet)){v=!0;break}for(u=p-1;u>p-1-g;u--)if(h=s(u),a=l.slides[h],a&&(!a.isAdded||!a.positionSet)){_=!0;break}if(v)for(u=p;p+m+1>u;u++)h=s(u),f=Math.floor((l._realId-(p-u))/l.numSlides)*l.numSlides,a=l.slides[h],a&&i(a,h);if(_)for(u=p-1;u>p-1-m;u--)h=s(u),f=Math.floor((l._realId-(p-u))/d)*d,a=l.slides[h],a&&i(a,h);if(!t){var y=s(p-m),q=s(p+m),b=y>q?0:y;for(u=0;d>u;u++)y>q&&u>y-1||(b>u||u>q)&&(a=l.slides[u],a&&a.holder&&(a.holder.detach(),a.isAdded=!1))}},setItemHtml:function(t,n){var i=this,r=function(){if(!t.images)return t.isRendered=!0,t.isLoaded=!0,t.isLoading=!1,void u(!0);if(!t.isLoading){var n,r;t.content.hasClass("rsImg")?(n=t.content,r=!0):n=t.content.find(".rsImg:not(img)"),n&&!n.is("img")&&n.each(function(){var n=e(this),i='<img class="rsImg" src="'+(n.is("a")?n.attr("href"):n.text())+'" />';r?t.content=e(i):n.replaceWith(i)}),n=r?t.content:t.content.find("img.rsImg"),c(),n.eq(0).addClass("rsMainSlideImage"),t.iW&&t.iH&&(t.isLoaded||i._resizeImage(t),u()),t.isLoading=!0;var s="load.rs error.rs";if(t.isBig)e("<img />").on(s,function(){e(this).off(s),o([this],!0)}).attr("src",t.image);else{t.loaded=[],t.numStartedLoad=0;for(var a=function(){e(this).off(s),t.loaded.push(this),t.loaded.length===t.numStartedLoad&&o(t.loaded,!1)},l=0;l<t.images.length;l++){var d=e("<img />");t.numStartedLoad++,d.on("load.rs error.rs",a).attr("src",t.images[l])}}}},o=function(e,n){if(e.length){{var i=e[0];i.src}if(n!==t.isBig){var r=t.holder.children();return void(r&&r.length>1&&d())}if(t.iW&&t.iH)return void s();if(t.iW=i.width,t.iH=i.height,t.iW&&t.iH)return void s();var o=new Image;o.onload=function(){o.width?(t.iW=o.width,t.iH=o.height,s()):setTimeout(function(){o.width&&(t.iW=o.width,t.iH=o.height),s()},1e3)},o.src=i.src}else s()},s=function(){t.isLoaded=!0,t.isLoading=!1,u(),d(),l()},a=function(){return!i._isMove&&t.images&&t.iW&&t.iH?void r():(t.holder.isWaiting=!0,c(),void(t.holder.slideId=-99))},u=function(){if(!t.isAppended&&i.ev){var e=i.st.visibleNearby,r=t.id-i._newSlideId;if(!n&&!t.appendOnLoaded&&i.st.fadeinLoadedSlide&&(0===r||(e||i._isAnimating||i._isDragging)&&(-1===r||1===r))){var o={visibility:"visible",opacity:0};o[i._vendorPref+"transition"]="opacity 400ms ease-in-out",t.content.css(o),setTimeout(function(){t.content.css("opacity",1)},16)}t.holder.find(".rsPreloader").length?t.holder.append(t.content):t.holder.html(t.content),t.isAppended=!0,t.isLoaded&&(i._resizeImage(t),l()),t.sizeReady||(t.sizeReady=!0,setTimeout(function(){i.ev.trigger("rsMaybeSizeReady",t)},100))}},l=function(){!t.loadedTriggered&&i.ev&&(t.isLoaded=t.loadedTriggered=!0,t.holder.trigger("rsAfterContentSet"),i.ev.trigger("rsAfterContentSet",t))},c=function(){i.st.usePreloader&&t.holder.html(i._preloader.clone())},d=function(){if(i.st.usePreloader){var e=t.holder.find(".rsPreloader");e.length&&e.remove()}};return t.isLoaded?void u():void(n?a():r())},_addBlockToContainer:function(e){{var t=this,n=e.holder;e.id-t._newSlideId}t._slidesContainer.append(n),e.appendOnLoaded=!1},_onDragStart:function(t,n){var i,r=this,o="touchstart"===t.type;if(r._isTouchGesture=o,r.ev.trigger("rsDragStart"),e(t.target).closest(".rsNoDrag",r._currHolder).length)return r.dragSuccess=!1,!0;if(n||r._isAnimating&&(r._wasAnimating=!0,r._stopAnimation()),r.dragSuccess=!1,r._isDragging)return void(o&&(r._multipleTouches=!0));if(o&&(r._multipleTouches=!1),r._setGrabbingCursor(),o){var s=t.touches;if(!(s&&s.length>0))return;i=s[0],s.length>1&&(r._multipleTouches=!0)}else i=t;r._isDragging=!0,r._eventCallbacks.dragMove&&(r._unbindPassiveEvent(document,r._moveEvent,r._eventCallbacks.dragMove,!0),r._unbindPassiveEvent(document,r._upEvent,r._eventCallbacks.dragRelease,!0)),r._eventCallbacks.dragMove=function(e){r._onDragMove(e,n)},r._eventCallbacks.dragRelease=function(e){r._onDragRelease(e,n)},r._bindPassiveEvent(document,r._moveEvent,r._eventCallbacks.dragMove,!0),r._bindPassiveEvent(document,r._upEvent,r._eventCallbacks.dragRelease,!0),r._currMoveAxis="",r._hasMoved=!1,r._pageX=i.pageX,r._pageY=i.pageY,r._startPagePos=r._accelerationPos=(n?r._thumbsHorizontal:r._slidesHorizontal)?i.pageX:i.pageY,r._horDir=0,r._verDir=0,r._currRenderPosition=n?r._thumbsPosition:r._sPosition,r._startTime=(new Date).getTime(),o&&r._sliderOverflow.on(r._cancelEvent,function(e){r._onDragRelease(e,n)})},_renderMovement:function(e,t){var n=this;if(n._checkedAxis){var i=n._renderMoveTime,r=e.pageX-n._pageX,o=e.pageY-n._pageY,s=n._currRenderPosition+r,a=n._currRenderPosition+o,u=t?n._thumbsHorizontal:n._slidesHorizontal,l=u?s:a,c=n._currMoveAxis;n._hasMoved=!0,n._pageX=e.pageX,n._pageY=e.pageY,"x"===c&&0!==r?n._horDir=r>0?1:-1:"y"===c&&0!==o&&(n._verDir=o>0?1:-1);var d=u?n._pageX:n._pageY,f=u?r:o;t?l>n._thumbsMinPosition?l=n._currRenderPosition+f*n._lastItemFriction:l<n._thumbsMaxPosition&&(l=n._currRenderPosition+f*n._lastItemFriction):n._loop||(n.currSlideId<=0&&d-n._startPagePos>0&&(l=n._currRenderPosition+f*n._lastItemFriction),n.currSlideId>=n.numSlides-1&&d-n._startPagePos<0&&(l=n._currRenderPosition+f*n._lastItemFriction)),n._currRenderPosition=l,i-n._startTime>200&&(n._startTime=i,n._accelerationPos=d),t?n._setThumbsPosition(n._currRenderPosition):n._isMove&&n._setPosition(n._currRenderPosition)}},_onDragMove:function(e,t){var n,i=this,r="touchmove"===e.type;if(!i._isTouchGesture||r){if(r){if(i._lockAxis)return;var o=e.touches;if(!o)return;if(o.length>1)return;n=o[0]}else n=e;if(i._hasMoved||(i._useCSS3Transitions&&(t?i._thumbsContainer:i._slidesContainer).css(i._vendorPref+i._TD,"0s"),function u(){i._isDragging&&(i._animFrame=requestAnimationFrame(u),i._renderMoveEvent&&i._renderMovement(i._renderMoveEvent,t))}()),i._checkedAxis)e.preventDefault(),i._renderMoveTime=(new Date).getTime(),i._renderMoveEvent=n;
else{var s=t?i._thumbsHorizontal:i._slidesHorizontal,a=Math.abs(n.pageX-i._pageX)-Math.abs(n.pageY-i._pageY)-(s?-7:7);if(a>7){if(s)e.preventDefault(),i._currMoveAxis="x";else if(r)return void i._completeGesture(e);i._checkedAxis=!0}else if(-7>a){if(s){if(r)return void i._completeGesture(e)}else e.preventDefault(),i._currMoveAxis="y";i._checkedAxis=!0}}}},_completeGesture:function(e){var t=this;t._lockAxis=!0,t._hasMoved=t._isDragging=!1,t._onDragRelease(e)},_onDragRelease:function(t,n){function i(e){return 100>e?100:e>500?500:e}function r(e,t){(d._isMove||n)&&(l=(-d._realId-d._idOffset)*d._slideSize,c=Math.abs(d._sPosition-l),d._currAnimSpeed=c/t,e&&(d._currAnimSpeed+=250),d._currAnimSpeed=i(d._currAnimSpeed),d._animateTo(l,!1))}var o,s,a,u,l,c,d=this,f=t.type.indexOf("touch")>-1;if(!d._isTouchGesture||f){if(d._isTouchGesture=!1,d.ev.trigger("rsDragRelease"),d._renderMoveEvent=null,d._isDragging=!1,d._lockAxis=!1,d._checkedAxis=!1,d._renderMoveTime=0,cancelAnimationFrame(d._animFrame),d._hasMoved&&(n?d._setThumbsPosition(d._currRenderPosition):d._isMove&&d._setPosition(d._currRenderPosition)),d._eventCallbacks.dragMove&&(d._unbindPassiveEvent(document,d._moveEvent,d._eventCallbacks.dragMove,!0),d._unbindPassiveEvent(document,d._upEvent,d._eventCallbacks.dragRelease,!0)),f&&d._sliderOverflow.off(d._cancelEvent),d._setGrabCursor(),!d._hasMoved&&!d._multipleTouches&&n&&d._thumbsEnabled){var h=e(t.target).closest(".rsNavItem");return void(h.length&&d.goTo(h.index()))}var p=n?d._thumbsHorizontal:d._slidesHorizontal;if(!d._hasMoved||"y"===d._currMoveAxis&&p||"x"===d._currMoveAxis&&!p){if(n||!d._wasAnimating)return d._wasAnimating=!1,void(d.dragSuccess=!1);if(d._wasAnimating=!1,d.st.navigateByClick)return d._mouseNext(t),void(d.dragSuccess=!0);d.dragSuccess=!0}else d.dragSuccess=!0;d._wasAnimating=!1,d._currMoveAxis="";var m=d.st.minSlideOffset,g=f?t.changedTouches[0]:t,v=p?g.pageX:g.pageY,_=d._startPagePos,y=d._accelerationPos,q=d.currSlideId,b=d.numSlides,w=p?d._horDir:d._verDir,S=d._loop,x=!1;if(o=Math.abs(v-_),s=v-y,a=(new Date).getTime()-d._startTime,u=Math.abs(s)/a,0===w||1>=b)return void r(!0,u);if(!S&&!n)if(0>=q){if(w>0)return void r(!0,u)}else if(q>=b-1&&0>w)return void r(!0,u);if(n){l=d._thumbsPosition;var C;if(l>d._thumbsMinPosition)l=d._thumbsMinPosition;else if(l<d._thumbsMaxPosition)l=d._thumbsMaxPosition;else{var T=.003,E=u*u/(2*T),P=-d._thumbsPosition,A=d._thumbsContainerSize-d._thumbsViewportSize+d._thumbsPosition;if(s>0&&E>P?(P+=d._thumbsViewportSize/(15/(E/u*T)),u=u*P/E,E=P):0>s&&E>A&&(A+=d._thumbsViewportSize/(15/(E/u*T)),u=u*A/E,E=A),C=Math.max(Math.round(u/T),50),l+=E*(0>s?-1:1),l>d._thumbsMinPosition)return void d._animateThumbsTo(l,C,!0,d._thumbsMinPosition,200);if(l<d._thumbsMaxPosition)return void d._animateThumbsTo(l,C,!0,d._thumbsMaxPosition,200)}d._animateThumbsTo(l,C,!0)}else{var F=function(e){var t=Math.floor(e/d._slideSize),n=e-t*d._slideSize;return n>m&&t++,t};if(v>_+m){if(0>w)return void r(!1,u);var k=F(v-_);d._moveTo(d.currSlideId-k,i(Math.abs(d._sPosition-(-d._realId-d._idOffset+k)*d._slideSize)/u),x,!0,!0)}else if(_-m>v){if(w>0)return void r(!1,u);var k=F(_-v);d._moveTo(d.currSlideId+k,i(Math.abs(d._sPosition-(-d._realId-d._idOffset-k)*d._slideSize)/u),x,!0,!0)}else r(!1,u)}}},_setPosition:function(e){var t=this;e=t._sPosition=e,t._useCSS3Transitions?t._slidesContainer.css(t._xProp,t._tPref1+(t._slidesHorizontal?e+t._tPref2+0:0+t._tPref2+e)+t._tPref3):t._slidesContainer.css(t._slidesHorizontal?t._xProp:t._yProp,e)},updateSliderSize:function(e){var t,n,i=this;if(i.slider){if(i.st.autoScaleSlider){var r=i.st.autoScaleSliderWidth,o=i.st.autoScaleSliderHeight;i.st.autoScaleHeight?(t=i.slider.width(),t!=i.width&&(i.slider.css("height",t*(o/r)),t=i.slider.width()),n=i.slider.height()):(n=i.slider.height(),n!=i.height&&(i.slider.css("width",n*(r/o)),n=i.slider.height()),t=i.slider.width())}else t=i.slider.width(),n=i.slider.height();if(e||t!=i.width||n!=i.height){i.width=t,i.height=n,i._wrapWidth=t,i._wrapHeight=n,i.ev.trigger("rsBeforeSizeSet"),i.ev.trigger("rsAfterSizePropSet"),i._sliderOverflow.css({width:i._wrapWidth,height:i._wrapHeight}),i._slideSize=(i._slidesHorizontal?i._wrapWidth:i._wrapHeight)+i.st.slidesSpacing,i._imagePadding=i.st.imageScalePadding;var s,a;for(a=0;a<i.slides.length;a++)s=i.slides[a],s.positionSet=!1,s&&s.images&&s.isLoaded&&(s.isRendered=!1,i._resizeImage(s));if(i._cloneHolders)for(a=0;a<i._cloneHolders.length;a++)s=i._cloneHolders[a],s.holder.css(i._reorderProp,(s.id+i._idOffset)*i._slideSize);i._updateBlocksContent(),i._isMove&&(i._useCSS3Transitions&&i._slidesContainer.css(i._vendorPref+"transition-duration","0s"),i._setPosition((-i._realId-i._idOffset)*i._slideSize)),i.ev.trigger("rsOnUpdateNav")}i._sliderOffset=i._sliderOverflow.offset(),i._sliderOffset=i._sliderOffset[i._reorderProp]}},appendSlide:function(t,n){var i=this,r=i._parseNode(t);(isNaN(n)||n>i.numSlides)&&(n=i.numSlides),i.slides.splice(n,0,r),i.slidesJQ.splice(n,0,e('<div style="'+(i._isMove?"position:absolute;":i._opacityCSS)+'" class="rsSlide"></div>')),n<=i.currSlideId&&i.currSlideId++,i.ev.trigger("rsOnAppendSlide",[r,n]),i._refreshSlides(n),n===i.currSlideId&&i.ev.trigger("rsAfterSlideChange")},removeSlide:function(e){var t=this,n=t.slides[e];n&&(n.holder&&n.holder.remove(),e<t.currSlideId&&t.currSlideId--,t.slides.splice(e,1),t.slidesJQ.splice(e,1),t.ev.trigger("rsOnRemoveSlide",[e]),t._refreshSlides(e),e===t.currSlideId&&t.ev.trigger("rsAfterSlideChange"))},_refreshSlides:function(){var e=this,t=e.numSlides,n=e._realId<=0?0:Math.floor(e._realId/t);e.numSlides=e.slides.length,0===e.numSlides?(e.currSlideId=e._idOffset=e._realId=0,e.currSlide=e._oldHolder=null):e._realId=n*e.numSlides+e.currSlideId;for(var i=0;i<e.numSlides;i++)e.slides[i].id=i;e.currSlide=e.slides[e.currSlideId],e._currHolder=e.slidesJQ[e.currSlideId],e.currSlideId>=e.numSlides?e.goTo(e.numSlides-1):e.currSlideId<0&&e.goTo(0),e._refreshNumPreloadImages(),e._isMove&&e._slidesContainer.css(e._vendorPref+e._TD,"0ms"),e._refreshSlidesTimeout&&clearTimeout(e._refreshSlidesTimeout),e._refreshSlidesTimeout=setTimeout(function(){e._isMove&&e._setPosition((-e._realId-e._idOffset)*e._slideSize),e._updateBlocksContent(),e._isMove||e._currHolder.css({display:"block",opacity:1})},14),e.ev.trigger("rsOnUpdateNav")},_setGrabCursor:function(){var e=this;e._hasDrag&&e._isMove&&(e._grabCursor?e._sliderOverflow.css("cursor",e._grabCursor):(e._sliderOverflow.removeClass("grabbing-cursor"),e._sliderOverflow.addClass("grab-cursor")))},_setGrabbingCursor:function(){var e=this;e._hasDrag&&e._isMove&&(e._grabbingCursor?e._sliderOverflow.css("cursor",e._grabbingCursor):(e._sliderOverflow.removeClass("grab-cursor"),e._sliderOverflow.addClass("grabbing-cursor")))},next:function(e){var t=this;t._moveTo("next",t.st.transitionSpeed,!0,!e)},prev:function(e){var t=this;t._moveTo("prev",t.st.transitionSpeed,!0,!e)},_moveTo:function(e,t,n,i,r){var o,s,a,u,l=this;if(l.ev.trigger("rsBeforeMove",[e,i]),u="next"===e?l.currSlideId+1:"prev"===e?l.currSlideId-1:e=parseInt(e,10),!l._loop){if(0>u)return void l._doBackAndForthAnim("left",!i);if(u>=l.numSlides)return void l._doBackAndForthAnim("right",!i)}l._isAnimating&&(l._stopAnimation(!0),n=!1),s=u-l.currSlideId,l._prevSlideId=l.currSlideId;var c,d=l.currSlideId,f=l.currSlideId+s,h=l._realId;l._loop?(f=l._updateBlocksContent(!1,f),h+=s):h=f,l._newSlideId=f,l._oldHolder=l.slidesJQ[l.currSlideId],l._realId=h,l.currSlideId=l._newSlideId,l.currSlide=l.slides[l.currSlideId],l._currHolder=l.slidesJQ[l.currSlideId];var p=l.st.slidesDiff,m=Boolean(s>0),g=Math.abs(s),v=Math.floor(d/l._numPreloadImages),_=Math.floor((d+(m?p:-p))/l._numPreloadImages),y=m?Math.max(v,_):Math.min(v,_),q=y*l._numPreloadImages+(m?l._numPreloadImages-1:0);q>l.numSlides-1?q=l.numSlides-1:0>q&&(q=0);var b=m?q-d:d-q;if(b>l._numPreloadImages&&(b=l._numPreloadImages),g>b+p)for(l._idOffset+=(g-(b+p))*(m?-1:1),t=1.4*t,a=0;a<l.numSlides;a++)l.slides[a].positionSet=!1;l._currAnimSpeed=t,l._updateBlocksContent(!0),r||(c=!0),o=(-h-l._idOffset)*l._slideSize,c?setTimeout(function(){l._isWorking=!1,l._animateTo(o,e,!1,n),l.ev.trigger("rsOnUpdateNav")},0):(l._animateTo(o,e,!1,n),l.ev.trigger("rsOnUpdateNav"))},_updateArrowsNav:function(){var e=this,t="rsArrowDisabled";if(e.st.arrowsNav){if(e.numSlides<=1)return e._arrowLeft.css("display","none"),void e._arrowRight.css("display","none");e._arrowLeft.css("display","block"),e._arrowRight.css("display","block"),e._loop||e.st.loopRewind||(0===e.currSlideId?e._arrowLeft.addClass(t):e._arrowLeft.removeClass(t),e.currSlideId===e.numSlides-1?e._arrowRight.addClass(t):e._arrowRight.removeClass(t))}},_animateTo:function(t,n,i,r,o){function s(){var e;a&&(e=a.data("rsTimeout"),e&&(a!==u&&a.css({opacity:0,display:"none",zIndex:0}),clearTimeout(e),a.data("rsTimeout",""))),e=u.data("rsTimeout"),e&&(clearTimeout(e),u.data("rsTimeout",""))}var a,u,l=this,c={};if(isNaN(l._currAnimSpeed)&&(l._currAnimSpeed=400),l._sPosition=l._currRenderPosition=t,l.ev.trigger("rsBeforeAnimStart"),l._useCSS3Transitions)if(l._isMove){l._currAnimSpeed=parseInt(l._currAnimSpeed,10);var d=l._vendorPref+l._TD,f=l._vendorPref+l._TTF;c[d]=l._currAnimSpeed+"ms",c[f]=r?e.rsCSS3Easing[l.st.easeInOut]:e.rsCSS3Easing[l.st.easeOut],l._slidesContainer.css(c),r||!l.hasTouch?setTimeout(function(){l._setPosition(t)},5):l._setPosition(t)}else l._currAnimSpeed=l.st.transitionSpeed,a=l._oldHolder,u=l._currHolder,u.data("rsTimeout")&&u.css("opacity",0),s(),a&&a.data("rsTimeout",setTimeout(function(){c[l._vendorPref+l._TD]="0ms",c.zIndex=0,c.display="none",a.data("rsTimeout",""),a.css(c),setTimeout(function(){a.css("opacity",0)},16)},l._currAnimSpeed+60)),c.display="block",c.zIndex=l._fadeZIndex,c.opacity=0,c[l._vendorPref+l._TD]="0ms",c[l._vendorPref+l._TTF]=e.rsCSS3Easing[l.st.easeInOut],u.css(c),u.data("rsTimeout",setTimeout(function(){u.css(l._vendorPref+l._TD,l._currAnimSpeed+"ms"),u.data("rsTimeout",setTimeout(function(){u.css("opacity",1),u.data("rsTimeout","")},20))},20));else l._isMove?(c[l._slidesHorizontal?l._xProp:l._yProp]=t+"px",l._slidesContainer.animate(c,l._currAnimSpeed,r?l.st.easeInOut:l.st.easeOut)):(a=l._oldHolder,u=l._currHolder,u.stop(!0,!0).css({opacity:0,display:"block",zIndex:l._fadeZIndex}),l._currAnimSpeed=l.st.transitionSpeed,u.animate({opacity:1},l._currAnimSpeed,l.st.easeInOut),s(),a&&a.data("rsTimeout",setTimeout(function(){a.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},l._currAnimSpeed+60)));l._isAnimating=!0,l.loadingTimeout&&clearTimeout(l.loadingTimeout),l.loadingTimeout=o?setTimeout(function(){l.loadingTimeout=null,o.call()},l._currAnimSpeed+60):setTimeout(function(){l.loadingTimeout=null,l._animationComplete(n)},l._currAnimSpeed+60)},_stopAnimation:function(e){var t=this;if(t._isAnimating=!1,clearTimeout(t.loadingTimeout),t._isMove)if(t._useCSS3Transitions){if(!e){var n=t._sPosition,i=t._currRenderPosition=t._getTransformProp();t._slidesContainer.css(t._vendorPref+t._TD,"0ms"),n!==i&&t._setPosition(i)}}else t._slidesContainer.stop(!0),t._sPosition=parseInt(t._slidesContainer.css(t._slidesHorizontal?t._xProp:t._yProp),10);else t._fadeZIndex>20?t._fadeZIndex=10:t._fadeZIndex++},_getTransformProp:function(){var e=this,t=window.getComputedStyle(e._slidesContainer.get(0),null).getPropertyValue(e._vendorPref+"transform"),n=t.replace(/^matrix\(/i,"").split(/, |\)$/g),i=0===n[0].indexOf("matrix3d");return parseInt(n[e._slidesHorizontal?i?12:4:i?13:5],10)},_getCSS3Prop:function(e,t){var n=this;return n._useCSS3Transitions?n._tPref1+(t?e+n._tPref2+0:0+n._tPref2+e)+n._tPref3:e},_animationComplete:function(){var e=this;e._isMove||(e._currHolder.css("z-index",0),e._fadeZIndex=10),e._isAnimating=!1,e.staticSlideId=e.currSlideId,e._updateBlocksContent(),e._slidesMoved=!1,e.ev.trigger("rsAfterSlideChange")},_doBackAndForthAnim:function(e,t){var n=this,i=(-n._realId-n._idOffset)*n._slideSize;if(0!==n.numSlides&&!n._isAnimating){if(n.st.loopRewind)return void n.goTo("left"===e?n.numSlides-1:0,t);if(n._isMove){n._currAnimSpeed=200;var r=function(){n._isAnimating=!1},o=function(){n._isAnimating=!1,n._animateTo(i,"",!1,!0,r)};n._animateTo(i+("left"===e?30:-30),"",!1,!0,o)}}},_detectPassiveSupport:function(){var e=this;if(!e._passiveChecked){e._passiveChecked=!0,e._passiveParam=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e._passiveParam={passive:!1}}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(n){}}},_bindPassiveEvent:function(e,t,n,i){var r=this;r._detectPassiveSupport();for(var o=t.split(" "),s=0;s<o.length;s++)o[s]&&o[s].length>2&&e.addEventListener(o[s],n,i?r._passiveParam:!1)},_unbindPassiveEvent:function(e,t,n,i){var r=this;r._detectPassiveSupport();for(var o=t.split(" "),s=0;s<o.length;s++)o[s]&&o[s].length>2&&e.removeEventListener(o[s],n,i?r._passiveParam:!1)},_resizeImage:function(t){var n=!0;if(!t.isRendered){var i,r,o,s=t.content,a="rsMainSlideImage",u=this,l=e.isFunction(u.st.imageAlignCenter)?u.st.imageAlignCenter(t):u.st.imageAlignCenter,c=e.isFunction(u.st.imageScaleMode)?u.st.imageScaleMode(t):u.st.imageScaleMode;if(t.videoURL&&(a="rsVideoContainer","fill"!==c?i=!0:(r=s,r.hasClass(a)||(r=r.find("."+a)),r.css({width:"100%",height:"100%"}),a="rsMainSlideImage")),s.hasClass(a)||(n=!1,s=s.find("."+a)),s){var d=t.iW,f=t.iH;if(t.isRendered=!0,"none"!==c||l){o="fill"!==c?u._imagePadding:0;var h,p,m,g,v,_=u._wrapWidth-2*o,y=u._wrapHeight-2*o,q={};"fit-if-smaller"===c&&(d>_||f>y)&&(c="fit"),"fill"===c||"fit"===c?(h=_/d,p=y/f,m="fill"==c?h>p?h:p:"fit"==c?p>h?h:p:1,g=Math.ceil(d*m,10),v=Math.ceil(f*m,10)):(g=d,v=f),"none"!==c&&(q.width=g,q.height=v,i&&s.find(".rsImg").css({width:"100%",height:"100%"})),l&&(q.marginLeft=Math.floor((_-g)/2)+o,q.marginTop=Math.floor((y-v)/2)+o),s.css(q)}}}}},e.rsProto=t.prototype,e.fn.royalSlider=function(n){var i=arguments;return this.each(function(){var r=e(this);if("object"!=typeof n&&n){var o=r.data("royalSlider");if(o&&o[n])return o[n].apply(o,Array.prototype.slice.call(i,1))}else r.data("royalSlider")||r.data("royalSlider",new t(r,n))})},e.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},e.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},e.extend(jQuery.easing,{easeInOutSine:function(e,t,n,i,r){return-i/2*(Math.cos(Math.PI*t/r)-1)+n},easeOutSine:function(e,t,n,i,r){return i*Math.sin(t/r*(Math.PI/2))+n},easeOutCubic:function(e,t,n,i,r){return i*((t=t/r-1)*t*t+1)+n}})}(jQuery,window),function(e){"use strict";e.rsProto._initActiveClass=function(){var e,t=this,n="rsActiveSlide";t.st.addActiveClass&&t.ev.on("rsOnUpdateNav",function(){e&&clearTimeout(e),e=setTimeout(function(){t._oldHolder&&t._oldHolder.removeClass(n),t._currHolder&&t._currHolder.addClass(n),e=null},50)})},e.rsModules.activeClass=e.rsProto._initActiveClass}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initAnimatedBlocks:function(){function t(){var e=i.currSlide;if(i.currSlide&&i.currSlide.isLoaded&&i._slideWithBlocks!==e){if(i._animatedBlockTimeouts.length>0){for(n=0;n<i._animatedBlockTimeouts.length;n++)clearTimeout(i._animatedBlockTimeouts[n]);i._animatedBlockTimeouts=[]}if(i._blockAnimProps.length>0){var t;for(n=0;n<i._blockAnimProps.length;n++)t=i._blockAnimProps[n],t&&(i._useCSS3Transitions?(t.block.css(i._vendorPref+i._TD,"0s"),t.block.css(t.css)):t.block.stop(!0).css(t.css),i._slideWithBlocks=null,e.animBlocksDisplayed=!1);i._blockAnimProps=[]}e.animBlocks&&(e.animBlocksDisplayed=!0,i._slideWithBlocks=e,i._animateBlocks(e.animBlocks))}}var n,i=this;i._blockDefaults={fadeEffect:!0,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200},i.st.block=e.extend({},i._blockDefaults,i.st.block),i._blockAnimProps=[],i._animatedBlockTimeouts=[],i.ev.on("rsAfterInit",function(){t()}),i.ev.on("rsBeforeParseNode",function(t,n,i){n=e(n),i.animBlocks=n.find(".rsABlock").css("display","none"),i.animBlocks.length||(i.animBlocks=n.hasClass("rsABlock")?n.css("display","none"):!1)}),i.ev.on("rsAfterContentSet",function(e,n){var r=i.slides[i.currSlideId].id;n.id===r&&setTimeout(function(){t()},i.st.fadeinLoadedSlide?300:0)}),i.ev.on("rsAfterSlideChange",function(){t()})},_updateAnimBlockProps:function(e,t){setTimeout(function(){e.css(t)},6)},_animateBlocks:function(t){var n,i,r,o,s,a,u,l=this;l._animatedBlockTimeouts=[],t.each(function(t){n=e(this),i={},r={},o=null;var c=n.attr("data-move-offset");if(c=c?parseInt(c,10):l.st.block.moveOffset,c>0&&(a=n.data("move-effect"),a?(a=a.toLowerCase(),"none"===a?a=!1:"left"!==a&&"top"!==a&&"bottom"!==a&&"right"!==a&&(a=l.st.block.moveEffect,"none"===a&&(a=!1))):a=l.st.block.moveEffect,a&&"none"!==a)){var d;d="right"===a||"left"===a?!0:!1;var f,h;u=!1,l._useCSS3Transitions?(f=0,s=l._xProp):(d?isNaN(parseInt(n.css("right"),10))?s="left":(s="right",u=!0):isNaN(parseInt(n.css("bottom"),10))?s="top":(s="bottom",u=!0),s="margin-"+s,u&&(c=-c),l._useCSS3Transitions?f=parseInt(n.css(s),10):(f=n.data("rs-start-move-prop"),void 0===f&&(f=parseInt(n.css(s),10),isNaN(f)&&(f=0),n.data("rs-start-move-prop",f)))),h="top"===a||"left"===a?f-c:f+c,r[s]=l._getCSS3Prop(h,d),i[s]=l._getCSS3Prop(f,d)}var p=n.attr("data-fade-effect");p?("none"===p.toLowerCase()||"false"===p.toLowerCase())&&(p=!1):p=l.st.block.fadeEffect,p&&(r.opacity=0,i.opacity=1),(p||a)&&(o={},o.hasFade=Boolean(p),Boolean(a)&&(o.moveProp=s,o.hasMove=!0),o.speed=n.data("speed"),isNaN(o.speed)&&(o.speed=l.st.block.speed),o.easing=n.data("easing"),o.easing||(o.easing=l.st.block.easing),o.css3Easing=e.rsCSS3Easing[o.easing],o.delay=n.data("delay"),isNaN(o.delay)&&(o.delay=l.st.block.delay*t));var m={};l._useCSS3Transitions&&(m[l._vendorPref+l._TD]="0ms"),m.moveProp=i.moveProp,m.opacity=i.opacity,m.display="none",l._blockAnimProps.push({block:n,css:m}),l._updateAnimBlockProps(n,r),l._animatedBlockTimeouts.push(setTimeout(function(e,t,n,i){return function(){if(e.css("display","block"),n){var r={};if(l._useCSS3Transitions){var o="";n.hasMove&&(o+=n.moveProp),n.hasFade&&(n.hasMove&&(o+=", "),o+="opacity"),r[l._vendorPref+l._TP]=o,r[l._vendorPref+l._TD]=n.speed+"ms",r[l._vendorPref+l._TTF]=n.css3Easing,e.css(r),setTimeout(function(){e.css(t)},24)}else setTimeout(function(){e.animate(t,n.speed,n.easing)},16)}delete l._animatedBlockTimeouts[i]}}(n,i,o,t),o.delay<=6?12:o.delay))})}}),e.rsModules.animatedBlocks=e.rsProto._initAnimatedBlocks}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initAutoHeight:function(){var e=this;if(e.st.autoHeight){var t,n,i,r,o=!0,s=function(s){i=e.slides[e.currSlideId],t=i.holder,t&&(n=t.height(),n&&n!==r&&n>(e.st.minAutoHeight||30)&&(e._wrapHeight=n,e._useCSS3Transitions||!s?e._sliderOverflow.css("height",n):e._sliderOverflow.stop(!0,!0).animate({height:n},e.st.transitionSpeed),e.ev.trigger("rsAutoHeightChange",n),o&&(e._useCSS3Transitions&&setTimeout(function(){e._sliderOverflow.css(e._vendorPref+"transition","height "+e.st.transitionSpeed+"ms ease-in-out")},16),o=!1)))};e.ev.on("rsMaybeSizeReady.rsAutoHeight",function(e,t){i===t&&s()}),e.ev.on("rsAfterContentSet.rsAutoHeight",function(e,t){i===t&&s()}),e.slider.addClass("rsAutoHeight"),e.ev.one("rsAfterInit",function(){setTimeout(function(){s(!1),setTimeout(function(){e.slider.append('<div style="clear:both; float: none;"></div>')},16)},16)}),e.ev.on("rsBeforeAnimStart",function(){s(!0)}),e.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){s(!1)},16)})}}}),e.rsModules.autoHeight=e.rsProto._initAutoHeight}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initAutoplay:function(){var t,n=this;n._autoPlayDefaults={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},!n.st.autoPlay&&n.st.autoplay&&(n.st.autoPlay=n.st.autoplay),n.st.autoPlay=e.extend({},n._autoPlayDefaults,n.st.autoPlay),n.st.autoPlay.enabled&&(n.ev.on("rsBeforeParseNode",function(n,i,r){i=e(i),t=i.attr("data-rsDelay"),t&&(r.customDelay=parseInt(t,10))}),n.ev.one("rsAfterInit",function(){n._setupAutoPlay()}),n.ev.on("rsBeforeDestroy",function(){n.stopAutoPlay(),n.slider.off("mouseenter mouseleave"),e(window).off("blur"+n.ns+" focus"+n.ns)}))},_setupAutoPlay:function(){var t=this;t.startAutoPlay(),t.ev.on("rsAfterContentSet",function(e,n){t._isDragging||t._isAnimating||!t._autoPlayEnabled||n!==t.currSlide||t._play()}),t.ev.on("rsDragRelease",function(){t._autoPlayEnabled&&t._autoPlayPaused&&(t._autoPlayPaused=!1,t._play())}),t.ev.on("rsAfterSlideChange",function(){t._autoPlayEnabled&&t._autoPlayPaused&&(t._autoPlayPaused=!1,t.currSlide.isLoaded&&t._play())}),t.ev.on("rsDragStart",function(){t._autoPlayEnabled&&(t.st.autoPlay.stopAtAction?t.stopAutoPlay():(t._autoPlayPaused=!0,t._pause()))}),t.ev.on("rsBeforeMove",function(e,n,i){t._autoPlayEnabled&&(i&&t.st.autoPlay.stopAtAction?t.stopAutoPlay():(t._autoPlayPaused=!0,t._pause()))}),t._pausedByVideo=!1,t.ev.on("rsVideoStop",function(){t._autoPlayEnabled&&(t._pausedByVideo=!1,t._play())}),t.ev.on("rsVideoPlay",function(){t._autoPlayEnabled&&(t._autoPlayPaused=!1,t._pause(),t._pausedByVideo=!0)}),e(window).on("blur"+t.ns,function(){t._autoPlayEnabled&&(t._autoPlayPaused=!0,t._pause())}).on("focus"+t.ns,function(){t._autoPlayEnabled&&t._autoPlayPaused&&(t._autoPlayPaused=!1,t._play())}),t.st.autoPlay.pauseOnHover&&(t._pausedByHover=!1,t.slider.hover(function(){t._autoPlayEnabled&&(t._autoPlayPaused=!1,t._pause(),t._pausedByHover=!0)},function(){t._autoPlayEnabled&&(t._pausedByHover=!1,t._play())}))},toggleAutoPlay:function(){var e=this;e._autoPlayEnabled?e.stopAutoPlay():e.startAutoPlay()},startAutoPlay:function(){var e=this;e._autoPlayEnabled=!0,e.currSlide.isLoaded&&e._play()},stopAutoPlay:function(){var e=this;e._pausedByVideo=e._pausedByHover=e._autoPlayPaused=e._autoPlayEnabled=!1,e._pause()},_play:function(){var e=this;e._pausedByHover||e._pausedByVideo||(e._autoPlayRunning=!0,e._autoPlayTimeout&&clearTimeout(e._autoPlayTimeout),e._autoPlayTimeout=setTimeout(function(){var t;e._loop||e.st.loopRewind||(t=!0,e.st.loopRewind=!0),e.next(!0),t&&(t=!1,e.st.loopRewind=!1)},e.currSlide.customDelay?e.currSlide.customDelay:e.st.autoPlay.delay))},_pause:function(){var e=this;e._pausedByHover||e._pausedByVideo||(e._autoPlayRunning=!1,e._autoPlayTimeout&&(clearTimeout(e._autoPlayTimeout),e._autoPlayTimeout=null))}}),e.rsModules.autoplay=e.rsProto._initAutoplay}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initBullets:function(){var t=this;if("bullets"===t.st.controlNavigation){var n='<div class="rsNavItem rsBullet"><span></span></div>';t.ev.one("rsAfterPropsSetup",function(){t._controlNavEnabled=!0,t.slider.addClass("rsWithBullets");for(var i='<div class="rsNav rsBullets">',r=0;r<t.numSlides;r++)i+=n;t._controlNav=i=e(i+"</div>"),t._controlNavItems=i.appendTo(t.slider).children(),t._controlNav.on("click.rs",".rsNavItem",function(){t._thumbsDrag||t.goTo(e(this).index())})}),t.ev.on("rsOnAppendSlide",function(e,i,r){r>=t.numSlides?t._controlNav.append(n):t._controlNavItems.eq(r).before(n),t._controlNavItems=t._controlNav.children()}),t.ev.on("rsOnRemoveSlide",function(e,n){var i=t._controlNavItems.eq(n);i&&i.length&&(i.remove(),t._controlNavItems=t._controlNav.children())}),t.ev.on("rsOnUpdateNav",function(){var e,n=t.currSlideId;t._prevNavItem&&t._prevNavItem.removeClass("rsNavSelected"),e=t._controlNavItems.eq(n),e.addClass("rsNavSelected"),t._prevNavItem=e})}}}),e.rsModules.bullets=e.rsProto._initBullets}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initDeeplinking:function(){var t,n,i,r=this;if(r._hashDefaults={enabled:!1,change:!1,prefix:""},r.st.deeplinking=e.extend({},r._hashDefaults,r.st.deeplinking),r.st.deeplinking.enabled){var o=r.st.deeplinking.change,s=r.st.deeplinking.prefix,a="#"+s,u=function(){var e=window.location.hash;return e&&e.indexOf(s)>0&&(e=parseInt(e.substring(a.length),10),e>=0)?e-1:-1},l=u();-1!==l&&(r.st.startSlideId=l),o&&(e(window).on("hashchange"+r.ns,function(){if(!t){var e=u();if(0>e)return;e>r.numSlides-1&&(e=r.numSlides-1),r.goTo(e)}}),r.ev.on("rsBeforeAnimStart",function(){n&&clearTimeout(n),i&&clearTimeout(i)}),r.ev.on("rsAfterSlideChange",function(){n&&clearTimeout(n),i&&clearTimeout(i),i=setTimeout(function(){t=!0,window.location.replace((""+window.location).split("#")[0]+a+(r.currSlideId+1)),n=setTimeout(function(){t=!1,n=null},60)},400)})),r.ev.on("rsBeforeDestroy",function(){i=null,n=null,o&&e(window).off("hashchange"+r.ns)})}}}),e.rsModules.deeplinking=e.rsProto._initDeeplinking}(jQuery),function(e,t,n){"$:nomunge";function i(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var r,o="hashchange",s=document,a=e.event.special,u=s.documentMode,l="on"+o in t&&(u===n||u>7);e.fn[o]=function(e){return e?this.bind(o,e):this.trigger(o)},e.fn[o].delay=50,a[o]=e.extend(a[o],{setup:function(){return l?!1:void e(r.start)},teardown:function(){return l?!1:void e(r.stop)}}),r=function(){function r(){var n=i(),s=h(c);n!==c?(f(c=n,s),e(t).trigger(o)):s!==c&&(location.href=location.href.replace(/#.*/,"")+s),a=setTimeout(r,e.fn[o].delay)}var a,u={},c=i(),d=function(e){return e},f=d,h=d;return u.start=function(){a||r()},u.stop=function(){a&&clearTimeout(a),a=n},t.attachEvent&&!t.addEventListener&&!l&&function(){var t,n;u.start=function(){t||(n=e.fn[o].src,n=n&&n+i(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){n||f(i()),r()}).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow,s.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=s.title)}catch(e){}})},u.stop=d,h=function(){return i(t.location.href)},f=function(n,i){var r=t.document,a=e.fn[o].domain;n!==i&&(r.title=s.title,r.open(),a&&r.write('<script>document.domain="'+a+'"</script>'),r.close(),t.location.hash=n)}}(),u}()}(jQuery,this),function(e){"use strict";e.extend(e.rsProto,{_initFullscreen:function(){var t=this;t._fullscreenDefaults={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0},t.st.fullscreen=e.extend({},t._fullscreenDefaults,t.st.fullscreen),t.st.fullscreen.enabled&&t.ev.one("rsBeforeSizeSet",function(){t._setupFullscreen()})},_setupFullscreen:function(){var t=this;if(t._fsKeyboard=!t.st.keyboardNavEnabled&&t.st.fullscreen.keyboardNav,t.st.fullscreen.nativeFS){var n={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},i="webkit moz o ms khtml".split(" ");if("undefined"!=typeof document.cancelFullScreen)n.supportsFullScreen=!0;else for(var r=0,o=i.length;o>r;r++)if(n.prefix=i[r],"undefined"!=typeof document[n.prefix+"CancelFullScreen"]){n.supportsFullScreen=!0;break}n.supportsFullScreen?(t.nativeFS=!0,n.fullScreenEventName=n.prefix+"fullscreenchange"+t.ns,n.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},n.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},n.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()},t._fullScreenApi=n):t._fullScreenApi=!1}t.st.fullscreen.buttonFS&&(t._fsBtn=e('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(t._controlsContainer).on("click.rs",function(){t.isFullscreen?t.exitFullscreen():t.enterFullscreen()}))},enterFullscreen:function(t){var n=this;if(n._fullScreenApi){if(!t)return n._doc.on(n._fullScreenApi.fullScreenEventName,function(){n._fullScreenApi.isFullScreen()?n.enterFullscreen(!0):n.exitFullscreen(!0)}),void n._fullScreenApi.requestFullScreen(e("html")[0]);n._fullScreenApi.requestFullScreen(e("html")[0])}if(!n._isFullscreenUpdating){n._isFullscreenUpdating=!0,n._doc.on("keyup"+n.ns+"fullscreen",function(e){27===e.keyCode&&n.exitFullscreen()}),n._fsKeyboard&&n._bindKeyboardNav();var i=e(window);n._fsScrollTopOnEnter=i.scrollTop(),n._fsScrollLeftOnEnter=i.scrollLeft(),n._htmlStyle=e("html").attr("style"),n._bodyStyle=e("body").attr("style"),n._sliderStyle=n.slider.attr("style"),e("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"}),n.slider.addClass("rsFullscreen");var r,o;for(o=0;o<n.numSlides;o++)r=n.slides[o],r.isRendered=!1,r.bigImage&&(r.isBig=!0,r.isMedLoaded=r.isLoaded,r.isMedLoading=r.isLoading,r.medImage=r.image,r.medIW=r.iW,r.medIH=r.iH,r.slideId=-99,r.bigImage!==r.medImage&&(r.sizeType="big"),r.isLoaded=r.isBigLoaded,r.isLoading=!1,r.image=r.bigImage,r.images[0]=r.bigImage,r.iW=r.bigIW,r.iH=r.bigIH,r.isAppended=r.contentAdded=!1,n._updateItemSrc(r));n.isFullscreen=!0,n._isFullscreenUpdating=!1,n.updateSliderSize(),n.ev.trigger("rsEnterFullscreen")}},exitFullscreen:function(t){var n=this;if(n._fullScreenApi){if(!t)return void n._fullScreenApi.cancelFullScreen(e("html")[0]);n._doc.off(n._fullScreenApi.fullScreenEventName)}if(!n._isFullscreenUpdating){n._isFullscreenUpdating=!0,n._doc.off("keyup"+n.ns+"fullscreen"),n._fsKeyboard&&n._doc.off("keydown"+n.ns),e("html").attr("style",n._htmlStyle||""),e("body").attr("style",n._bodyStyle||"");var i,r;for(r=0;r<n.numSlides;r++)i=n.slides[r],i.isRendered=!1,i.bigImage&&(i.isBig=!1,i.slideId=-99,i.isBigLoaded=i.isLoaded,i.isBigLoading=i.isLoading,i.bigImage=i.image,i.bigIW=i.iW,i.bigIH=i.iH,i.isLoaded=i.isMedLoaded,i.isLoading=!1,i.image=i.medImage,i.images[0]=i.medImage,i.iW=i.medIW,i.iH=i.medIH,i.isAppended=i.contentAdded=!1,n._updateItemSrc(i,!0),i.bigImage!==i.medImage&&(i.sizeType="med"));n.isFullscreen=!1;var o=e(window);o.scrollTop(n._fsScrollTopOnEnter),o.scrollLeft(n._fsScrollLeftOnEnter),n._isFullscreenUpdating=!1,n.slider.removeClass("rsFullscreen"),n.updateSliderSize(),setTimeout(function(){n.updateSliderSize()},1),n.ev.trigger("rsExitFullscreen")}},_updateItemSrc:function(t){var n=t.isLoaded||t.isLoading?'<img class="rsImg rsMainSlideImage" src="'+t.image+'"/>':'<a class="rsImg rsMainSlideImage" href="'+t.image+'"></a>';t.content.hasClass("rsImg")?t.content=e(n):t.content.find(".rsImg").eq(0).replaceWith(n),t.isLoaded||t.isLoading||!t.holder||t.holder.html(t.content)}}),e.rsModules.fullscreen=e.rsProto._initFullscreen}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initGlobalCaption:function(){var t=this;if(t.st.globalCaption){var n=function(){t.globalCaption.html(t.currSlide.caption||"")};t.ev.on("rsAfterInit",function(){t.globalCaption=e('<div class="rsGCaption"></div>').appendTo(t.st.globalCaptionInside?t._sliderOverflow:t.slider),n()}),t.ev.on("rsBeforeAnimStart",function(){n()})}}}),e.rsModules.globalCaption=e.rsProto._initGlobalCaption}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initAutoHideControlNav:function(){var e=this;e.st.navAutoHide&&!e.hasTouch&&e.ev.one("rsAfterInit",function(){if(e._controlNav){e._controlNav.addClass("rsHidden");var t=e.slider;t.one("mousemove.controlnav",function(){e._controlNav.removeClass("rsHidden")}),t.hover(function(){e._controlNav.removeClass("rsHidden")},function(){e._controlNav.addClass("rsHidden")})}})}}),e.rsModules.autoHideNav=e.rsProto._initAutoHideControlNav}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initTabs:function(){var t=this;"tabs"===t.st.controlNavigation&&(t.ev.on("rsBeforeParseNode",function(t,n,i){n=e(n),i.thumbnail=n.find(".rsTmb").remove(),i.thumbnail.length?i.thumbnail=e(document.createElement("div")).append(i.thumbnail).html():(i.thumbnail=n.attr("data-rsTmb"),i.thumbnail||(i.thumbnail=n.find(".rsImg").attr("data-rsTmb")),i.thumbnail=i.thumbnail?'<img src="'+i.thumbnail+'"/>':"")}),t.ev.one("rsAfterPropsSetup",function(){t._createTabs()}),t.ev.on("rsOnAppendSlide",function(e,n,i){i>=t.numSlides?t._controlNav.append('<div class="rsNavItem rsTab">'+n.thumbnail+"</div>"):t._controlNavItems.eq(i).before('<div class="rsNavItem rsTab">'+item.thumbnail+"</div>"),t._controlNavItems=t._controlNav.children()}),t.ev.on("rsOnRemoveSlide",function(e,n){var i=t._controlNavItems.eq(n);i&&(i.remove(),t._controlNavItems=t._controlNav.children())}),t.ev.on("rsOnUpdateNav",function(){var e,n=t.currSlideId;t._prevNavItem&&t._prevNavItem.removeClass("rsNavSelected"),e=t._controlNavItems.eq(n),e.addClass("rsNavSelected"),t._prevNavItem=e
}))},_createTabs:function(){var t=this,n="";t._controlNavEnabled=!0,n+='<div class="rsNav rsTabs">';for(var i=0;i<t.numSlides;i++)n+='<div class="rsNavItem rsTab">'+t.slides[i].thumbnail+"</div>";n+="</div>",n=e(n),t._controlNav=n,t._controlNavItems=n.children(".rsNavItem"),t.slider.append(n),t._controlNav.click(function(n){var i=e(n.target).closest(".rsNavItem");i.length&&t.goTo(i.index())})}}),e.rsModules.tabs=e.rsProto._initTabs}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initThumbs:function(){var t=this;"thumbnails"===t.st.controlNavigation&&(t._thumbsDefaults={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},t.st.thumbs=e.extend({},t._thumbsDefaults,t.st.thumbs),t._firstThumbMoved=!0,t.st.thumbs.firstMargin===!1?t.st.thumbs.firstMargin=0:t.st.thumbs.firstMargin===!0&&(t.st.thumbs.firstMargin=t.st.thumbs.spacing),t.ev.on("rsBeforeParseNode",function(t,n,i){n=e(n),i.thumbnail=n.find(".rsTmb").remove(),i.thumbnail.length?i.thumbnail=e(document.createElement("div")).append(i.thumbnail).html():(i.thumbnail=n.attr("data-rsTmb"),i.thumbnail||(i.thumbnail=n.find(".rsImg").attr("data-rsTmb")),i.thumbnail=i.thumbnail?'<img src="'+i.thumbnail+'"/>':"")}),t.ev.one("rsAfterPropsSetup",function(){t._createThumbs()}),t._prevNavItem=null,t.ev.on("rsOnUpdateNav",function(){var n=e(t._controlNavItems[t.currSlideId]);n!==t._prevNavItem&&(t._prevNavItem&&(t._prevNavItem.removeClass("rsNavSelected"),t._prevNavItem=null),t._thumbsNavigation&&t._setCurrentThumb(t.currSlideId),t._prevNavItem=n.addClass("rsNavSelected"))}),t.ev.on("rsOnAppendSlide",function(e,n,i){var r="<div"+t._thumbsMargin+' class="rsNavItem rsThumb">'+t._addThumbHTML+n.thumbnail+"</div>";t._useCSS3Transitions&&t._thumbsContainer.css(t._vendorPref+"transition-duration","0ms"),i>=t.numSlides?t._thumbsContainer.append(r):t._controlNavItems.eq(i).before(r),t._controlNavItems=t._thumbsContainer.children(),t.updateThumbsSize(!0)}),t.ev.on("rsOnRemoveSlide",function(e,n){var i=t._controlNavItems.eq(n);i&&(t._useCSS3Transitions&&t._thumbsContainer.css(t._vendorPref+"transition-duration","0ms"),i.remove(),t._controlNavItems=t._thumbsContainer.children(),t.updateThumbsSize(!0))}))},_createThumbs:function(){var t,n,i=this,r="rsThumbs",o=i.st.thumbs,s="",a=o.spacing;i._controlNavEnabled=!0,i._thumbsHorizontal="vertical"===o.orientation?!1:!0,i._thumbsMargin=t=a?' style="margin-'+(i._thumbsHorizontal?"right":"bottom")+":"+a+'px;"':"",i._thumbsPosition=0,i._isThumbsAnimating=!1,i._thumbsDrag=!1,i._thumbsNavigation=!1,i._thumbsArrows=o.arrows&&o.navigation;var u=i._thumbsHorizontal?"Hor":"Ver";i.slider.addClass("rsWithThumbs rsWithThumbs"+u),s+='<div class="rsNav rsThumbs rsThumbs'+u+'"><div class="'+r+'Container">',i._addThumbHTML=o.appendSpan?'<span class="thumbIco"></span>':"";for(var l=0;l<i.numSlides;l++)n=i.slides[l],s+="<div"+t+' class="rsNavItem rsThumb">'+n.thumbnail+i._addThumbHTML+"</div>";s=e(s+"</div></div>");var c={};o.paddingTop&&(c[i._thumbsHorizontal?"paddingTop":"paddingLeft"]=o.paddingTop),o.paddingBottom&&(c[i._thumbsHorizontal?"paddingBottom":"paddingRight"]=o.paddingBottom),s.css(c),i._thumbsContainer=e(s).find("."+r+"Container"),i._thumbsArrows&&(r+="Arrow",o.arrowLeft?i._thumbsArrowLeft=o.arrowLeft:(i._thumbsArrowLeft=e('<div class="'+r+" "+r+'Left"><div class="'+r+'Icn"></div></div>'),s.append(i._thumbsArrowLeft)),o.arrowRight?i._thumbsArrowRight=o.arrowRight:(i._thumbsArrowRight=e('<div class="'+r+" "+r+'Right"><div class="'+r+'Icn"></div></div>'),s.append(i._thumbsArrowRight)),i._thumbsArrowLeft.click(function(){var e=(Math.floor(i._thumbsViewportSize/i._thumbSize),Math.floor(i._thumbsPosition/i._thumbSize)),t=(e+i._visibleThumbsPerView)*i._thumbSize+i.st.thumbs.firstMargin;i._animateThumbsTo(t>i._thumbsMinPosition?i._thumbsMinPosition:t)}),i._thumbsArrowRight.click(function(){var e=(Math.floor(i._thumbsViewportSize/i._thumbSize),Math.floor(i._thumbsPosition/i._thumbSize)),t=(e-i._visibleThumbsPerView)*i._thumbSize+i.st.thumbs.firstMargin;i._animateThumbsTo(t<i._thumbsMaxPosition?i._thumbsMaxPosition:t)}),o.arrowsAutoHide&&!i.hasTouch&&(i._thumbsArrowLeft.css("opacity",0),i._thumbsArrowRight.css("opacity",0),s.one("mousemove.rsarrowshover",function(){i._thumbsNavigation&&(i._thumbsArrowLeft.css("opacity",1),i._thumbsArrowRight.css("opacity",1))}),s.hover(function(){i._thumbsNavigation&&(i._thumbsArrowLeft.css("opacity",1),i._thumbsArrowRight.css("opacity",1))},function(){i._thumbsNavigation&&(i._thumbsArrowLeft.css("opacity",0),i._thumbsArrowRight.css("opacity",0))}))),i._controlNav=s,i._controlNavItems=i._thumbsContainer.children(),i.msEnabled&&i.st.thumbs.navigation&&i._thumbsContainer.css("-ms-touch-action",i._thumbsHorizontal?"pan-y":"pan-x"),i.slider.append(s),i._thumbsEnabled=!0,i._thumbsSpacing=a,o.navigation&&i._useCSS3Transitions&&i._thumbsContainer.css(i._vendorPref+"transition-property",i._vendorPref+"transform"),i._controlNav.on("click.rs",".rsNavItem",function(){i._thumbsDrag||i.goTo(e(this).index())}),i.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){i._realWrapSize=i._thumbsHorizontal?i._wrapHeight:i._wrapWidth,i.updateThumbsSize(!0)}),i.ev.off("rsAutoHeightChange.thumbs").on("rsAutoHeightChange.thumbs",function(e,t){i.updateThumbsSize(!0,t)})},updateThumbsSize:function(e,t){var n=this,i=n._controlNavItems.first(),r={},o=n._controlNavItems.length;if(n._thumbSize=(n._thumbsHorizontal?i.outerWidth():i.outerHeight())+n._thumbsSpacing,n._thumbsContainerSize=o*n._thumbSize-n._thumbsSpacing,r[n._thumbsHorizontal?"width":"height"]=n._thumbsContainerSize+n._thumbsSpacing,n._thumbsViewportSize=n._thumbsHorizontal?n._controlNav.width():void 0!==t?t:n._controlNav.height(),n._thumbsEnabled&&(n.isFullscreen||n.st.thumbs.fitInViewport)&&(n._thumbsHorizontal?n._wrapHeight=n._realWrapSize-n._controlNav.outerHeight():n._wrapWidth=n._realWrapSize-n._controlNav.outerWidth()),n._thumbsViewportSize){if(n._thumbsMaxPosition=-(n._thumbsContainerSize-n._thumbsViewportSize)-n.st.thumbs.firstMargin,n._thumbsMinPosition=n.st.thumbs.firstMargin,n._visibleThumbsPerView=Math.floor(n._thumbsViewportSize/n._thumbSize),n._thumbsContainerSize<n._thumbsViewportSize){if(n._setThumbsPosition(n.st.thumbs.autoCenter?(n._thumbsViewportSize-n._thumbsContainerSize)/2:n._thumbsMinPosition),n.st.thumbs.arrows&&n._thumbsArrowLeft){var s="rsThumbsArrowDisabled";n._thumbsArrowLeft.addClass(s),n._thumbsArrowRight.addClass(s)}n._thumbsNavigation=!1,n._thumbsDrag=!1,n._unbindPassiveEvent(n._controlNav[0],n._downEvent,n._eventCallbacks.dragStartThumb,!1)}else n.st.thumbs.navigation&&!n._thumbsNavigation&&(n._thumbsNavigation=!0,(!n.hasTouch&&n.st.thumbs.drag||n.hasTouch&&n.st.thumbs.touch)&&(n._thumbsDrag=!0,n._bindPassiveEvent(n._controlNav[0],n._downEvent,n._eventCallbacks.dragStartThumb,!1)));n._thumbsContainer.css(r),e&&t&&n._setCurrentThumb(n.currSlideId,!0)}},setThumbsOrientation:function(e,t){var n=this;n._thumbsEnabled&&(n.st.thumbs.orientation=e,n._controlNav.remove(),n.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),n._createThumbs(),n._unbindPassiveEvent(n._controlNav[0],n._downEvent,n._eventCallbacks.dragStartThumb,!1),t||n.updateSliderSize(!0))},_setThumbsPosition:function(e){var t=this;t._thumbsPosition=e,t._useCSS3Transitions?t._thumbsContainer.css(t._xProp,t._tPref1+(t._thumbsHorizontal?e+t._tPref2+0:0+t._tPref2+e)+t._tPref3):t._thumbsContainer.css(t._thumbsHorizontal?t._xProp:t._yProp,e)},_animateThumbsTo:function(t,n,i,r,o){var s=this;if(s._thumbsNavigation){n||(n=s.st.thumbs.transitionSpeed),s._thumbsPosition=t,s._thumbsAnimTimeout&&clearTimeout(s._thumbsAnimTimeout),s._isThumbsAnimating&&(s._useCSS3Transitions||s._thumbsContainer.stop(),i=!0);var a={};s._isThumbsAnimating=!0,s._useCSS3Transitions?(a[s._vendorPref+"transition-duration"]=n+"ms",a[s._vendorPref+"transition-timing-function"]=i?e.rsCSS3Easing[s.st.easeOut]:e.rsCSS3Easing[s.st.easeInOut],s._thumbsContainer.css(a),s._setThumbsPosition(t)):(a[s._thumbsHorizontal?s._xProp:s._yProp]=t+"px",s._thumbsContainer.animate(a,n,i?"easeOutCubic":s.st.easeInOut)),r&&(s._thumbsPosition=r),s._updateThumbsArrows(),s._thumbsAnimTimeout=setTimeout(function(){s._isThumbsAnimating=!1,o&&(s._animateThumbsTo(r,o,!0),o=null)},n)}},_updateThumbsArrows:function(){var e=this;if(e._thumbsArrows){var t="rsThumbsArrowDisabled";e._thumbsPosition===e._thumbsMinPosition?e._thumbsArrowLeft.addClass(t):e._thumbsArrowLeft.removeClass(t),e._thumbsPosition===e._thumbsMaxPosition?e._thumbsArrowRight.addClass(t):e._thumbsArrowRight.removeClass(t)}},_setCurrentThumb:function(e,t){var n,i=this,r=0,o=e*i._thumbSize+2*i._thumbSize-i._thumbsSpacing+i._thumbsMinPosition,s=Math.floor(i._thumbsPosition/i._thumbSize);if(i._thumbsNavigation){if(i._firstThumbMoved&&(t=!0,i._firstThumbMoved=!1),o+i._thumbsPosition>i._thumbsViewportSize?(e===i.numSlides-1&&(r=1),s=-e+i._visibleThumbsPerView-2+r,n=s*i._thumbSize+i._thumbsViewportSize%i._thumbSize+i._thumbsSpacing-i._thumbsMinPosition):0!==e?(e-1)*i._thumbSize<=-i._thumbsPosition+i._thumbsMinPosition&&e-1<=i.numSlides-i._visibleThumbsPerView&&(s=-e+1,n=s*i._thumbSize+i._thumbsMinPosition):(s=0,n=i._thumbsMinPosition),n!==i._thumbsPosition){var a=void 0===n?i._thumbsPosition:n;a>i._thumbsMinPosition?i._setThumbsPosition(i._thumbsMinPosition):a<i._thumbsMaxPosition?i._setThumbsPosition(i._thumbsMaxPosition):void 0!==n&&(t?i._setThumbsPosition(n):i._animateThumbsTo(n))}i._updateThumbsArrows()}}}),e.rsModules.thumbnails=e.rsProto._initThumbs}(jQuery),function(e){"use strict";e.extend(e.rsProto,{_initVideo:function(){var t=this;t._videoDefaults={autoHideArrows:!0,autoHideControlNav:!1,autoHideBlocks:!1,autoHideCaption:!1,disableCSS3inFF:!0,youTubeCode:'<iframe src="https://www.youtube.com/embed/%id%?rel=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',vimeoCode:'<iframe src="https://player.vimeo.com/video/%id%?byline=0&portrait=0&autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},t.st.video=e.extend({},t._videoDefaults,t.st.video),t.ev.on("rsBeforeSizeSet",function(){t._isVideoPlaying&&setTimeout(function(){var e=t._currHolder;e=e.hasClass("rsVideoContainer")?e:e.find(".rsVideoContainer"),t._videoFrameHolder&&t._videoFrameHolder.css({width:e.width(),height:e.height()})},32)});var n=t._browser.mozilla;t.ev.on("rsAfterParseNode",function(i,r,o){var s,a=e(r);if(o.videoURL){t.st.video.disableCSS3inFF&&!s&&n&&(s=!0,t._useCSS3Transitions=t._use3dTransform=!1);var u=e('<div class="rsVideoContainer"></div>'),l=e('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');a.hasClass("rsImg")?o.content=u.append(a).append(l):o.content.find(".rsImg").wrap(u).after(l)}}),t.ev.on("rsAfterSlideChange",function(){t.stopVideo()})},toggleVideo:function(){var e=this;return e._isVideoPlaying?e.stopVideo():e.playVideo()},playVideo:function(){var t=this;if(!t._isVideoPlaying){var n=t.currSlide;if(!n.videoURL)return!1;t._playingVideoSlide=n;var i,r,o,s=t._currVideoContent=n.content,a=n.videoURL;return a.match(/youtu\.be/i)||a.match(/youtube\.com/i)?(r=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,o=a.match(r),o&&11==o[7].length&&(i=o[7]),void 0!==i&&(t._videoFrameHolder=t.st.video.youTubeCode.replace("%id%",i))):a.match(/vimeo\.com/i)&&(r=/(www\.)?vimeo.com\/(\d+)($|\/)/,o=a.match(r),o&&(i=o[2]),void 0!==i&&(t._videoFrameHolder=t.st.video.vimeoCode.replace("%id%",i))),t.videoObj=e(t._videoFrameHolder),t.ev.trigger("rsOnCreateVideoElement",[a]),t.videoObj.length&&(t._videoFrameHolder=e('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'),t._videoFrameHolder.find(".rsPreloader").after(t.videoObj),s=s.hasClass("rsVideoContainer")?s:s.find(".rsVideoContainer"),t._videoFrameHolder.css({width:s.width(),height:s.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(e){return t.stopVideo(),e.preventDefault(),e.stopPropagation(),!1}),s.append(t._videoFrameHolder),t.isIPAD&&s.addClass("rsIOSVideo"),t._toggleHiddenClass(!1),setTimeout(function(){t._videoFrameHolder.addClass("rsVideoActive")},10),t.ev.trigger("rsVideoPlay"),t._isVideoPlaying=!0),!0}return!1},stopVideo:function(){var e=this;return e._isVideoPlaying?(e.isIPAD&&e.slider.find(".rsCloseVideoBtn").remove(),e._toggleHiddenClass(!0),setTimeout(function(){e.ev.trigger("rsOnDestroyVideoElement",[e.videoObj]);var t=e._videoFrameHolder.find("iframe");if(t.length)try{t.attr("src","")}catch(n){}e._videoFrameHolder.remove(),e._videoFrameHolder=null},16),e.ev.trigger("rsVideoStop"),e._isVideoPlaying=!1,!0):!1},_toggleHiddenClass:function(e){var t=[],n=this,i=n.st.video;if(i.autoHideArrows&&(n._arrowLeft&&(t.push(n._arrowLeft,n._arrowRight),n._arrowsAutoHideLocked=!e),n._fsBtn&&t.push(n._fsBtn)),i.autoHideControlNav&&n._controlNav&&t.push(n._controlNav),i.autoHideBlocks&&n._playingVideoSlide.animBlocks&&t.push(n._playingVideoSlide.animBlocks),i.autoHideCaption&&n.globalCaption&&t.push(n.globalCaption),n.slider[e?"removeClass":"addClass"]("rsVideoPlaying"),t.length)for(var r=0;r<t.length;r++)e?t[r].removeClass("rsHidden"):t[r].addClass("rsHidden")}}),e.rsModules.video=e.rsProto._initVideo}(jQuery),function(e){"use strict";e.rsProto._initVisibleNearby=function(){var t=this;t.st.visibleNearby&&t.st.visibleNearby.enabled&&(t._vnDefaults={enabled:!0,centerArea:.6,center:!0,breakpoint:0,breakpointCenterArea:.8,hiddenOverflow:!0,navigateByCenterClick:!1},t.st.visibleNearby=e.extend({},t._vnDefaults,t.st.visibleNearby),t.ev.one("rsAfterPropsSetup",function(){t._sliderVisibleNearbyWrap=t._sliderOverflow.css("overflow","visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent(),t.st.visibleNearby.hiddenOverflow||t._sliderVisibleNearbyWrap.css("overflow","visible"),t._controlsContainer=t.st.controlsInside?t._sliderVisibleNearbyWrap:t.slider}),t.ev.on("rsAfterSizePropSet",function(){var e,n=t.st.visibleNearby;e=n.breakpoint&&t.width<n.breakpoint?n.breakpointCenterArea:n.centerArea,t._slidesHorizontal?(t._wrapWidth=t._wrapWidth*e,t._sliderVisibleNearbyWrap.css({height:t._wrapHeight,width:t._wrapWidth/e}),t._minPosOffset=t._wrapWidth*(1-e)/2/e):(t._wrapHeight=t._wrapHeight*e,t._sliderVisibleNearbyWrap.css({height:t._wrapHeight/e,width:t._wrapWidth}),t._minPosOffset=t._wrapHeight*(1-e)/2/e),n.navigateByCenterClick||(t._nextSlidePos=t._slidesHorizontal?t._wrapWidth:t._wrapHeight),n.center&&t._sliderOverflow.css("margin-"+(t._slidesHorizontal?"left":"top"),t._minPosOffset)}))},e.rsModules.visibleNearby=e.rsProto._initVisibleNearby}(jQuery),Arcfour.prototype.init=ARC4init,Arcfour.prototype.next=ARC4next;var rng_psize=256,rng_state,rng_pool,rng_pptr;if(null==rng_pool){rng_pool=new Array,rng_pptr=0;var t;if("undefined"!=typeof window&&window.crypto){if(window.crypto.getRandomValues){var ua=new Uint8Array(32);for(window.crypto.getRandomValues(ua),t=0;32>t;++t)rng_pool[rng_pptr++]=ua[t]}if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var z=window.crypto.random(32);for(t=0;t<z.length;++t)rng_pool[rng_pptr++]=255&z.charCodeAt(t)}}for(;rng_psize>rng_pptr;)t=Math.floor(65536*Math.random()),rng_pool[rng_pptr++]=t>>>8,rng_pool[rng_pptr++]=255&t;rng_pptr=0,rng_seed_time()}SecureRandom.nextBytes=rng_get_bytes,function(){SecureRandom.hex=function(e){var t,n,i,r,o,s;for(null==e&&(e=16),t=new Array(e),SecureRandom.nextBytes(t),i="",r=o=0,s=t.length;s>=0?s>o:o>s;r=s>=0?++o:--o)n=t[r].toString(16),1===n.length&&(n="0"+n),i+=n;return i},SecureRandom.uuid=function(){var e,t,n,i,r,o;for(e=new Array(16),SecureRandom.nextBytes(e),o="",n=i=0,r=e.length;r>=0?r>i:i>r;n=r>=0?++i:--i)t=e[n].toString(16),1===t.length&&(t="0"+t),o+=6===n?"4"+t[1]:8===n?(3&parseInt(t[0],16)|8).toString(16)+t[1]:t,(3===n||5===n||7===n||9===n)&&(o+="-");return o}}.call(this),function(global){var qq=function(e){"use strict";return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return t?e===t?!0:e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e)):!1},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){if(null==e.style)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return null!=t.opacity&&"string"!=typeof e.style.opacity&&"undefined"!=typeof e.filters&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t,n){var i=new RegExp("(^| )"+t+"( |$)");return i.test(e.className)||!(!n||!i.test(e.parentNode.className))},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t,n){var i,r=[];return n&&e.querySelector?e.querySelector("."+t):e.querySelectorAll?e.querySelectorAll("."+t):(i=e.getElementsByTagName("*"),qq.each(i,function(e,n){qq(n).hasClass(t)&&r.push(n)}),n?r[0]:r)},getFirstByClass:function(t){return qq(e).getByClass(t,!0)},children:function(){for(var t=[],n=e.firstChild;n;)1===n.nodeType&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")},hasAttribute:function(t){var n;return e.hasAttribute?e.hasAttribute(t)?null==/^false$/i.exec(e.getAttribute(t)):!1:(n=e[t],void 0===n?!1:null==/^false$/i.exec(n))}}};!function(){"use strict";qq.canvasToBlob=function(e,t,n){return qq.dataUriToBlob(e.toDataURL(t,n))},qq.dataUriToBlob=function(e){var t,n,i,r,o=function(e,t){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=n&&new n;return i?(i.append(e),i.getBlob(t)):new Blob([e],{type:t})};return n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),i=new Uint8Array(t),qq.each(n,function(e,t){i[e]=t.charCodeAt(0)}),o(t,r)},qq.log=function(e,t){window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){return e&&!e.nodeType&&"[object Object]"===Object.prototype.toString.call(e)},qq.isFunction=function(e){return"function"==typeof e},qq.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return"[object DataTransferItemList]"===Object.prototype.toString.call(e)},qq.isNodeList=function(e){return"[object NodeList]"===Object.prototype.toString.call(e)||e.item&&e.namedItem},qq.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),n=e,i=n.indexOf("{}");return qq.each(t,function(e,t){var r=n.substring(0,i),o=n.substring(i+2);return n=r+t+o,i=n.indexOf("{}",i+t.length),0>i?!1:void 0}),n},qq.isFile=function(e){return window.File&&"[object File]"===Object.prototype.toString.call(e)},qq.isFileList=function(e){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(e)},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){var n=function(e){var n=e.toLowerCase();return t?"file"!==n:"file"===n};return window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(e)&&e.type&&n(e.type)?!0:e.tagName&&"input"===e.tagName.toLowerCase()&&e.type&&n(e.type)?!0:!1},qq.isBlob=function(e){return window.Blob&&"[object Blob]"===Object.prototype.toString.call(e)?!0:void 0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&"undefined"!=typeof qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&e.items.length>0&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.sliceBlob=function(e,t,n){var i=e.slice||e.mozSlice||e.webkitSlice;return i.call(e,t,n)},qq.arrayBufferToHex=function(e){var t="",n=new Uint8Array(e);return qq.each(n,function(e,n){var i=n.toString(16);i.length<2&&(i="0"+i),t+=i}),t},qq.readBlobToHex=function(e,t,n){var i=qq.sliceBlob(e,t,t+n),r=new FileReader,o=new qq.Promise;return r.onload=function(){o.success(qq.arrayBufferToHex(r.result))},r.onerror=o.failure,r.readAsArrayBuffer(i),o},qq.extend=function(e,t,n){return qq.each(t,function(t,i){n&&qq.isObject(i)?(void 0===e[t]&&(e[t]={}),qq.extend(e[t],i,!0)):e[t]=i}),e},qq.override=function(e,t){var n={},i=t(n);return qq.each(i,function(t,i){void 0!==e[t]&&(n[t]=e[t]),e[t]=i}),e},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var i=e.length;for(0>n&&(n+=i);i>n;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},qq.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")},qq.ie7=function(){return-1!==navigator.userAgent.indexOf("MSIE 7")},qq.ie8=function(){return-1!==navigator.userAgent.indexOf("MSIE 8")},qq.ie10=function(){return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.ie11=function(){return qq.ie()&&-1!==navigator.userAgent.indexOf("rv:11")},qq.edge=function(){return navigator.userAgent.indexOf("Edge")>=0},qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.opera=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Opera")},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 6_")},qq.ios7=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")},qq.ios8=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_")},qq.ios800=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_0 ")},qq.ios=function(){return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},qq.iosChrome=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf("CriOS")},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&-1!==navigator.userAgent.indexOf("Safari")},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){var n,i;if(e)if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&(i=t(e.key(n),e.getItem(e.key(n))),i!==!1);n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&(i=t(n,e[n]),i!==!1);n++);else if(qq.isString(e))for(n=0;n<e.length&&(i=t(n,e.charAt(n)),i!==!1);n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&(i=t(n,e[n]),i===!1))break},qq.bind=function(e,t){if(qq.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return function(){var i=qq.extend([],n);return arguments.length&&(i=i.concat(Array.prototype.slice.call(arguments))),e.apply(t,i)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,t,n){var i=[],r="&",o=function(e,n){var r=t?/\[\]$/.test(t)?t:t+"["+n+"]":n;"undefined"!==r&&"undefined"!==n&&i.push("object"==typeof e?qq.obj2url(e,r,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(r)+"="+encodeURIComponent(e()):encodeURIComponent(r)+"="+encodeURIComponent(e))};return!n&&t?(r=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",i.push(t),i.push(qq.obj2url(e))):"[object Array]"===Object.prototype.toString.call(e)&&"undefined"!=typeof e?qq.each(e,function(e,t){o(t,e)}):"undefined"!=typeof e&&null!==e&&"object"==typeof e?qq.each(e,function(e,t){o(t,e)}):i.push(encodeURIComponent(t)+"="+encodeURIComponent(e)),t?i.join(r):i.join(r).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){return t||(t=new FormData),qq.each(e,function(e,i){e=n?n+"["+e+"]":e,qq.isObject(i)?qq.obj2FormData(i,t,e):qq.isFunction(i)?t.append(e,i()):t.append(e,i)}),t},qq.obj2Inputs=function(e,t){var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(e,i){n=document.createElement("input"),n.setAttribute("name",e),n.setAttribute("value",i),t.appendChild(n)}}),t},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;return t>0?e.substr(t,e.length-t):void 0},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name},qq.DisposeSupport=function(){var e=[];return{dispose:function(){var t;do t=e.shift(),t&&t();while(t)},attach:function(){var e=arguments;this.addDisposer(qq(e[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}}}(),function(){"use strict";"function"==typeof define&&define.amd?define(function(){return qq}):"undefined"!=typeof module&&module.exports?module.exports=qq:global.qq=qq}(),function(){"use strict";qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.14.5",qq.supportedFeatures=function(){"use strict";function e(){var e,t=!0;try{e=document.createElement("input"),e.type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(n){t=!1}return t}function t(){return(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/)}function n(){return(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)}function i(){if(window.XMLHttpRequest){var e=qq.createXhrInstance();return void 0!==e.withCredentials}return!1}function r(){return void 0!==window.XDomainRequest}function o(){return i()?!0:r()}function s(){return void 0!==document.createElement("input").webkitdirectory}function a(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch(e){return!1}}function u(){var e=document.createElement("span");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&!qq.android()&&!qq.ios()}var l,c,d,f,h,p,m,g,v,_,y,q,b,w,S;return l=e(),f=l&&qq.isXhrUploadSupported(),c=f&&!qq.androidStock(),d=f&&u(),h=d&&t(),p=f&&qq.isFileChunkingSupported(),m=f&&p&&a(),g=f&&n(),v=l&&(void 0!==window.postMessage||f),y=i(),_=r(),q=o(),b=s(),w=f&&void 0!==window.FileReader,S=function(){return f?!qq.androidStock()&&!qq.iosChrome():!1}(),{ajaxUploading:f,blobUploading:c,canDetermineSize:f,chunking:p,deleteFileCors:q,deleteFileCorsXdr:_,deleteFileCorsXhr:y,dialogElement:!!window.HTMLDialogElement,fileDrop:d,folderDrop:h,folderSelection:b,imagePreviews:w,imageValidation:w,itemSizeValidation:f,pause:p,progressBar:S,resume:m,scaling:w&&c,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:l,uploadCors:v,uploadCustomHeaders:f,uploadNonMultipart:f,uploadViaPaste:g}}(),qq.isGenericPromise=function(e){"use strict";return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){"use strict";var e,t,n=[],i=[],r=[],o=0;qq.extend(this,{then:function(r,s){return 0===o?(r&&n.push(r),s&&i.push(s)):-1===o?s&&s.apply(null,t):r&&r.apply(null,e),this},done:function(n){return 0===o?r.push(n):n.apply(null,void 0===t?e:t),this},success:function(){return o=1,e=arguments,n.length&&qq.each(n,function(t,n){n.apply(null,e)}),r.length&&qq.each(r,function(t,n){n.apply(null,e)}),this},failure:function(){return o=-1,t=arguments,i.length&&qq.each(i,function(e,n){n.apply(null,t)}),r.length&&qq.each(r,function(e,n){n.apply(null,t)}),this}})},qq.BlobProxy=function(e,t){"use strict";qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){"use strict";function t(){var e=document.createElement("input");return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,i),e.setAttribute("title",s.title),r.setMultiple(s.multiple,e),s.folders&&qq.supportedFeatures.folderSelection&&e.setAttribute("webkitdirectory",""),s.acceptFiles&&e.setAttribute("accept",s.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",s.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),!qq.ie7()&&qq(e).css({height:"100%"}),s.element.appendChild(e),o.attach(e,"change",function(){s.onChange(e)}),o.attach(e,"mouseover",function(){qq(s.element).addClass(s.hoverClass)}),o.attach(e,"mouseout",function(){qq(s.element).removeClass(s.hoverClass)}),o.attach(e,"focus",function(){qq(s.element).addClass(s.focusClass)}),o.attach(e,"blur",function(){qq(s.element).removeClass(s.focusClass)}),e}var n,i,r=this,o=new qq.DisposeSupport,s={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(){},title:null};qq.extend(s,e),i=qq.getUniqueId(),qq.extend(this,{getInput:function(){return n},getButtonId:function(){return i},setMultiple:function(e,t){var n=t||this.getInput();s.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())?n.setAttribute("multiple",""):e?n.setAttribute("multiple",""):n.removeAttribute("multiple")},setAcceptFiles:function(e){e!==s.acceptFiles&&n.setAttribute("accept",e)},reset:function(){n.parentNode&&qq(n).remove(),qq(s.element).removeClass(s.focusClass),n=null,n=t()}}),n=t()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(e){"use strict";function t(e){if(qq.isArray(e)){var t=[];return qq.each(e,function(e,n){t.push(r[n])}),t}return r[e]}function n(e){if(qq.isArray(e)){var t=[];return qq.each(e,function(e,n){t.push(r[o[n]])}),t}return r[o[e]]}function i(e){var t=[],n=[].concat(e);return qq.each(n,function(e,n){var i=s[n];void 0!==i&&qq.each(i,function(e,n){t.push(r[n])})}),t}var r=[],o={},s={},a={},u={};qq.extend(this,{addFile:function(t){var n=t.status||qq.status.SUBMITTING,i=r.push({name:t.name,originalName:t.name,uuid:t.uuid,size:null==t.size?-1:t.size,status:n})-1;return t.batchId&&(r[i].batchId=t.batchId,void 0===u[t.batchId]&&(u[t.batchId]=[]),u[t.batchId].push(i)),t.proxyGroupId&&(r[i].proxyGroupId=t.proxyGroupId,void 0===a[t.proxyGroupId]&&(a[t.proxyGroupId]=[]),a[t.proxyGroupId].push(i)),r[i].id=i,o[t.uuid]=i,void 0===s[n]&&(s[n]=[]),s[n].push(i),t.onBeforeStatusChange&&t.onBeforeStatusChange(i),e.onStatusChange(i,null,n),i},retrieve:function(e){return qq.isObject(e)&&r.length?void 0!==e.id?t(e.id):void 0!==e.uuid?n(e.uuid):e.status?i(e.status):void 0:qq.extend([],r,!0)},reset:function(){r=[],o={},s={},u={}},setStatus:function(t,n){var i=r[t].status,o=qq.indexOf(s[i],t);s[i].splice(o,1),r[t].status=n,void 0===s[n]&&(s[n]=[]),s[n].push(t),e.onStatusChange(t,i,n)},uuidChanged:function(e,t){var n=r[e].uuid;r[e].uuid=t,o[t]=e,delete o[n]},updateName:function(e,t){r[e].name=t},updateSize:function(e,t){r[e].size=t},setParentId:function(e,t){r[e].parentId=t},getIdsInProxyGroup:function(e){var t=r[e].proxyGroupId;return t?a[t]:[]},getIdsInBatch:function(e){var t=r[e].batchId;return u[t]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){"use strict";
qq.basePublicApi={addBlobs:function(e,t,n){this.addFiles(e,t,n)},addInitialFiles:function(e){var t=this;qq.each(e,function(e,n){t._addCannedFile(n)})},addFiles:function(e,t,n){this._maybeHandleIos8SafariWorkaround();var i=0===this._storedIds.length?qq.getUniqueId():this._currentBatchId,r=qq.bind(function(e){this._handleNewFile({blob:e,name:this._options.blobs.defaultName},i,d)},this),o=qq.bind(function(e){this._handleNewFile(e,i,d)},this),s=qq.bind(function(e){var t=qq.canvasToBlob(e);this._handleNewFile({blob:t,name:this._options.blobs.defaultName+".png"},i,d)},this),a=qq.bind(function(e){var t=e.quality&&e.quality/100,n=qq.canvasToBlob(e.canvas,e.type,t);this._handleNewFile({blob:n,name:e.name},i,d)},this),u=qq.bind(function(e){if(qq.isInput(e)&&qq.supportedFeatures.ajaxUploading){var t=Array.prototype.slice.call(e.files),n=this;qq.each(t,function(e,t){n._handleNewFile(t,i,d)})}else this._handleNewFile(e,i,d)},this),l=function(){qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e)},c=this,d=[];this._currentBatchId=i,e&&(l(),qq.each(e,function(e,t){qq.isFileOrInput(t)?u(t):qq.isBlob(t)?r(t):qq.isObject(t)?t.blob&&t.name?o(t):t.canvas&&t.name&&a(t):t.tagName&&"canvas"===t.tagName.toLowerCase()?s(t):c.log(t+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+d.length+" files."),this._prepareItemsForUpload(d,t,n))},cancel:function(e){this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,function(e,n){t.cancel(n)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return qq.supportedFeatures.pause&&this._options.chunking.enabled?t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),!0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),!1):!1},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,n,i,r){var o,s,a=new qq.Promise;return this._imageGenerator?(o=this._thumbnailUrls[e],s={customResizeFunction:r,maxSize:n>0?n:null,scale:n>0},!i&&qq.supportedFeatures.imagePreviews&&(o=this.getFile(e)),null==o?a.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(o,t,s).then(function(e){a.success(e)},function(e,t){a.failure({container:e,error:t||"Problem generating thumbnail"})})):a.failure({container:t,error:"Missing image generator module"}),a},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){return this._handler.getFile(e)||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),n=null;return t&&void 0!==t.parentId&&(n=t.parentId),n},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return e>0?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[Fine Uploader "+qq.version+"] "+e,t):qq.log("[Fine Uploader "+qq.version+"] "+e)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)>=0){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},removeFileRef:function(e){this._handler.expunge(e)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(e,t){t.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){var n=this;return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(n.log,n),getFile:qq.bind(n.getFile,n),uploadData:n._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},setStatus:function(e,t){var n=this.getUploads({id:e});if(!n)throw new qq.Error(e+" is not a valid file ID.");switch(t){case qq.status.DELETED:this._onDeleteComplete(e,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(e,null,!0);break;default:var i="Method setStatus called on '"+name+"' not implemented yet for "+t;throw this.log(i),new qq.Error(i)}},uploadStoredFiles:function(){0===this._storedIds.length?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(e){var t=this;return this._uploadData.addFile({uuid:e.uuid,name:e.name,size:e.size,status:qq.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(n){e.deleteFileEndpoint&&t.setDeleteFileEndpoint(e.deleteFileEndpoint,n),e.deleteFileParams&&t.setDeleteFileParams(e.deleteFileParams,n),e.thumbnailUrl&&(t._thumbnailUrls[n]=e.thumbnailUrl),t._netUploaded++,t._netUploadedOrQueued++}})},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(e.log,e),onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,i){e._onDeleteComplete(t,n,i),e._options.callbacks.onDeleteComplete(t,n,i)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(e.log,e),pasteReceived:function(t){e._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(e._options.callbacks.onPasteReceived,e,t),onSuccess:qq.bind(e._handlePasteSuccess,e,t),identifier:"pasted image"})}}})},_createStore:function(e,t){var n={},i=e,r={},o=t,s=function(e){return qq.isObject(e)?qq.extend({},e):e},a=function(){return qq.isFunction(o)?o():o},u=function(e,t){o&&qq.isObject(t)&&qq.extend(t,a()),r[e]&&qq.extend(t,r[e])};return{set:function(e,t){null==t?(n={},i=s(e)):n[t]=s(e)},get:function(e){var t;return t=null!=e&&n[e]?n[e]:s(i),u(e,t),s(t)},addReadOnly:function(e,t){qq.isObject(n)&&(null===e?qq.isFunction(t)?o=t:(o=o||{},qq.extend(o,t)):(r[e]=r[e]||{},qq.extend(r[e],t)))},remove:function(e){return delete n[e]},reset:function(){n={},r={},i=e}}},_createUploadDataTracker:function(){var e=this;return new qq.UploadData({getName:function(t){return e.getName(t)},getUuid:function(t){return e.getUuid(t)},getSize:function(t){return e.getSize(t)},onStatusChange:function(t,n,i){e._onUploadStatusChange(t,n,i),e._options.callbacks.onStatusChange(t,n,i),e._maybeAllComplete(t,i),e._totalProgress&&setTimeout(function(){e._totalProgress.onStatusChange(t,n,i)},0)}})},_createUploadButton:function(e){function t(){return qq.supportedFeatures.ajaxUploading?i._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&i._isAllowedExtension(o,".mov")?!1:void 0===e.multiple?i._options.multiple:e.multiple:!1}var n,i=this,r=e.accept||this._options.validation.acceptFiles,o=e.allowedExtensions||this._options.validation.allowedExtensions;return n=new qq.UploadButton({acceptFiles:r,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:t(),name:this._options.request.inputName,onChange:function(e){i._onInputChange(e)},title:null==e.title?this._options.text.fileInputTitle:e.title}),this._disposeSupport.addDisposer(function(){n.dispose()}),i._buttons.push(n),n},_createUploadHandler:function(e,t){var n=this,i={},r={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(n.log,n),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(e,t,r,o){0>r||0>o||(i[e]?(i[e].loaded!==r||i[e].total!==o)&&(n._onProgress(e,t,r,o),n._options.callbacks.onProgress(e,t,r,o)):(n._onProgress(e,t,r,o),n._options.callbacks.onProgress(e,t,r,o)),i[e]={loaded:r,total:o})},onComplete:function(e,t,r,o){delete i[e];var s,a=n.getUploads({id:e}).status;a!==qq.status.UPLOAD_SUCCESSFUL&&a!==qq.status.UPLOAD_FAILED&&(s=n._onComplete(e,t,r,o),s instanceof qq.Promise?s.done(function(){n._options.callbacks.onComplete(e,t,r,o)}):n._options.callbacks.onComplete(e,t,r,o))},onCancel:function(e,t,i){var r=new qq.Promise;return n._handleCheckedCallback({name:"onCancel",callback:qq.bind(n._options.callbacks.onCancel,n,e,t),onFailure:r.failure,onSuccess:function(){i.then(function(){n._onCancel(e,t)}),r.success()},identifier:e}),r},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(e,t){n._onUpload(e,t),n._options.callbacks.onUpload(e,t)},onUploadChunk:function(e,t,i){n._onUploadChunk(e,i),n._options.callbacks.onUploadChunk(e,t,i)},onUploadChunkSuccess:function(){n._options.callbacks.onUploadChunkSuccess.apply(n,arguments)},onResume:function(e,t,i){return n._options.callbacks.onResume(e,t,i)},onAutoRetry:function(){return n._onAutoRetry.apply(n,arguments)},onUuidChanged:function(e,t){n.log("Server requested UUID change from '"+n.getUuid(e)+"' to '"+t+"'"),n.setUuid(e,t)},getName:qq.bind(n.getName,n),getUuid:qq.bind(n.getUuid,n),getSize:qq.bind(n.getSize,n),setSize:qq.bind(n._setSize,n),getDataByUuid:function(e){return n.getUploads({uuid:e})},isQueued:function(e){var t=n.getUploads({id:e}).status;return t===qq.status.QUEUED||t===qq.status.SUBMITTED||t===qq.status.UPLOAD_RETRYING||t===qq.status.PAUSED},getIdsInProxyGroup:n._uploadData.getIdsInProxyGroup,getIdsInBatch:n._uploadData.getIdsInBatch};return qq.each(this._options.request,function(e,t){r[e]=t}),r.customHeaders=this._customHeadersStore,e&&qq.each(e,function(e,t){r[e]=t}),new qq.UploadHandlerController(r,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){if(0===e)return e+this._options.text.sizeSymbols[0];var t=-1;do e/=1e3,t++;while(e>999);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var e=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(t,n){var i=n.multiple,r=qq.extend({},e._options.validation,!0),o=qq.extend({},n);void 0===i&&(i=e._options.multiple),o.validation&&qq.extend(r,n.validation,!0),qq.extend(o,{multiple:i,validation:r},!0),e._initExtraButton(o)})},_getButton:function(e){var t=this._extraButtonSpecs[e];return t?t.element:e===this._defaultButtonId?this._options.button:void 0},_getButtonId:function(e){var t,n,i=e;if(i instanceof qq.BlobProxy&&(i=i.referenceBlob),i&&!qq.isBlob(i)){if(qq.isFile(i))return i.qqButtonId;if("input"===i.tagName.toLowerCase()&&"file"===i.type.toLowerCase())return i.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(t=i.getElementsByTagName("input"),qq.each(t,function(e,t){return"file"===t.getAttribute("type")?(n=t,!1):void 0}),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){var t=this._extraButtonSpecs[e];return t?t.validation:this._options.validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,function(e,i){n.push(t._getValidationDescriptor(i))}),n},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var e="image/*;capture=camera",t=this._options.camera.button,n=t?this._getButtonId(t):this._defaultButtonId,i=this._options;n&&n!==this._defaultButtonId&&(i=this._extraButtonSpecs[n]),i.multiple=!1,null===i.validation.acceptFiles?i.validation.acceptFiles=e:i.validation.acceptFiles+=","+e,qq.each(this._buttons,function(e,t){return t.getButtonId()===n?(t.setMultiple(i.multiple),t.setAcceptFiles(i.acceptFiles),!1):void 0})}},_handleCheckedCallback:function(e){var t=this,n=e.callback();return qq.isGenericPromise(n)?(this.log(e.name+" - waiting for "+e.name+" promise to be fulfilled for "+e.identifier),n.then(function(n){t.log(e.name+" promise success for "+e.identifier),e.onSuccess(n)},function(){e.onFailure?(t.log(e.name+" promise failure for "+e.identifier),e.onFailure()):t.log(e.name+" promise failure for "+e.identifier)})):(n!==!1?e.onSuccess(n):e.onFailure?(this.log(e.name+" - return value was 'false' for "+e.identifier+".  Invoking failure callback."),e.onFailure()):this.log(e.name+" - return value was 'false' for "+e.identifier+".  Will not proceed."),n)},_handleNewFile:function(e,t,n){var i=this,r=qq.getUniqueId(),o=-1,s=qq.getFilename(e),a=e.blob||e,u=this._customNewFileHandler?this._customNewFileHandler:qq.bind(i._handleNewFileGeneric,i);!qq.isInput(a)&&a.size>=0&&(o=a.size),u(a,s,r,o,n,t,this._options.request.uuidName,{uploadData:i._uploadData,paramsStore:i._paramsStore,addFileToHandler:function(e,t){i._handler.add(e,t),i._netUploadedOrQueued++,i._trackButton(e)}})},_handleNewFileGeneric:function(e,t,n,i,r,o){var s=this._uploadData.addFile({uuid:n,name:t,size:i,batchId:o});this._handler.add(s,e),this._trackButton(s),this._netUploadedOrQueued++,r.push({id:s,file:e})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],i=t;null==i&&(i=this._options.paste.defaultName),i+="."+n,this.addFiles({name:i,blob:e})},_handleDeleteSuccess:function(e){if(this.getUploads({id:e}).status!==qq.status.DELETED){var t=this.getName(e);this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+t+"' has succeeded.")}},_handleDeleteFailed:function(e,t){var n=this.getName(e);this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+n+"' has failed.","error"),t&&void 0!==t.withCredentials?this._options.callbacks.onError(e,n,"Delete request failed with response code "+t.status,t):this._options.callbacks.onError(e,n,"Delete request failed",t)},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return qq.DeleteFileAjaxRequester&&this._options.deleteFile.enabled?this._options.cors.expected?qq.supportedFeatures.deleteFileCorsXhr?!0:qq.supportedFeatures.deleteFileCorsXdr&&this._options.cors.allowXdr?!0:!1:!0:!1},_isAllowedExtension:function(e,t){var n=!1;return e.length?(qq.each(e,function(e,i){if(qq.isString(i)){var r=new RegExp("\\."+i+"$","i");if(null!=t.match(r))return n=!0,!1}}),n):!0},_itemError:function(e,t,n){function i(e,t){s=s.replace(e,t)}var r,o,s=this._options.messages[e],a=[],u=[].concat(t),l=u[0],c=this._getButtonId(n),d=this._getValidationBase(c);return qq.each(d.allowedExtensions,function(e,t){qq.isString(t)&&a.push(t)}),r=a.join(", ").toLowerCase(),i("{file}",this._options.formatFileName(l)),i("{extensions}",r),i("{sizeLimit}",this._formatSize(d.sizeLimit)),i("{minSizeLimit}",this._formatSize(d.minSizeLimit)),o=s.match(/(\{\w+\})/g),null!==o&&qq.each(o,function(e,t){i(t,u[e])}),this._options.callbacks.onError(null,l,s,void 0),s},_manualRetry:function(e,t){return this._onBeforeManualRetry(e)?(this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0):void 0},_maybeAllComplete:function(e,t){var n=this,i=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),0===i&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){n._onAllComplete(n._succeededSinceLastAllComplete,n._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,n,i){if(!n.success)if(i&&200!==i.status&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+i.status,i);else{var r=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,r,i)}},_maybeProcessNextItemAfterOnValidateCallback:function(e,t,n,i,r){var o=this;if(t.length>n)if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var e=o._getValidationDescriptor(t[n]),s=o._getButtonId(t[n].file),a=o._getButton(s);o._handleCheckedCallback({name:"onValidate",callback:qq.bind(o._options.callbacks.onValidate,o,e,a),onSuccess:qq.bind(o._onValidateCallbackSuccess,o,t,n,i,r),onFailure:qq.bind(o._onValidateCallbackFailure,o,t,n,i,r),identifier:"Item '"+e.name+"', size: "+e.size})},0);else if(!e)for(;n<t.length;n++)o._fileOrBlobRejected(t[n].id)},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,n,i,r){var o=this;if(o._preventRetries[e]=n[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e,t,n)){var s=1e3*o._options.retry.autoAttemptDelay;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout(function(){o.log("Starting retry for "+t+"..."),r?r(e):o._handler.retry(e)},s),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t,n=this._currentItemLimit;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(t=this.getName(e),this._options.callbacks.onManualRetry(e,t)===!1?!1:n>0&&this._netUploadedOrQueued+1>n?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+t+"' (id: "+e+")..."),!0)):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var t=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&t>=0&&this._storedIds.splice(t,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,n,i){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[e]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),n[this._options.retry.preventRetryResponseProperty]===!0&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,n,i),n.success?!0:!1},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,n){this.getName(e);n?this._handleDeleteFailed(e,t):this._handleDeleteSuccess(e)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else e.value.length>0&&this.addFiles(e);qq.each(this._buttons,function(e,t){t.reset()})},_onProgress:function(e,t,n,i){this._totalProgress&&this._totalProgress.onIndividualProgress(e,n,i)},_onSubmit:function(){},_onSubmitCallbackSuccess:function(e){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,n){var i,r=this.getUuid(e);return t&&(i=qq.bind(t,this,e,r,n)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:i||qq.bind(this._deleteHandler.sendDelete,this,e,r,n),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(){},_onUpload:function(e){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(){},_onUploadStatusChange:function(e,t,n){n===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var t=this;qq.each(e,function(e,n){t._fileOrBlobRejected(n.id)})},_onValidateBatchCallbackSuccess:function(e,t,n,i,r){var o,s=this._currentItemLimit,a=this._netUploadedOrQueued;0===s||s>=a?t.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],r),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,n,i),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,n,i),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,a).replace(/\{itemLimit\}/g,s),this._batchError(o))},_onValidateCallbackFailure:function(e,t,n,i){var r=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,r,n,i)},_onValidateCallbackSuccess:function(e,t,n,i){var r=this,o=t+1,s=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],s).then(function(){r._upload(e[t].id,n,i),r._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,n,i)},function(){r._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,n,i)})},_prepareItemsForUpload:function(e,t,n){if(0===e.length)return void this._itemError("noFilesError");var i=this._getValidationDescriptors(e),r=this._getButtonId(e[0].file),o=this._getButton(r);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,i,o),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,i,e,t,n,o),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",function(t){return e.getInProgress()?(t=t||window.event,t.returnValue=e._options.messages.onLeave,e._options.messages.onLeave):void 0})},_refreshSessionData:function(){var e=this,t=this._options.session;qq.Session&&null!=this._options.session.endpoint&&(this._session||(qq.extend(t,{cors:this._options.cors}),t.log=qq.bind(this.log,this),t.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(t)),setTimeout(function(){e._session.refresh().then(function(t,n){e._sessionRequestComplete(),e._options.callbacks.onSessionRequestComplete(t,!0,n)},function(t,n){e._options.callbacks.onSessionRequestComplete(t,!1,n)})},0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e){var t=this._uploadData.retrieve({id:e});return!this._preventRetries[e]&&this._options.retry.enableAuto&&t.status!==qq.status.PAUSED&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts)?(this._autoRetries[e]+=1,!0):!1},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t;t=qq.supportedFeatures.ajaxUploading?this._handler.getFile(e).qqButtonId:this._getButtonId(this._handler.getInput(e)),t&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,n){var i=this.getName(e);t&&this.setParams(t,e),n&&this.setEndpoint(n,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,i),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,i),onFailure:qq.bind(this._fileOrBlobRejected,this,e,i),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,n=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);t=this.getUploads({status:qq.status.SUBMITTING}).length,t&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){n._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(e,t){var n=this,i=function(){return e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file}(),r=t.name,o=t.size,s=this._getButtonId(e.file),a=this._getValidationBase(s),u=new qq.Promise;return u.then(function(){},function(){n._fileOrBlobRejected(e.id,r)}),qq.isFileOrInput(i)&&!this._isAllowedExtension(a.allowedExtensions,r)?(this._itemError("typeError",r,i),u.failure()):this._options.validation.allowEmpty||0!==o?o>0&&a.sizeLimit&&o>a.sizeLimit?(this._itemError("sizeError",r,i),u.failure()):o>0&&o<a.minSizeLimit?(this._itemError("minSizeError",r,i),u.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(i)?new qq.ImageValidation(i,qq.bind(n.log,n)).validate(a.image).then(u.success,function(e){n._itemError(e+"ImageError",r,i),u.failure()}):u.success(),u):(this._itemError("emptyError",r,i),u.failure())},_wrapCallbacks:function(){var e,t,n;e=this,t=function(t,n,i){var r;try{return n.apply(e,i)}catch(o){r=o.message||o.toString(),e.log("Caught exception in '"+t+"' callback - "+r,"error")}};for(n in this._options.callbacks)!function(){var i,r;i=n,r=e._options.callbacks[i],e._options.callbacks[i]=function(){return t(i,r,arguments)}}()}}}(),function(){"use strict";qq.FineUploaderBasic=function(e){var t=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",params:{},paramsInBody:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(){},onSubmitted:function(){},onComplete:function(){},onAllComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onUploadChunkSuccess:function(){},onResume:function(){},onProgress:function(){},onTotalProgress:function(){},onError:function(){},onAutoRetry:function(){},onManualRetry:function(){},onValidateBatch:function(){},onValidate:function(){},onSubmitDelete:function(){},onDelete:function(){},onDeleteComplete:function(){},onPasteReceived:function(){},onStatusChange:function(){},onSessionRequestComplete:function(){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:2e6,success:{endpoint:null}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(e){return e},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(e){var n=t._uploadData.retrieve({id:e});
return n&&n.size||0})),this._currentItemLimit=this._options.validation.itemLimit},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){"use strict";function t(){return qq.indexOf(["GET","POST","HEAD"],w.method)>=0}function n(){var e=!1;return qq.each(e,function(t,n){return qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],n)<0?(e=!0,!1):void 0}),e}function i(e){return w.cors.expected&&void 0===e.withCredentials}function r(){var e;return(window.XMLHttpRequest||window.ActiveXObject)&&(e=qq.createXhrInstance(),void 0===e.withCredentials&&(e=new XDomainRequest,e.onload=function(){},e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){})),e}function o(e,t){var n=b[e].xhr;return n||(n=t?t:w.cors.expected?r():qq.createXhrInstance(),b[e].xhr=n),n}function s(e){var t,n=qq.indexOf(q,e),i=w.maxConnections;delete b[e],q.splice(n,1),q.length>=i&&i>n&&(t=q[i-1],l(t))}function a(e,t){var n=o(e),r=w.method,a=t===!0;s(e),a?_(r+" request for "+e+" has failed","error"):i(n)||g(n.status)||(a=!0,_(r+" request for "+e+" has failed - response code "+n.status,"error")),w.onComplete(e,n,a)}function u(e){var t,n=b[e].additionalParams,i=w.mandatedParams;return w.paramsStore.get&&(t=w.paramsStore.get(e)),n&&qq.each(n,function(e,n){t=t||{},t[e]=n}),i&&qq.each(i,function(e,n){t=t||{},t[e]=n}),t}function l(e,t){var n,r=o(e,t),s=w.method,a=u(e),l=b[e].payload;return w.onSend(e),n=c(e,a,b[e].additionalQueryParams),i(r)?(r.onload=h(e),r.onerror=p(e)):r.onreadystatechange=d(e),f(e),r.open(s,n,!0),w.cors.expected&&w.cors.sendCredentials&&!i(r)&&(r.withCredentials=!0),m(e),_("Sending "+s+" request for "+e),l?r.send(l):y||!a?r.send():r.send(a&&w.contentType&&w.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?qq.obj2url(a,""):a&&w.contentType&&w.contentType.toLowerCase().indexOf("application/json")>=0?JSON.stringify(a):a),r}function c(e,t,n){var i=w.endpointStore.get(e),r=b[e].addToPath;return void 0!=r&&(i+="/"+r),y&&t&&(i=qq.obj2url(t,i)),n&&(i=qq.obj2url(n,i)),i}function d(e){return function(){4===o(e).readyState&&a(e)}}function f(e){var t=w.onProgress;t&&(o(e).upload.onprogress=function(n){n.lengthComputable&&t(e,n.loaded,n.total)})}function h(e){return function(){a(e)}}function p(e){return function(){a(e,!0)}}function m(e){var r=o(e),s=w.customHeaders,a=b[e].additionalHeaders||{},u=w.method,l={};i(r)||(w.acceptHeader&&r.setRequestHeader("Accept",w.acceptHeader),w.allowXRequestedWithAndCacheControl&&(w.cors.expected&&t()&&!n(s)||(r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Cache-Control","no-cache"))),!w.contentType||"POST"!==u&&"PUT"!==u||r.setRequestHeader("Content-Type",w.contentType),qq.extend(l,qq.isFunction(s)?s(e):s),qq.extend(l,a),qq.each(l,function(e,t){r.setRequestHeader(e,t)}))}function g(e){return qq.indexOf(w.successfulResponseCodes[w.method],e)>=0}function v(e,t,n,i,r,o,s){b[e]={addToPath:n,additionalParams:i,additionalQueryParams:r,additionalHeaders:o,payload:s};var a=q.push(e);return a<=w.maxConnections?l(e,t):void 0}var _,y,q=[],b={},w={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(){},onSend:function(){},onComplete:function(){},onProgress:null};if(qq.extend(w,e),_=w.log,qq.indexOf(w.validMethods,w.method)<0)throw new Error("'"+w.method+"' is not a supported method for this type of request!");y="GET"===w.method||"DELETE"===w.method,qq.extend(this,{initTransport:function(e){var t,n,i,r,o,s;return{withPath:function(e){return t=e,this},withParams:function(e){return n=e,this},withQueryParams:function(e){return s=e,this},withHeaders:function(e){return i=e,this},withPayload:function(e){return r=e,this},withCacheBuster:function(){return o=!0,this},send:function(a){return o&&qq.indexOf(["GET","DELETE"],w.method)>=0&&(n.qqtimestamp=(new Date).getTime()),v(e,a,t,n,s,i,r)}}},canceled:function(e){s(e)}})},qq.UploadHandler=function(e){"use strict";var t=e.proxy,n={},i=t.onCancel,r=t.getName;qq.extend(this,{add:function(e,t){n[e]=t,n[e].temp={}},cancel:function(e){var t=this,o=new qq.Promise,s=i(e,r(e),o);s.then(function(){t.isValid(e)&&(n[e].canceled=!0,t.expunge(e)),o.success()})},expunge:function(e){delete n[e]},getThirdPartyFileId:function(e){return n[e].key},isValid:function(e){return void 0!==n[e]},reset:function(){n={}},_getFileState:function(e){return n[e]},_setThirdPartyFileId:function(e,t){n[e].key=t},_wasCanceled:function(e){return!!n[e].canceled}})},qq.UploadHandlerController=function(e,t){"use strict";var n,i,r,o=this,s=!1,a=!1,u={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},onUploadPrep:function(){},onUpload:function(){},onUploadChunk:function(){},onUploadChunkSuccess:function(){},onAutoRetry:function(){},onResume:function(){},onUuidChanged:function(){},getName:function(){},setSize:function(){},isQueued:function(){},getIdsInProxyGroup:function(){},getIdsInBatch:function(){}},l={done:function(e,t,n,i){var o=r._getChunkData(e,t);r._getFileState(e).attemptingResume=!1,delete r._getFileState(e).temp.chunkProgress[t],r._getFileState(e).loaded+=o.size,u.onUploadChunkSuccess(e,r._getChunkDataForCallback(o),n,i)},finalize:function(e){var t=u.getSize(e),n=u.getName(e);i("All chunks have been uploaded for "+e+" - finalizing...."),r.finalizeChunks(e).then(function(o,s){i("Finalize successful for "+e);var a=f.normalizeResponse(o,!0);u.onProgress(e,n,t,t),r._maybeDeletePersistedChunkData(e),f.cleanup(e,a,s)},function(t,r){var o=f.normalizeResponse(t,!1);i("Problem finalizing chunks for file ID "+e+" - "+o.error,"error"),o.reset&&l.reset(e),u.onAutoRetry(e,n,o,r)||f.cleanup(e,o,r)})},handleFailure:function(e,t,n,o){var s=u.getName(t);i("Chunked upload request failed for "+t+", chunk "+e),r.clearCachedChunk(t,e);var d,h=f.normalizeResponse(n,!1);h.reset?l.reset(t):(d=qq.indexOf(r._getFileState(t).chunking.inProgress,e),d>=0&&(r._getFileState(t).chunking.inProgress.splice(d,1),r._getFileState(t).chunking.remaining.unshift(e))),r._getFileState(t).temp.ignoreFailure||(a&&(r._getFileState(t).temp.ignoreFailure=!0,i(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(r._getXhrs(t))),JSON.stringify(r._getFileState(t).chunking.inProgress))),qq.each(r._getXhrs(t),function(e,n){i(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",t,e,n.readyState)),n.abort(),n._cancelled=!0}),r.moveInProgressToRemaining(t),c.free(t,!0)),u.onAutoRetry(t,s,h,o)||f.cleanup(t,h,o))},hasMoreParts:function(e){return!!r._getFileState(e).chunking.remaining.length},nextPart:function(e){var t=r._getFileState(e).chunking.remaining.shift();return t>=r._getTotalChunks(e)&&(t=null),t},reset:function(e){i("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),r._maybeDeletePersistedChunkData(e),r.reevaluateChunking(e),r._getFileState(e).loaded=0},sendNext:function(e){var t=u.getSize(e),n=u.getName(e),o=l.nextPart(e),s=r._getChunkData(e,o),d=r._getFileState(e).attemptingResume,h=r._getFileState(e).chunking.inProgress||[];null==r._getFileState(e).loaded&&(r._getFileState(e).loaded=0),d&&u.onResume(e,n,s)===!1&&(l.reset(e),o=l.nextPart(e),s=r._getChunkData(e,o),d=!1),null==o&&0===h.length?l.finalize(e):(i(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",e,o,s.start+1,s.end,t)),u.onUploadChunk(e,n,r._getChunkDataForCallback(s)),h.push(o),r._getFileState(e).chunking.inProgress=h,a&&c.open(e,o),a&&c.available()&&r._getFileState(e).chunking.remaining.length&&l.sendNext(e),0===s.blob.size?(i(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",o,e),"error"),l.handleFailure(o,e,"File is no longer available",null)):r.uploadChunk(e,o,d).then(function(t,n){i("Chunked upload request succeeded for "+e+", chunk "+o),r.clearCachedChunk(e,o);var s=r._getFileState(e).chunking.inProgress||[],a=f.normalizeResponse(t,!0),u=qq.indexOf(s,o);i(qq.format("Chunk {} for file {} uploaded successfully.",o,e)),l.done(e,o,a,n),u>=0&&s.splice(u,1),r._maybePersistChunkedState(e),l.hasMoreParts(e)||0!==s.length?l.hasMoreParts(e)?l.sendNext(e):i(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",e,JSON.stringify(s))):l.finalize(e)},function(t,n){l.handleFailure(o,e,t,n)}).done(function(){r.clearXhr(e,o)}))}},c={_open:[],_openChunks:{},_waiting:[],available:function(){var e=u.maxConnections,t=0,n=0;return qq.each(c._openChunks,function(e,i){t++,n+=i.length}),e-(c._open.length-t+n)},free:function(e,t){var n,o=!t,s=qq.indexOf(c._waiting,e),a=qq.indexOf(c._open,e);delete c._openChunks[e],f.getProxyOrBlob(e)instanceof qq.BlobProxy&&(i("Generated blob upload has ended for "+e+", disposing generated blob."),delete r._getFileState(e).file),s>=0?c._waiting.splice(s,1):o&&a>=0&&(c._open.splice(a,1),n=c._waiting.shift(),n>=0&&(c._open.push(n),f.start(n)))},getWaitingOrConnected:function(){var e=[];return qq.each(c._openChunks,function(t,n){n&&n.length&&e.push(parseInt(t))}),qq.each(c._open,function(t,n){c._openChunks[n]||e.push(parseInt(n))}),e=e.concat(c._waiting)},isUsingConnection:function(e){return qq.indexOf(c._open,e)>=0},open:function(e,t){return null==t&&c._waiting.push(e),c.available()?(null==t?(c._waiting.pop(),c._open.push(e)):!function(){var n=c._openChunks[e]||[];n.push(t),c._openChunks[e]=n}(),!0):!1},reset:function(){c._waiting=[],c._open=[]}},d={send:function(e,t){r._getFileState(e).loaded=0,i("Sending simple upload request for "+e),r.uploadFile(e).then(function(n,r){i("Simple upload request succeeded for "+e);var o=f.normalizeResponse(n,!0),s=u.getSize(e);u.onProgress(e,t,s,s),f.maybeNewUuid(e,o),f.cleanup(e,o,r)},function(n,r){i("Simple upload request failed for "+e);var o=f.normalizeResponse(n,!1);u.onAutoRetry(e,t,o,r)||f.cleanup(e,o,r)})}},f={cancel:function(e){i("Cancelling "+e),u.paramsStore.remove(e),c.free(e)},cleanup:function(e,t,n){var i=u.getName(e);u.onComplete(e,i,t,n),r._getFileState(e)&&r._clearXhrs&&r._clearXhrs(e),c.free(e)},getProxyOrBlob:function(e){return r.getProxy&&r.getProxy(e)||r.getFile&&r.getFile(e)},initHandler:function(){var e=t?qq[t]:qq.traditional,n=qq.supportedFeatures.ajaxUploading?"Xhr":"Form";r=new e[n+"UploadHandler"](u,{getDataByUuid:u.getDataByUuid,getName:u.getName,getSize:u.getSize,getUuid:u.getUuid,log:i,onCancel:u.onCancel,onProgress:u.onProgress,onUuidChanged:u.onUuidChanged}),r._removeExpiredChunkingRecords&&r._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(e){return u.isQueued(e)},maybeDefer:function(e,t){return t&&!r.getFile(e)&&t instanceof qq.BlobProxy?(u.onUploadPrep(e),i("Attempting to generate a blob on-demand for "+e),t.create().then(function(t){i("Generated an on-demand blob for "+e),r.updateBlob(e,t),u.setSize(e,t.size),r.reevaluateChunking(e),f.maybeSendDeferredFiles(e)},function(t){var r={};t&&(r.error=t),i(qq.format("Failed to generate blob for ID {}.  Error message: {}.",e,t),"error"),u.onComplete(e,u.getName(e),qq.extend(r,n),null),f.maybeSendDeferredFiles(e),c.free(e)}),!1):f.maybeSendDeferredFiles(e)},maybeSendDeferredFiles:function(e){var t=u.getIdsInProxyGroup(e),n=!1;return t&&t.length?(i("Maybe ready to upload proxy group file "+e),qq.each(t,function(t,i){if(f.isDeferredEligibleForUpload(i)&&r.getFile(i))n=i===e,f.now(i);else if(f.isDeferredEligibleForUpload(i))return!1})):(n=!0,f.now(e)),n},maybeNewUuid:function(e,t){void 0!==t.newUuid&&u.onUuidChanged(e,t.newUuid)},normalizeResponse:function(e,t){var n=e;return qq.isObject(e)||(n={},qq.isString(e)&&!t&&(n.error=e)),n.success=t,n},now:function(e){var t=u.getName(e);if(!o.isValid(e))throw new qq.Error(e+" is not a valid file ID to upload!");u.onUpload(e,t),s&&r._shouldChunkThisFile(e)?l.sendNext(e):d.send(e,t)},start:function(e){var t=f.getProxyOrBlob(e);return t?f.maybeDefer(e,t):(f.now(e),!0)}};qq.extend(this,{add:function(){r.add.apply(this,arguments)},upload:function(e){return c.open(e)?f.start(e):!1},retry:function(e){return a&&(r._getFileState(e).temp.ignoreFailure=!1),c.isUsingConnection(e)?f.start(e):o.upload(e)},cancel:function(e){var t=r.cancel(e);qq.isGenericPromise(t)?t.then(function(){f.cancel(e)}):t!==!1&&f.cancel(e)},cancelAll:function(){var e,t=c.getWaitingOrConnected();if(t.length)for(e=t.length-1;e>=0;e--)o.cancel(t[e]);c.reset()},getFile:function(e){return r.getProxy&&r.getProxy(e)?r.getProxy(e).referenceBlob:r.getFile&&r.getFile(e)},isProxied:function(e){return!(!r.getProxy||!r.getProxy(e))},getInput:function(e){return r.getInput?r.getInput(e):void 0},reset:function(){i("Resetting upload handler"),o.cancelAll(),c.reset(),r.reset()},expunge:function(e){return o.isValid(e)?r.expunge(e):void 0},isValid:function(e){return r.isValid(e)},getResumableFilesData:function(){return r.getResumableFilesData?r.getResumableFilesData():[]},getThirdPartyFileId:function(e){return o.isValid(e)?r.getThirdPartyFileId(e):void 0},pause:function(e){return o.isResumable(e)&&r.pause&&o.isValid(e)&&r.pause(e)?(c.free(e),r.moveInProgressToRemaining(e),!0):!1},isResumable:function(e){return!!r.isResumable&&r.isResumable(e)}}),qq.extend(u,e),i=u.log,s=u.chunking.enabled&&qq.supportedFeatures.chunking,a=s&&u.chunking.concurrent.enabled,n=function(){var e={};return e[u.preventRetryParam]=!0,e}(),f.initHandler()},qq.WindowReceiveMessage=function(e){"use strict";var t={log:function(){}},n={};qq.extend(t,e),qq.extend(this,{receiveMessage:function(e,t){var i=function(e){t(e.data)};window.postMessage?n[e]=qq(window).attach("message",i):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){if(window.postMessage){var t=n[e];t&&t()}}})},qq.FormUploadHandler=function(e){"use strict";function t(e){delete c[e],f&&(clearTimeout(d[e]),delete d[e],g.stopReceivingMessages(e));var t=document.getElementById(s._getIframeName(e));t&&(t.setAttribute("src","javascript:false;"),qq(t).remove())}function n(e){return e.split("_")[0]}function i(e){var t=qq.toElement("<iframe src='javascript:false;' name='"+e+"' />");return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t}function r(e,t){var i=e.id,r=n(i),o=p(r);l[o]=t,c[r]=qq(e).attach("load",function(){s.getInput(r)&&(m("Received iframe load event for CORS upload request (iframe name "+i+")"),d[i]=setTimeout(function(){var e="No valid message received from loaded iframe for iframe name "+i;m(e,"error"),t({error:e})},1e3))}),g.receiveMessage(i,function(e){m("Received the following window message: '"+e+"'");var t,r=(n(i),s._parseJsonResponse(e)),o=r.uuid;o&&l[o]?(m("Handling response for iframe name "+i),clearTimeout(d[i]),delete d[i],s._detachLoadEvent(i),t=l[o],delete l[o],g.stopReceivingMessages(i),t(r)):o||m("'"+e+"' does not contain a UUID - ignoring.")})}var o=e.options,s=this,a=e.proxy,u=qq.getUniqueId(),l={},c={},d={},f=o.isCors,h=o.inputName,p=a.getUuid,m=a.log,g=new qq.WindowReceiveMessage({log:m});qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(e){return{add:function(t,n){e.add(t,{input:n}),n.setAttribute("name",h),n.parentNode&&qq(n).remove()},expunge:function(n){t(n),e.expunge(n)},isValid:function(t){return e.isValid(t)&&void 0!==s._getFileState(t).input}}}),qq.extend(this,{getInput:function(e){return s._getFileState(e).input},_attachLoadEvent:function(e,t){var n;f?r(e,t):c[e.id]=qq(e).attach("load",function(){if(m("Received response for "+e.id),e.parentNode){try{if(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML)return}catch(i){m("Error when attempting to access iframe during handling of upload response ("+i.message+")","error"),n={success:!1}}t(n)}})},_createIframe:function(e){var t=s._getIframeName(e);return i(t)},_detachLoadEvent:function(e){void 0!==c[e]&&(c[e](),delete c[e])},_getIframeName:function(e){return e+"_"+u},_initFormForUpload:function(e){var t=e.method,n=e.endpoint,i=e.params,r=e.paramsInBody,o=e.targetName,s=qq.toElement("<form method='"+t+"' enctype='multipart/form-data'></form>"),a=n;return r?qq.obj2Inputs(i,s):a=qq.obj2url(i,n),s.setAttribute("action",a),s.setAttribute("target",o),s.style.display="none",document.body.appendChild(s),s},_parseJsonResponse:function(e){var t={};try{t=qq.parseJson(e)}catch(n){m("Error when attempting to parse iframe upload response ("+n.message+")","error")}return t}})},qq.XhrUploadHandler=function(e){"use strict";function t(e){qq.each(n._getXhrs(e),function(t,i){var r=n._getAjaxRequester(e,t);i.onreadystatechange=null,i.upload.onprogress=null,i.abort(),r&&r.canceled&&r.canceled(e)})}var n=this,i=e.options.namespace,r=e.proxy,o=e.options.chunking,s=e.options.resume,a=o&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,u=s&&e.options.resume.enabled&&a&&qq.supportedFeatures.resume,l=r.getName,c=r.getSize,d=r.getUuid,f=r.getEndpoint,h=r.getDataByUuid,p=r.onUuidChanged,m=r.onProgress,g=r.log;qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(e){return{add:function(t,i){if(qq.isFile(i)||qq.isBlob(i))e.add(t,{file:i});else{if(!(i instanceof qq.BlobProxy))throw new Error("Passed obj is not a File, Blob, or proxy");e.add(t,{proxy:i})}n._initTempState(t),u&&n._maybePrepareForResume(t)},expunge:function(i){t(i),n._maybeDeletePersistedChunkData(i),n._clearXhrs(i),e.expunge(i)}}}),qq.extend(this,{clearCachedChunk:function(e,t){delete n._getFileState(e).temp.cachedChunks[t]},clearXhr:function(e,t){var i=n._getFileState(e).temp;i.xhrs&&delete i.xhrs[t],i.ajaxRequesters&&delete i.ajaxRequesters[t]},finalizeChunks:function(e,t){var i=n._getTotalChunks(e)-1,r=n._getXhr(e,i);return t?(new qq.Promise).success(t(r),r):(new qq.Promise).success({},r)},getFile:function(e){return n.isValid(e)&&n._getFileState(e).file},getProxy:function(e){return n.isValid(e)&&n._getFileState(e).proxy},getResumableFilesData:function(){var e=[];return n._iterateResumeRecords(function(t,i){n.moveInProgressToRemaining(null,i.chunking.inProgress,i.chunking.remaining);var r={name:i.name,remaining:i.chunking.remaining,size:i.size,uuid:i.uuid};i.key&&(r.key=i.key),e.push(r)}),e},isResumable:function(e){return!!o&&n.isValid(e)&&!n._getFileState(e).notResumable},moveInProgressToRemaining:function(e,t,i){var r=t||n._getFileState(e).chunking.inProgress,o=i||n._getFileState(e).chunking.remaining;r&&(g(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(r))),r.reverse(),qq.each(r,function(e,t){o.unshift(t)}),r.length=0)},pause:function(e){return n.isValid(e)?(g(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",e,l(e))),n._getFileState(e).paused=!0,t(e),!0):void 0},reevaluateChunking:function(e){if(o&&n.isValid(e)){var t,i,r=n._getFileState(e);if(delete r.chunking,r.chunking={},t=n._getTotalChunks(e),t>1||o.mandatory){for(r.chunking.enabled=!0,r.chunking.parts=t,r.chunking.remaining=[],i=0;t>i;i++)r.chunking.remaining.push(i);n._initTempState(e)}else r.chunking.enabled=!1}},updateBlob:function(e,t){n.isValid(e)&&(n._getFileState(e).file=t)},_clearXhrs:function(e){var t=n._getFileState(e).temp;qq.each(t.ajaxRequesters,function(e){delete t.ajaxRequesters[e]}),qq.each(t.xhrs,function(e){delete t.xhrs[e]})},_createXhr:function(e,t){return n._registerXhr(e,t,qq.createXhrInstance())},_getAjaxRequester:function(e,t){var i=null==t?-1:t;return n._getFileState(e).temp.ajaxRequesters[i]},_getChunkData:function(e,t){var i=o.partSize,r=c(e),s=n.getFile(e),a=i*t,u=a+i>=r?r:a+i,l=n._getTotalChunks(e),d=this._getFileState(e).temp.cachedChunks,f=d[t]||qq.sliceBlob(s,a,u);return d[t]=f,{part:t,start:a,end:u,count:l,blob:f,size:u-a}},_getChunkDataForCallback:function(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}},_getLocalStorageId:function(e){var t="5.0",n=l(e),r=c(e),s=o.partSize,a=f(e);return qq.format("qq{}resume{}-{}-{}-{}-{}",i,t,n,r,s,a)},_getMimeType:function(e){return n.getFile(e).type},_getPersistableData:function(e){return n._getFileState(e).chunking},_getTotalChunks:function(e){if(o){var t=c(e),n=o.partSize;return Math.ceil(t/n)}},_getXhr:function(e,t){var i=null==t?-1:t;return n._getFileState(e).temp.xhrs[i]},_getXhrs:function(e){return n._getFileState(e).temp.xhrs},_iterateResumeRecords:function(e){u&&qq.each(localStorage,function(t,n){if(0===t.indexOf(qq.format("qq{}resume",i))){var r=JSON.parse(n);e(t,r)}})},_initTempState:function(e){n._getFileState(e).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(e){n._getFileState(e).notResumable=!0},_maybeDeletePersistedChunkData:function(e){var t;return u&&n.isResumable(e)&&(t=n._getLocalStorageId(e),t&&localStorage.getItem(t))?(localStorage.removeItem(t),!0):!1},_maybePrepareForResume:function(e){var t,i,r=n._getFileState(e);u&&void 0===r.key&&(t=n._getLocalStorageId(e),i=localStorage.getItem(t),i&&(i=JSON.parse(i),h(i.uuid)?n._markNotResumable(e):(g(qq.format("Identified file with ID {} and name of {} as resumable.",e,l(e))),p(e,i.uuid),r.key=i.key,r.chunking=i.chunking,r.loaded=i.loaded,r.attemptingResume=!0,n.moveInProgressToRemaining(e))))},_maybePersistChunkedState:function(e){var t,i,r=n._getFileState(e);if(u&&n.isResumable(e)){t=n._getLocalStorageId(e),i={name:l(e),size:c(e),uuid:d(e),key:r.key,chunking:r.chunking,loaded:r.loaded,lastUpdated:Date.now()};try{localStorage.setItem(t,JSON.stringify(i))}catch(o){g(qq.format("Unable to save resume data for '{}' due to error: '{}'.",e,o.toString()),"warn")}}},_registerProgressHandler:function(e,t,i){var r=n._getXhr(e,t),o=l(e),s={simple:function(t,n){var i=c(e);t===n?m(e,o,i,i):m(e,o,t>=i?i-1:t,i)},chunked:function(r,s){var a=n._getFileState(e).temp.chunkProgress,u=n._getFileState(e).loaded,l=r,d=s,f=c(e),h=l-(d-i),p=u;a[t]=h,qq.each(a,function(e,t){p+=t}),m(e,o,p,f)}};r.upload.onprogress=function(e){if(e.lengthComputable){var t=null==i?"simple":"chunked";s[t](e.loaded,e.total)}}},_registerXhr:function(e,t,i,r){var o=null==t?-1:t,s=n._getFileState(e).temp;return s.xhrs=s.xhrs||{},s.ajaxRequesters=s.ajaxRequesters||{},s.xhrs[o]=i,r&&(s.ajaxRequesters[o]=r),i},_removeExpiredChunkingRecords:function(){var e=s.recordsExpireIn;n._iterateResumeRecords(function(t,n){var i=new Date(n.lastUpdated);i.setDate(i.getDate()+e),i.getTime()<=Date.now()&&(g("Removing expired resume record with key "+t),localStorage.removeItem(t))})},_shouldChunkThisFile:function(e){var t=n._getFileState(e);return t.chunking||n.reevaluateChunking(e),t.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){"use strict";function t(){return"POST"===i.method.toUpperCase()?{_method:"DELETE"}:{}}var n,i={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(){},onDelete:function(){},onDeleteComplete:function(){}};qq.extend(i,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:i.method,endpointStore:i.endpointStore,paramsStore:i.paramsStore,mandatedParams:t(),maxConnections:i.maxConnections,customHeaders:function(e){return i.customHeaders.get(e)},log:i.log,onSend:i.onDelete,onComplete:i.onDeleteComplete,cors:i.cors})),qq.extend(this,{sendDelete:function(e,t,r){var o=r||{};i.log("Submitting delete file request for "+e),"DELETE"===i.method?n.initTransport(e).withPath(t).withParams(o).send():(o[i.uuidParamName]=t,n.initTransport(e).withParams(o).send())}})},function(){function e(e){var t,n=e.naturalWidth,i=e.naturalHeight,r=document.createElement("canvas");return n*i>1048576?(r.width=r.height=1,t=r.getContext("2d"),t.drawImage(e,-n+1,0),0===t.getImageData(0,0,1,1).data[3]):!1}function t(e,t,n){var i,r,o,s,a=document.createElement("canvas"),u=0,l=n,c=n;for(a.width=1,a.height=n,i=a.getContext("2d"),i.drawImage(e,0,0),r=i.getImageData(0,0,1,n).data;c>u;)o=r[4*(c-1)+3],0===o?l=c:u=c,c=l+u>>1;return s=c/n,0===s?1:s}function n(e,t,n,i){var o=document.createElement("canvas"),s=n.mime||"image/jpeg",a=new qq.Promise;return r(e,t,o,n,i).then(function(){a.success(o.toDataURL(s,n.quality||.8))}),a}function i(e){var t=5241e3;if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");return e.origHeight*e.origWidth>t?{newHeight:Math.round(Math.sqrt(t*(e.origHeight/e.origWidth))),newWidth:Math.round(Math.sqrt(t*(e.origWidth/e.origHeight)))}:void 0}function r(n,r,a,u,l){var c,d=n.naturalWidth,f=n.naturalHeight,h=u.width,p=u.height,m=a.getContext("2d"),g=new qq.Promise;return m.save(),u.resize?o({blob:r,canvas:a,image:n,imageHeight:f,imageWidth:d,orientation:u.orientation,resize:u.resize,targetHeight:p,targetWidth:h}):(qq.supportedFeatures.unlimitedScaledImageSize||(c=i({origWidth:h,origHeight:p}),c&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",h,p,c.newWidth,c.newHeight),"warn"),h=c.newWidth,p=c.newHeight)),s(a,h,p,u.orientation),qq.ios()?!function(){e(n)&&(d/=2,f/=2);var i,r,o,s=1024,a=document.createElement("canvas"),u=l?t(n,d,f):1,c=Math.ceil(s*h/d),g=Math.ceil(s*p/f/u),v=0,_=0;for(a.width=a.height=s,i=a.getContext("2d");f>v;){for(r=0,o=0;d>r;)i.clearRect(0,0,s,s),i.drawImage(n,-r,-v),m.drawImage(a,0,0,s,s,o,_,c,g),r+=s,o+=c;v+=s,_+=g}m.restore(),a=i=null}():m.drawImage(n,0,0,h,p),a.qqImageRendered&&a.qqImageRendered(),g.success(),g)}function o(e){var t=e.blob,n=e.image,i=e.imageHeight,r=e.imageWidth,o=e.orientation,a=new qq.Promise,u=e.resize,l=document.createElement("canvas"),c=l.getContext("2d"),d=e.canvas,f=e.targetHeight,h=e.targetWidth;return s(l,r,i,o),d.height=f,d.width=h,c.drawImage(n,0,0),u({blob:t,height:f,image:n,sourceCanvas:l,targetCanvas:d,width:h}).then(function(){d.qqImageRendered&&d.qqImageRendered(),a.success()},a.failure),a}function s(e,t,n,i){switch(i){case 5:case 6:case 7:case 8:e.width=n,e.height=t;break;default:e.width=t,e.height=n}var r=e.getContext("2d");switch(i){case 2:r.translate(t,0),r.scale(-1,1);break;case 3:r.translate(t,n),r.rotate(Math.PI);break;case 4:r.translate(0,n),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-n);break;case 7:r.rotate(.5*Math.PI),r.translate(t,-n),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-t,0)}}function a(e,t){var n=this;window.Blob&&e instanceof Blob&&!function(){var t=new Image,i=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!i)throw Error("No createObjectURL function found to create blob url");t.src=i.createObjectURL(e),n.blob=e,e=t}(),e.naturalWidth||e.naturalHeight||(e.onload=function(){var e=n.imageLoadListeners;e&&(n.imageLoadListeners=null,setTimeout(function(){for(var t=0,n=e.length;n>t;t++)e[t]()},0))},e.onerror=t,this.imageLoadListeners=[]),this.srcImage=e}a.prototype.render=function(e,t){t=t||{};var i,o=this,s=this.srcImage.naturalWidth,a=this.srcImage.naturalHeight,u=t.width,l=t.height,c=t.maxWidth,d=t.maxHeight,f=!this.blob||"image/jpeg"===this.blob.type,h=e.tagName.toLowerCase();return this.imageLoadListeners?void this.imageLoadListeners.push(function(){o.render(e,t)}):(u&&!l?l=a*u/s<<0:l&&!u?u=s*l/a<<0:(u=s,l=a),c&&u>c&&(u=c,l=a*u/s<<0),d&&l>d&&(l=d,u=s*l/a<<0),i={width:u,height:l},qq.each(t,function(e,t){i[e]=t}),"img"===h?!function(){var t=e.src;n(o.srcImage,o.blob,i,f).then(function(n){e.src=n,t===e.src&&e.onload()})}():"canvas"===h&&r(this.srcImage,this.blob,e,i,f),void("function"==typeof this.onrender&&this.onrender(e)))},qq.MegaPixImage=a}(),qq.ImageGenerator=function(e){"use strict";function t(e){return"img"===e.tagName.toLowerCase()}function n(e){return"canvas"===e.tagName.toLowerCase()}function i(){return void 0!==(new Image).crossOrigin}function r(){var e=document.createElement("canvas");return e.getContext&&e.getContext("2d")}function o(e){var t=e.split("/"),n=t[t.length-1].split("?")[0],i=qq.getExtension(n);switch(i=i&&i.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function s(e){var t,n,i,r=document.createElement("a");return r.href=e,t=r.protocol,i=r.port,n=r.hostname,t.toLowerCase()!==window.location.protocol.toLowerCase()?!0:n.toLowerCase()!==window.location.hostname.toLowerCase()?!0:i===window.location.port||qq.ie()?!1:!0}function a(t,n){t.onload=function(){t.onload=null,t.onerror=null,n.success(t)},t.onerror=function(){t.onload=null,t.onerror=null,e("Problem drawing thumbnail!","error"),n.failure(t,"Problem drawing thumbnail!")}}function u(e,t){e.qqImageRendered=function(){t.success(e)}}function l(i,r){var o=t(i)||n(i);return t(i)?a(i,r):n(i)?u(i,r):(r.failure(i),e(qq.format("Element container of type {} is not supported!",i.tagName),"error")),o}function c(t,n,i){var r=new qq.Promise,o=new qq.Identify(t,e),s=i.maxSize,a=null==i.orient?!0:i.orient,u=function(){n.onerror=null,n.onload=null,e("Could not render preview, file may be too large!","error"),r.failure(n,"Browser cannot render image!")};return o.isPreviewable().then(function(o){var c={parse:function(){return(new qq.Promise).success()}},d=a?new qq.Exif(t,e):c,f=new qq.MegaPixImage(t,u);l(n,r)&&d.parse().then(function(e){var t=e&&e.Orientation;f.render(n,{maxWidth:s,maxHeight:s,orientation:t,mime:o,resize:i.customResizeFunction})},function(t){e(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",t)),f.render(n,{maxWidth:s,maxHeight:s,mime:o,resize:i.customResizeFunction})})},function(){e("Not previewable"),r.failure(n,"Not previewable")}),r}function d(e,t,n,i,r){var a=new Image,u=new qq.Promise;l(a,u),s(e)&&(a.crossOrigin="anonymous"),a.src=e,u.then(function(){l(t,n);var s=new qq.MegaPixImage(a);s.render(t,{maxWidth:i,maxHeight:i,mime:o(e),resize:r})},n.failure)}function f(e,t,n,i){l(t,n),qq(t).css({maxWidth:i+"px",maxHeight:i+"px"}),t.src=e}function h(e,o,a){var u=new qq.Promise,c=a.scale,h=c?a.maxSize:null;return c&&t(o)?r()?s(e)&&!i()?f(e,o,u,h):d(e,o,u,h):f(e,o,u,h):n(o)?d(e,o,u,h):l(o,u)&&(o.src=e),u}qq.extend(this,{generate:function(t,n,i){return qq.isString(t)?(e("Attempting to update thumbnail based on server response."),h(t,n,i||{})):(e("Attempting to draw client-side image preview."),c(t,n,i||{}))}}),this._testing={},this._testing.isImg=t,this._testing.isCanvas=n,this._testing.isCrossOrigin=s,this._testing.determineMimeOfFileName=o},qq.Exif=function(e,t){"use strict";function n(e){for(var t=0,n=0;e.length>0;)t+=parseInt(e.substring(0,2),16)*Math.pow(2,n),e=e.substring(2,e.length),n+=8;return t}function i(t,n){var r=t,o=n;return void 0===r&&(r=2,o=new qq.Promise),qq.readBlobToHex(e,r,4).then(function(e){var t,n=/^ffe([0-9])/.exec(e);n?"1"!==n[1]?(t=parseInt(e.slice(4,8),16),i(r+t+2,o)):o.success(r):o.failure("No EXIF header to be found!")}),o}function r(){var t=new qq.Promise;return qq.readBlobToHex(e,0,6).then(function(e){0!==e.indexOf("ffd8")?t.failure("Not a valid JPEG!"):i().then(function(e){t.success(e)},function(e){t.failure(e)})}),t}function o(t){var n=new qq.Promise;return qq.readBlobToHex(e,t+10,2).then(function(e){n.success("4949"===e)}),n}function s(t,i){var r=new qq.Promise;return qq.readBlobToHex(e,t+18,2).then(function(e){return i?r.success(n(e)):void r.success(parseInt(e,16))}),r}function a(t,n){var i=t+20,r=12*n;return qq.readBlobToHex(e,i,r)}function u(e){for(var t=[],n=0;n+24<=e.length;)t.push(e.slice(n,n+24)),n+=24;return t}function l(e,t){var i=16,r=qq.extend([],c),o={};return qq.each(t,function(t,s){var a,u,l,c=s.slice(0,4),f=e?n(c):parseInt(c,16),h=r.indexOf(f);return h>=0&&(u=d[f].name,l=d[f].bytes,a=s.slice(i,i+2*l),o[u]=e?n(a):parseInt(a,16),r.splice(h,1)),0===r.length?!1:void 0}),o}var c=[274],d={274:{name:"Orientation",bytes:2}};qq.extend(this,{parse:function(){var n=new qq.Promise,i=function(e){t(qq.format("EXIF header parse failed: '{}' ",e)),n.failure(e)};return r().then(function(r){t(qq.format("Moving forward with EXIF header parsing for '{}'",void 0===e.name?"blob":e.name)),o(r).then(function(e){t(qq.format("EXIF Byte order is {} endian",e?"little":"big")),s(r,e).then(function(o){t(qq.format("Found {} APP1 directory entries",o)),a(r,o).then(function(i){var r=u(i),o=l(e,r);t("Successfully parsed some EXIF tags"),n.success(o)},i)},i)},i)},i),n}}),this._testing={},this._testing.parseLittleEndian=n
},qq.Identify=function(e,t){"use strict";function n(e,t){var n=!1,i=[].concat(e);return qq.each(i,function(e,i){return 0===t.indexOf(i)?(n=!0,!1):void 0}),n}qq.extend(this,{isPreviewable:function(){var i=this,r=new qq.Promise,o=!1,s=void 0===e.name?"blob":e.name;return t(qq.format("Attempting to determine if {} can be rendered in this browser",s)),t("First pass: check type attribute of blob object."),this.isPreviewableSync()?(t("Second pass: check for magic bytes in file header."),qq.readBlobToHex(e,0,4).then(function(e){qq.each(i.PREVIEWABLE_MIME_TYPES,function(t,i){return n(i,e)?(("image/tiff"!==t||qq.supportedFeatures.tiffPreviews)&&(o=!0,r.success(t)),!1):void 0}),t(qq.format("'{}' is {} able to be rendered in this browser",s,o?"":"NOT")),o||r.failure()},function(){t("Error reading file w/ name '"+s+"'.  Not able to be rendered in this browser."),r.failure()})):r.failure(),r},isPreviewableSync:function(){var n=e.type,i=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),n)>=0,r=!1,o=void 0===e.name?"blob":e.name;return i&&(r="image/tiff"===n?qq.supportedFeatures.tiffPreviews:!0),!r&&t(o+" is not previewable in this browser per the blob's type attr"),r}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(e,t){"use strict";function n(e){var t=!1;return qq.each(e,function(e,n){return n>0?(t=!0,!1):void 0}),t}function i(){var n=new qq.Promise;return new qq.Identify(e,t).isPreviewable().then(function(){var i=new Image,r=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;r?(i.onerror=function(){t("Cannot determine dimensions for image.  May be too large.","error"),n.failure()},i.onload=function(){n.success({width:this.width,height:this.height})},i.src=r.createObjectURL(e)):(t("No createObjectURL function available to generate image URL!","error"),n.failure())},n.failure),n}function r(e,t){var n;return qq.each(e,function(e,i){if(i>0){var r=/(max|min)(Width|Height)/.exec(e),o=r[2].charAt(0).toLowerCase()+r[2].slice(1),s=t[o];switch(r[1]){case"min":if(i>s)return n=e,!1;break;case"max":if(s>i)return n=e,!1}}}),n}this.validate=function(e){var o=new qq.Promise;return t("Attempting to validate image."),n(e)?i().then(function(t){var n=r(e,t);n?o.failure(n):o.success()},o.success):o.success(),o}},qq.Session=function(e){"use strict";function t(e){return qq.isArray(e)?!0:void i.log("Session response is not an array.","error")}function n(e,n,r,o){var s=!1;n=n&&t(e),n&&qq.each(e,function(e,t){if(null==t.uuid)s=!0,i.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",e),"error");else if(null==t.name)s=!0,i.log(qq.format("Session response item {} did not include a valid name - ignoring.",e),"error");else try{return i.addFileRecord(t),!0}catch(n){s=!0,i.log(n.message,"error")}return!1}),o[n&&!s?"success":"failure"](e,r)}var i={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(){},log:function(){}};qq.extend(i,e,!0),this.refresh=function(){var e=new qq.Promise,t=function(t,i,r){n(t,i,r,e)},r=qq.extend({},i),o=new qq.SessionAjaxRequester(qq.extend(r,{onComplete:t}));return o.queryServer(),e}},qq.SessionAjaxRequester=function(e){"use strict";function t(e,t,n){var r=null;if(null!=t.responseText)try{r=qq.parseJson(t.responseText)}catch(o){i.log("Problem parsing session response: "+o.message,"error"),n=!0}i.onComplete(r,!n,t)}var n,i={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(){},log:function(){}};qq.extend(i,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return i.endpoint}},customHeaders:i.customHeaders,log:i.log,onComplete:t,cors:i.cors})),qq.extend(this,{queryServer:function(){var e=qq.extend({},i.params);i.log("Session query request."),n.initTransport("sessionRefresh").withParams(e).withCacheBuster().send()}})},qq.Scaler=function(e,t){"use strict";var n=e.customResizer,i=e.sendOriginal,r=e.orient,o=e.defaultType,s=e.defaultQuality/100,a=e.failureText,u=e.includeExif,l=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&l.length>0,getFileRecords:function(e,c,d){var f=this,h=[],p=d.blob?d.blob:d,m=new qq.Identify(p,t);return m.isPreviewableSync()?(qq.each(l,function(e,i){var l=f._determineOutputType({defaultType:o,requestedType:i.type,refType:p.type});h.push({uuid:qq.getUniqueId(),name:f._getName(c,{name:i.name,type:l,refType:p.type}),blob:new qq.BlobProxy(p,qq.bind(f._generateScaledImage,f,{customResizeFunction:n,maxSize:i.maxSize,orient:r,type:l,quality:s,failedText:a,includeExif:u,log:t}))})}),h.push({uuid:e,name:c,size:p.size,blob:i?p:null})):h.push({uuid:e,name:c,size:p.size,blob:p}),h},handleNewFile:function(e,t,n,i,r,o,s,a){var u=this,l=(e.qqButtonId||e.blob&&e.blob.qqButtonId,[]),c=null,d=a.addFileToHandler,f=a.uploadData,h=a.paramsStore,p=qq.getUniqueId();qq.each(u.getFileRecords(n,t,e),function(e,t){var n,i=t.size;t.blob instanceof qq.BlobProxy&&(i=-1),n=f.addFile({uuid:t.uuid,name:t.name,size:i,batchId:o,proxyGroupId:p}),t.blob instanceof qq.BlobProxy?l.push(n):c=n,t.blob?(d(n,t.blob),r.push({id:n,file:t.blob})):f.setStatus(n,qq.status.REJECTED)}),null!==c&&(qq.each(l,function(e,t){var n={qqparentuuid:f.retrieve({id:c}).uuid,qqparentsize:f.retrieve({id:c}).size};n[s]=f.retrieve({id:t}).uuid,f.setParentId(t,c),h.addReadOnly(t,n)}),l.length&&!function(){var e={};e[s]=f.retrieve({id:c}).uuid,h.addReadOnly(c,e)}())}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(e,t,n){"use strict";if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var i=new qq.Promise,r=n.log,o=n.getFile(e),s=n.uploadData.retrieve({id:e}),a=s&&s.name,u=s&&s.uuid,l={customResizer:t.customResizer,sendOriginal:!1,orient:t.orient,defaultType:t.type||null,defaultQuality:t.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:t.maxSize}]},c=new qq.Scaler(l,r);return qq.Scaler&&qq.supportedFeatures.imagePreviews&&o?qq.bind(function(){var t=c.getFileRecords(u,a,o)[0];t&&t.blob instanceof qq.BlobProxy?t.blob.create().then(i.success,i.failure):(r(e+" is not a scalable image!","error"),i.failure())},this)():(i.failure(),r("Could not generate requested scaled image for "+e+".  Scaling is either not possible in this browser, or the file could not be located.","error")),i},_determineOutputType:function(e){"use strict";var t=e.requestedType,n=e.defaultType,i=e.refType;return n||t?t&&qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)>=0?"image/tiff"===t?qq.supportedFeatures.tiffPreviews?t:n:t:n:"image/jpeg"!==i?"image/png":i},_getName:function(e,t){"use strict";var n=e.lastIndexOf("."),i=t.type||"image/png",r=t.refType,o="",s=qq.getExtension(e),a="";return t.name&&t.name.trim().length&&(a=" ("+t.name+")"),n>=0?(o=e.substr(0,n),r!==i&&(s=i.split("/")[1]),o+=a+"."+s):o=e+a,o},_getSortedSizes:function(e){"use strict";return e=qq.extend([],e),e.sort(function(e,t){return e.maxSize>t.maxSize?1:e.maxSize<t.maxSize?-1:0})},_generateScaledImage:function(e,t){"use strict";var n=this,i=e.customResizeFunction,r=e.log,o=e.maxSize,s=e.orient,a=e.type,u=e.quality,l=e.failedText,c=e.includeExif&&"image/jpeg"===t.type&&"image/jpeg"===a,d=new qq.Promise,f=new qq.ImageGenerator(r),h=document.createElement("canvas");return r("Attempting to generate scaled version for "+t.name),f.generate(t,h,{maxSize:o,orient:s,customResizeFunction:i}).then(function(){var e=h.toDataURL(a,u),i=function(){r("Success generating scaled version for "+t.name);var n=qq.dataUriToBlob(e);d.success(n)};c?n._insertExifHeader(t,e,r).then(function(t){e=t,i()},function(){r("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),i()}):i()},function(){r("Failed attempt to generate scaled version for "+t.name,"error"),d.failure(l)}),d},_insertExifHeader:function(e,t,n){"use strict";var i=new FileReader,r=new qq.Promise,o="";return i.onload=function(){o=i.result,r.success(qq.ExifRestorer.restore(o,t))},i.onerror=function(){n("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),r.failure()},i.readAsDataURL(e),r},_dataUriToBlob:function(e){"use strict";var t,n,i,r;return t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),qq.each(t,function(e,t){r[e]=t.charCodeAt(0)}),this._createBlob(i,n)},_createBlob:function(e,t){"use strict";var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=n&&new n;return i?(i.append(e),i.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=function(){var e={};return e.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.encode64=function(e){var t,n,i,r,o,s="",a="",u="",l=0;do t=e[l++],n=e[l++],a=e[l++],i=t>>2,r=(3&t)<<4|n>>4,o=(15&n)<<2|a>>6,u=63&a,isNaN(n)?o=u=64:isNaN(a)&&(u=64),s=s+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(u),t=n=a="",i=r=o=u="";while(l<e.length);return s},e.restore=function(e,t){var n="data:image/jpeg;base64,";if(!e.match(n))return t;var i=this.decode64(e.replace(n,"")),r=this.slice2Segments(i),o=this.exifManipulation(t,r);return n+this.encode64(o)},e.exifManipulation=function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n),r=new Uint8Array(i);return r},e.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255==t[0]&225==t[1])return t;return[]},e.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),s=i.slice(r),a=o;return a=a.concat(t),a=a.concat(s)},e.slice2Segments=function(e){for(var t=0,n=[];;){if(255==e[t]&218==e[t+1])break;if(255==e[t]&216==e[t+1])t+=2;else{var i=256*e[t+2]+e[t+3],r=t+i+2,o=e.slice(t,r);n.push(o),t=r}if(t>e.length)break}return n},e.decode64=function(e){var t,n,i,r,o,s="",a="",u=0,l=[],c=/[^A-Za-z0-9\+\/\=]/g;if(c.exec(e))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do i=this.KEY_STR.indexOf(e.charAt(u++)),r=this.KEY_STR.indexOf(e.charAt(u++)),o=this.KEY_STR.indexOf(e.charAt(u++)),a=this.KEY_STR.indexOf(e.charAt(u++)),t=i<<2|r>>4,n=(15&r)<<4|o>>2,s=(3&o)<<6|a,l.push(t),64!=o&&l.push(n),64!=a&&l.push(s),t=n=s="",i=r=o=a="";while(u<e.length);return l},e}(),qq.TotalProgress=function(e,t){"use strict";var n={},i=0,r=0,o=-1,s=-1,a=function(t,n){(t!==o||n!==s)&&e(t,n),o=t,s=n},u=function(e,t){var n=!0;return qq.each(e,function(e,i){return qq.indexOf(t,i)>=0?(n=!1,!1):void 0}),n},l=function(e){f(e,-1,-1),delete n[e]},c=function(e,t,n){(0===t.length||u(t,n))&&(a(r,r),this.reset())},d=function(e){var i=t(e);i>0&&(f(e,0,i),n[e]={loaded:0,total:i})},f=function(e,t,o){var s=n[e]?n[e].loaded:0,u=n[e]?n[e].total:0;-1===t&&-1===o?(i-=s,r-=u):(t&&(i+=t-s),o&&(r+=o-u)),a(i,r)};qq.extend(this,{onAllComplete:c,onStatusChange:function(e,t,n){n===qq.status.CANCELED||n===qq.status.REJECTED?l(e):n===qq.status.SUBMITTING&&d(e)},onIndividualProgress:function(e,t,i){f(e,t,i),n[e]={loaded:t,total:i}},onNewSize:function(e){d(e)},reset:function(){n={},i=0,r=0}})},qq.PasteSupport=function(e){"use strict";function t(e){return e.type&&0===e.type.indexOf("image/")}function n(){o=qq(r.targetElement).attach("paste",function(e){var n=e.clipboardData;n&&qq.each(n.items,function(e,n){if(t(n)){var i=n.getAsFile();r.callbacks.pasteReceived(i)}})})}function i(){o&&o()}var r,o;r={targetElement:null,callbacks:{log:function(){},pasteReceived:function(){}}},qq.extend(r,e),n(),qq.extend(this,{reset:function(){i()}})},qq.FormSupport=function(e,t,n){"use strict";function i(e){e.getAttribute("action")&&(a.newEndpoint=e.getAttribute("action"))}function r(e,t){return!e.checkValidity||e.checkValidity()?!0:(n("Form did not pass validation checks - will not upload.","error"),void t())}function o(e){var n=e.submit;qq(e).attach("submit",function(i){i=i||window.event,i.preventDefault?i.preventDefault():i.returnValue=!1,r(e,n)&&t()}),e.submit=function(){r(e,n)&&t()}}function s(e){return e&&(qq.isString(e)&&(e=document.getElementById(e)),e&&(n("Attaching to form element."),i(e),u&&o(e))),e}var a=this,u=e.interceptSubmit,l=e.element,c=e.autoUpload;qq.extend(this,{newEndpoint:null,newAutoUpload:c,attachedToForm:!1,getFormInputsAsObject:function(){return null==l?null:a._form2Obj(l)}}),l=s(l),this.attachedToForm=!!l},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){"use strict";var t={},n=function(e){var t=["button","image","reset","submit"];return qq.indexOf(t,e.toLowerCase())<0},i=function(e){return qq.indexOf(["checkbox","radio"],e.toLowerCase())>=0},r=function(e){return i(e.type)&&!e.checked?!0:e.disabled&&"hidden"!==e.type.toLowerCase()},o=function(e){var t=null;return qq.each(qq(e).children(),function(e,n){return"option"===n.tagName.toLowerCase()&&n.selected?(t=n.value,!1):void 0}),t};return qq.each(e.elements,function(e,i){if(!qq.isInput(i,!0)&&"textarea"!==i.tagName.toLowerCase()||!n(i.type)||r(i)){if("select"===i.tagName.toLowerCase()&&!r(i)){var s=o(i);null!==s&&(t[i.name]=s)}}else t[i.name]=i.value}),t}}),qq.CryptoJS=function(e,t){var n={},i=n.lib={},r=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=r.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;r>o;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=s<<24-(i+o)%4*8}else if(n.length>65535)for(var o=0;r>o;o+=4)t[i+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;t>i;i+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),s=n.enc={},a=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;n>r;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;t>i;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new o.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;n>r;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;t>i;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new o.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},c=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,s=this.blockSize,a=4*s,u=r/a;u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var l=u*s,c=e.min(4*l,r);if(l){for(var d=0;l>d;d+=s)this._doProcessBlock(i,d);var f=i.splice(0,l);n.sigBytes-=c}return new o.init(f,c)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(i.Hasher=c.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math),function(){{var e=qq.CryptoJS,t=e.lib,n=t.WordArray,i=e.enc;i.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],o=0;n>o;o+=3)for(var s=t[o>>>2]>>>24-o%4*8&255,a=t[o+1>>>2]>>>24-(o+1)%4*8&255,u=t[o+2>>>2]>>>24-(o+2)%4*8&255,l=s<<16|a<<8|u,c=0;4>c&&n>o+.75*c;c++)r.push(i.charAt(l>>>6*(3-c)&63));var d=i.charAt(64);if(d)for(;r.length%4;)r.push(d);return r.join("")},parse:function(e){var t=e.length,i=this._map,r=i.charAt(64);if(r){var o=e.indexOf(r);-1!=o&&(t=o)}for(var s=[],a=0,u=0;t>u;u++)if(u%4){var l=i.indexOf(e.charAt(u-1))<<u%4*2,c=i.indexOf(e.charAt(u))>>>6-u%4*2;s[a>>>2]|=(l|c)<<24-a%4*8,a++}return n.create(s,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}}(),function(){{var e=qq.CryptoJS,t=e.lib,n=t.Base,i=e.enc,r=i.Utf8,o=e.algo;o.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,u=s.words,l=0;n>l;l++)a[l]^=1549556828,u[l]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var i=t.finalize(this._oKey.clone().concat(n));return i}})}}(),function(){var e=qq.CryptoJS,t=e.lib,n=t.WordArray,i=t.Hasher,r=e.algo,o=[],s=r.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],s=n[2],a=n[3],u=n[4],l=0;80>l;l++){if(16>l)o[l]=0|e[t+l];else{var c=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=c<<1|c>>>31}var d=(i<<5|i>>>27)+u+o[l];d+=20>l?(r&s|~r&a)+1518500249:40>l?(r^s^a)+1859775393:60>l?(r&s|r&a|s&a)-1894007588:(r^s^a)-899497514,u=a,a=s,s=r<<30|r>>>2,r=i,i=d}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[(i+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(i+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s)}(),function(e){var t=qq.CryptoJS,n=t.lib,i=n.WordArray,r=n.Hasher,o=t.algo,s=[],a=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;n>=i;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;64>r;)t(i)&&(8>r&&(s[r]=n(e.pow(i,.5))),a[r]=n(e.pow(i,1/3)),r++),i++}();var u=[],l=o.SHA256=r.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],l=n[4],c=n[5],d=n[6],f=n[7],h=0;64>h;h++){if(16>h)u[h]=0|e[t+h];else{var p=u[h-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[h-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[h]=m+u[h-7]+v+u[h-16]}var _=l&c^~l&d,y=i&r^i&o^r&o,q=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),w=f+b+_+a[h]+u[h],S=q+y;f=d,d=c,c=l,l=s+w|0,s=o,o=r,r=i,i=w+S|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0,n[5]=n[5]+c|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[(r+64>>>9<<4)+14]=e.floor(i/4294967296),n[(r+64>>>9<<4)+15]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=r._createHelper(l),t.HmacSHA256=r._createHmacHelper(l)}(Math),function(){if("function"==typeof ArrayBuffer){var e=qq.CryptoJS,t=e.lib,n=t.WordArray,i=n.init,r=n.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],r=0;t>r;r++)n[r>>>2]|=e[r]<<24-r%4*8;i.call(this,n,t)}else i.apply(this,arguments)};r.prototype=n}}(),qq.s3=qq.s3||{},qq.s3.util=qq.s3.util||function(){"use strict";return{ALGORITHM_PARAM_NAME:"x-amz-algorithm",AWS_PARAM_PREFIX:"x-amz-meta-",CREDENTIAL_PARAM_NAME:"x-amz-credential",DATE_PARAM_NAME:"x-amz-date",REDUCED_REDUNDANCY_PARAM_NAME:"x-amz-storage-class",REDUCED_REDUNDANCY_PARAM_VALUE:"REDUCED_REDUNDANCY",SERVER_SIDE_ENCRYPTION_PARAM_NAME:"x-amz-server-side-encryption",SERVER_SIDE_ENCRYPTION_PARAM_VALUE:"AES256",SESSION_TOKEN_PARAM_NAME:"x-amz-security-token",V4_ALGORITHM_PARAM_VALUE:"AWS4-HMAC-SHA256",V4_SIGNATURE_PARAM_NAME:"x-amz-signature",CASE_SENSITIVE_PARAM_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNSIGNABLE_REST_HEADER_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNPREFIXED_PARAM_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5","x-amz-server-side-encryption-customer-algorithm","x-amz-server-side-encryption-customer-key","x-amz-server-side-encryption-customer-key-MD5"],getBucket:function(e){var t,n=[/^(?:https?:\/\/)?([a-z0-9.\-_]+)\.s3(?:-[a-z0-9\-]+)?\.amazonaws\.com/i,/^(?:https?:\/\/)?s3(?:-[a-z0-9\-]+)?\.amazonaws\.com\/([a-z0-9.\-_]+)/i,/^(?:https?:\/\/)?([a-z0-9.\-_]+)/i];return qq.each(n,function(n,i){var r=i.exec(e);return r?(t=r[1],!1):void 0}),t},_getPrefixedParamName:function(e){return qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,e)>=0?e:qq.s3.util.AWS_PARAM_PREFIX+e},getPolicy:function(e){var t={},n=[],i=e.bucket,r=e.date,o=e.clockDrift,s=e.key,a=e.accessKey,u=e.acl,l=e.type,c=e.expectedStatus,d=e.sessionToken,f=e.params,h=qq.s3.util.getSuccessRedirectAbsoluteUrl(e.successRedirectUrl),p=e.minFileSize,m=e.maxFileSize,g=e.reducedRedundancy,v=e.region,_=e.serverSideEncryption,y=e.signatureVersion;return t.expiration=qq.s3.util.getPolicyExpirationDate(r,o),n.push({acl:u}),n.push({bucket:i}),l&&n.push({"Content-Type":l}),c&&n.push({success_action_status:c.toString()}),h&&n.push({success_action_redirect:h}),g&&(n.push({}),n[n.length-1][qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),d&&(n.push({}),n[n.length-1][qq.s3.util.SESSION_TOKEN_PARAM_NAME]=d),_&&(n.push({}),n[n.length-1][qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),2===y?n.push({key:s}):4===y&&(n.push({}),n[n.length-1][qq.s3.util.ALGORITHM_PARAM_NAME]=qq.s3.util.V4_ALGORITHM_PARAM_VALUE,n.push({}),n[n.length-1].key=s,n.push({}),n[n.length-1][qq.s3.util.CREDENTIAL_PARAM_NAME]=qq.s3.util.getV4CredentialsString({date:r,key:a,region:v}),n.push({}),n[n.length-1][qq.s3.util.DATE_PARAM_NAME]=qq.s3.util.getV4PolicyDate(r,o)),qq.each(f,function(e,t){var i=qq.s3.util._getPrefixedParamName(e),r={};r[i]=qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,i)>=0?t:encodeURIComponent(t),n.push(r)}),t.conditions=n,qq.s3.util.enforceSizeLimits(t,p,m),t},refreshPolicyCredentials:function(e,t){var n=!1;qq.each(e.conditions,function(e,i){qq.each(i,function(e){e===qq.s3.util.SESSION_TOKEN_PARAM_NAME&&(i[e]=t,n=!0)})}),n||(e.conditions.push({}),e.conditions[e.conditions.length-1][qq.s3.util.SESSION_TOKEN_PARAM_NAME]=t)},generateAwsParams:function(e,t){var n,i={},r=e.params,o=new qq.Promise,s=e.sessionToken,a=e.clockDrift,u=e.type,l=e.key,c=e.accessKey,d=e.acl,f=e.expectedStatus,h=qq.s3.util.getSuccessRedirectAbsoluteUrl(e.successRedirectUrl),p=e.reducedRedundancy,m=e.region,g=e.serverSideEncryption,v=e.signatureVersion,_=new Date,y=e.log;return e.date=_,n=qq.s3.util.getPolicy(e),i.key=l,u&&(i["Content-Type"]=u),f&&(i.success_action_status=f),h&&(i.success_action_redirect=h),p&&(i[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),g&&(i[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),s&&(i[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=s),i.acl=d,qq.each(r,function(e,t){var n=qq.s3.util._getPrefixedParamName(e);i[n]=qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,n)>=0?t:encodeURIComponent(t)}),2===v?i.AWSAccessKeyId=c:4===v&&(i[qq.s3.util.ALGORITHM_PARAM_NAME]=qq.s3.util.V4_ALGORITHM_PARAM_VALUE,i[qq.s3.util.CREDENTIAL_PARAM_NAME]=qq.s3.util.getV4CredentialsString({date:_,key:c,region:m}),i[qq.s3.util.DATE_PARAM_NAME]=qq.s3.util.getV4PolicyDate(_,a)),t(n).then(function(t,n,r){i.policy=t.policy,2===e.signatureVersion?(i.signature=t.signature,n&&(i.AWSAccessKeyId=n)):4===e.signatureVersion&&(i[qq.s3.util.V4_SIGNATURE_PARAM_NAME]=t.signature),r&&(i[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=r),o.success(i)},function(e){e=e||"Can't continue further with request to S3 as we did not receive a valid signature and policy from the server.",y("Policy signing failed.  "+e,"error"),o.failure(e)}),o},enforceSizeLimits:function(e,t,n){var i=0>t?0:t,r=0>=n?9007199254740992:n;(t>0||n>0)&&e.conditions.push(["content-length-range",i.toString(),r.toString()])},getPolicyExpirationDate:function(e,t){var n=new Date(e.getTime()+t);return qq.s3.util.getPolicyDate(n,5)},getCredentialsDate:function(e){return e.getUTCFullYear()+""+("0"+(e.getUTCMonth()+1)).slice(-2)+("0"+e.getUTCDate()).slice(-2)},getPolicyDate:function(e,t){var n,i,r=t||0;return e.setMinutes(e.getMinutes()+(r||0)),Date.prototype.toISOString?e.toISOString():(n=function(e){return i=String(e),1===i.length&&(i="0"+i),i},e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z")},parseIframeResponse:function(e){var t=e.contentDocument||e.contentWindow.document,n=t.location.search,i=/bucket=(.+)&key=(.+)&etag=(.+)/.exec(n);return i?{bucket:i[1],key:i[2],etag:i[3].replace(/%22/g,"")}:void 0},getSuccessRedirectAbsoluteUrl:function(e){if(e){var t,n=document.createElement("div");return qq.ie7()?(n.innerHTML="<a href='"+e+"'></a>",t=n.firstChild,t.href):(t=document.createElement("a"),t.href=e,t.href=t.href,t.href)}},getV4CredentialsString:function(e){return e.key+"/"+qq.s3.util.getCredentialsDate(e.date)+"/"+e.region+"/s3/aws4_request"},getV4PolicyDate:function(e,t){var n=new Date(e.getTime()+t);return qq.s3.util.getCredentialsDate(n)+"T"+("0"+n.getUTCHours()).slice(-2)+("0"+n.getUTCMinutes()).slice(-2)+("0"+n.getUTCSeconds()).slice(-2)+"Z"},encodeQueryStringParam:function(e){var t=encodeURIComponent(e);return t=t.replace(/[!'()]/g,escape),t=t.replace(/\*/g,"%2A"),t.replace(/%20/g,"+")},uriEscape:function(e){var t=encodeURIComponent(e);return t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),t=t.replace(/[*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(e){var t=[];return qq.each(e.split("/"),function(e,n){t.push(qq.s3.util.uriEscape(n))}),t.join("/")}}}(),function(){"use strict";qq.nonTraditionalBasePublicApi={setUploadSuccessParams:function(e,t){this._uploadSuccessParamsStore.set(e,t)},setUploadSuccessEndpoint:function(e,t){this._uploadSuccessEndpointStore.set(e,t)}},qq.nonTraditionalBasePrivateApi={_onComplete:function(e,t,n,i){var r,o,s=n.success?!0:!1,a=this,u=arguments,l=this._uploadSuccessEndpointStore.get(e),c=this._options.uploadSuccess.customHeaders,d=this._options.uploadSuccess.method,f=this._options.cors,h=new qq.Promise,p=this._uploadSuccessParamsStore.get(e),m=this._paramsStore.get(e),g=function(t){delete a._failedSuccessRequestCallbacks[e],qq.extend(n,t),qq.FineUploaderBasic.prototype._onComplete.apply(a,u),h.success(t)},v=function(o){var s=r;qq.extend(n,o),n&&n.reset&&(s=null),s?a._failedSuccessRequestCallbacks[e]=s:delete a._failedSuccessRequestCallbacks[e],a._onAutoRetry(e,t,n,i,s)||(qq.FineUploaderBasic.prototype._onComplete.apply(a,u),h.failure(o))};return s&&l?(o=new qq.UploadSuccessAjaxRequester({endpoint:l,method:d,customHeaders:c,cors:f,log:qq.bind(this.log,this)}),qq.extend(p,a._getEndpointSpecificParams(e,n,i),!0),m&&qq.extend(p,m,!0),r=qq.bind(function(){o.sendSuccessRequest(e,p).then(g,v)},a),r(),h):qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments)},_manualRetry:function(e){var t=this._failedSuccessRequestCallbacks[e];return qq.FineUploaderBasic.prototype._manualRetry.call(this,e,t)}}}(),function(){"use strict";qq.s3.FineUploaderBasic=function(e){var t={request:{accessKey:null,clockDrift:0},objectProperties:{acl:"private",bucket:qq.bind(function(e){return qq.s3.util.getBucket(this.getEndpoint(e))},this),host:qq.bind(function(e){return/(?:http|https):\/\/(.+)(?:\/.+)?/.exec(this._endpointStore.get(e))[1]},this),key:"uuid",reducedRedundancy:!1,region:"us-east-1",serverSideEncryption:!1},credentials:{accessKey:null,secretKey:null,expiration:null,sessionToken:null},signature:{customHeaders:{},endpoint:null,version:2},uploadSuccess:{endpoint:null,method:"POST",params:{},customHeaders:{}},iframeSupport:{localBlankPagePath:null},chunking:{partSize:5242880},cors:{allowXdr:!0},callbacks:{onCredentialsExpired:function(){}}};qq.extend(t,e,!0),this.setCredentials(t.credentials,!0)||(this._currentCredentials.accessKey=t.request.accessKey),this._aclStore=this._createStore(t.objectProperties.acl),qq.FineUploaderBasic.call(this,t),this._uploadSuccessParamsStore=this._createStore(this._options.uploadSuccess.params),this._uploadSuccessEndpointStore=this._createStore(this._options.uploadSuccess.endpoint),this._failedSuccessRequestCallbacks={},this._cannedKeys={},this._cannedBuckets={},this._buckets={},this._hosts={}},qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.nonTraditionalBasePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.nonTraditionalBasePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,{getBucket:function(e){return null==this._cannedBuckets[e]?this._buckets[e]:this._cannedBuckets[e]},getKey:function(e){return null==this._cannedKeys[e]?this._handler.getThirdPartyFileId(e):this._cannedKeys[e]},reset:function(){qq.FineUploaderBasic.prototype.reset.call(this),this._failedSuccessRequestCallbacks=[],this._buckets={},this._hosts={}},setCredentials:function(e,t){if(e&&e.secretKey){if(!e.accessKey)throw new qq.Error("Invalid credentials: no accessKey");if(!e.expiration)throw new qq.Error("Invalid credentials: no expiration");return this._currentCredentials=qq.extend({},e),qq.isString(e.expiration)&&(this._currentCredentials.expiration=new Date(e.expiration)),!0}if(!t)throw new qq.Error("Invalid credentials parameter!");this._currentCredentials={}},setAcl:function(e,t){this._aclStore.set(e,t)},_createUploadHandler:function(){var e=this,t={aclStore:this._aclStore,getBucket:qq.bind(this._determineBucket,this),getHost:qq.bind(this._determineHost,this),getKeyName:qq.bind(this._determineKeyName,this),iframeSupport:this._options.iframeSupport,objectProperties:this._options.objectProperties,signature:this._options.signature,clockDrift:this._options.request.clockDrift,validation:{minSizeLimit:this._options.validation.minSizeLimit,maxSizeLimit:this._options.validation.sizeLimit}};return qq.override(this._endpointStore,function(e){return{get:function(t){var n=e.get(t);return n.indexOf("http")<0?"http://"+n:n}}}),qq.override(this._paramsStore,function(e){return{get:function(t){var n=e.get(t),i={};return qq.each(n,function(e,t){var n=e;qq.indexOf(qq.s3.util.CASE_SENSITIVE_PARAM_NAMES,n)<0&&(n=n.toLowerCase()),i[n]=qq.isFunction(t)?t():t}),i}}}),t.signature.credentialsProvider={get:function(){return e._currentCredentials},onExpired:function(){var t=new qq.Promise,n=e._options.callbacks.onCredentialsExpired();return qq.isGenericPromise(n)?n.then(function(n){try{e.setCredentials(n),t.success()}catch(i){e.log("Invalid credentials returned from onCredentialsExpired callback! ("+i.message+")","error"),t.failure("onCredentialsExpired did not return valid credentials.")}},function(n){e.log("onCredentialsExpired callback indicated failure! ("+n+")","error"),t.failure("onCredentialsExpired callback failed.")
}):(e.log("onCredentialsExpired callback did not return a promise!","error"),t.failure("Unexpected return value for onCredentialsExpired.")),t}},qq.FineUploaderBasic.prototype._createUploadHandler.call(this,t,"s3")},_determineObjectPropertyValue:function(e,t){var n=this._options.objectProperties[t],i=new qq.Promise,r=this;return qq.isFunction(n)?(n=n(e),qq.isGenericPromise(n)?i=n:i.success(n)):qq.isString(n)&&i.success(n),i.then(function(n){r["_"+t+"s"][e]=n},function(n){qq.log("Problem determining "+t+" for ID "+e+" ("+n+")","error")}),i},_determineBucket:function(e){return this._determineObjectPropertyValue(e,"bucket")},_determineHost:function(e){return this._determineObjectPropertyValue(e,"host")},_determineKeyName:function(e,t){var n=new qq.Promise,i=this._options.objectProperties.key,r=qq.getExtension(t),o=n.failure,s=function(e,t){var i=e;void 0!==t&&(i+="."+t),n.success(i)};switch(i){case"uuid":s(this.getUuid(e),r);break;case"filename":s(t);break;default:qq.isFunction(i)?this._handleKeynameFunction(i,e,s,o):(this.log(i+" is not a valid value for the s3.keyname option!","error"),o())}return n},_handleKeynameFunction:function(e,t,n,i){var r=this,o=function(e){n(e)},s=function(e){r.log(qq.format("Failed to retrieve key name for {}.  Reason: {}",t,e||"null"),"error"),i(e)},a=e.call(this,t);qq.isGenericPromise(a)?a.then(o,s):null==a?s():o(a)},_getEndpointSpecificParams:function(e,t,n){var i={key:this.getKey(e),uuid:this.getUuid(e),name:this.getName(e),bucket:this.getBucket(e)};return n&&n.getResponseHeader("ETag")?i.etag=n.getResponseHeader("ETag"):t.etag&&(i.etag=t.etag),i},_onSubmitDelete:function(e,t){var n={key:this.getKey(e),bucket:this.getBucket(e)};return qq.FineUploaderBasic.prototype._onSubmitDelete.call(this,e,t,n)},_addCannedFile:function(e){var t;if(null==e.s3Key)throw new qq.Error("Did not find s3Key property in server session response.  This is required!");return t=qq.FineUploaderBasic.prototype._addCannedFile.apply(this,arguments),this._cannedKeys[t]=e.s3Key,this._cannedBuckets[t]=e.s3Bucket,t}})}(),window.Uint8ClampedArray||(window.Uint8ClampedArray=function(){}),qq.s3.RequestSigner=function(e){"use strict";function t(e,t,n){var i,r,o=t.responseText,s=l[e],a=s.promise,u=s.signatureConstructor;if(delete l[e],o)try{r=qq.parseJson(o)}catch(f){c.log("Error attempting to parse signature response: "+f,"error")}r&&r.error?(n=!0,i=r.error):r&&r.invalid?(n=!0,i="Invalid policy document or request headers!"):r?c.expectingPolicy&&!r.policy?(n=!0,i="Response does not include the base64 encoded policy!"):r.signature||(n=!0,i="Response does not include the signature!"):(n=!0,i="Received an empty or invalid response from the server!"),n?(i&&c.log(i,"error"),a.failure(i)):u?d(u,r.signature,a):a.success(r)}function n(e,t,n){var i,r,o,s=new qq.Promise,a="POST",l=[],d="",p=new Date,m=function(e){var n,s=[];return qq.each(e.headers,function(e){l.push(e)}),l.sort(),qq.each(l,function(t,i){qq.indexOf(qq.s3.util.UNSIGNABLE_REST_HEADER_NAMES,i)<0?d+=i.toLowerCase()+":"+e.headers[i].trim()+"\n":"Content-MD5"===i?n=e.headers[i]:s.unshift(t)}),qq.each(s,function(e,t){l.splice(t,1)}),r={bucket:e.bucket,contentMd5:n,contentType:e.contentType,date:p,drift:c.signatureSpec.drift,endOfUrl:i,hashedContent:e.hashedContent,headerNames:l,headersStr:d,method:a},o=2===t?f.getStringToSign(r):h.getStringToSign(r),{date:p,endOfUrl:i,signedHeaders:4===t?h.getSignedHeaders(r.headerNames):null,toSign:4===t?o.hashed:o,toSignRaw:4===t?o.raw:o}};switch(n.type){case u.REQUEST_TYPE.MULTIPART_ABORT:a="DELETE",i=qq.format("uploadId={}",n.uploadId);break;case u.REQUEST_TYPE.MULTIPART_INITIATE:i="uploads";break;case u.REQUEST_TYPE.MULTIPART_COMPLETE:i=qq.format("uploadId={}",n.uploadId);break;case u.REQUEST_TYPE.MULTIPART_UPLOAD:a="PUT",i=qq.format("partNumber={}&uploadId={}",n.partNum,n.uploadId)}return i=n.key+"?"+i,4===t?h.getEncodedHashedPayload(n.content).then(function(e){n.headers["x-amz-content-sha256"]=e,n.headers.Host=n.host,n.headers["x-amz-date"]=qq.s3.util.getV4PolicyDate(p,c.signatureSpec.drift),n.hashedContent=e,s.success(m(n))},function(e){s.failure(e)}):s.success(m(n)),s}function i(e,t,n,i,s){var a;t.signatureConstructor?(s&&(a=t.signatureConstructor.getHeaders(),a[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=s,t.signatureConstructor.withHeaders(a)),t.signatureConstructor.getToSign(e).then(function(e){o(t.signatureConstructor,e.stringToSign,n)},function(e){n.failure(e)})):(s&&qq.s3.util.refreshPolicyCredentials(t,s),r(t,n,i,s))}function r(e,t,n,i){4===c.signatureSpec.version?h.signPolicy(e,t,n,i):f.signPolicy(e,t,n,i)}function o(e,t,n){4===c.signatureSpec.version?h.signApiRequest(e,t,n):f.signApiRequest(e,t,n)}var s,a,u=this,l={},c={expectingPolicy:!1,method:"POST",signatureSpec:{drift:0,credentialsProvider:{},endpoint:null,customHeaders:{},version:2},maxConnections:3,endpointStore:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(){}},d=function(e,t,n){var i=e.getHeaders();i.Authorization=4===c.signatureSpec.version?qq.s3.util.V4_ALGORITHM_PARAM_VALUE+" Credential="+c.signatureSpec.credentialsProvider.get().accessKey+"/"+qq.s3.util.getCredentialsDate(e.getRequestDate())+"/"+c.signatureSpec.region+"/s3/aws4_request,SignedHeaders="+e.getSignedHeaders()+",Signature="+t:"AWS "+c.signatureSpec.credentialsProvider.get().accessKey+":"+t,n.success(i,e.getEndOfUrl())},f={getStringToSign:function(e){return qq.format("{}\n{}\n{}\n\n{}/{}/{}",e.method,e.contentMd5||"",e.contentType||"",e.headersStr||"\n",e.bucket,e.endOfUrl)},signApiRequest:function(e,t,n){var i=qq.CryptoJS.enc.Utf8.parse(t),r=qq.CryptoJS.HmacSHA1(i,a.get().secretKey),o=qq.CryptoJS.enc.Base64.stringify(r);d(e,o,n)},signPolicy:function(e,t,n,i){var r=JSON.stringify(e),o=qq.CryptoJS.enc.Utf8.parse(r),s=qq.CryptoJS.enc.Base64.stringify(o),u=qq.CryptoJS.HmacSHA1(s,a.get().secretKey),l=qq.CryptoJS.enc.Base64.stringify(u);t.success({policy:s,signature:l},n,i)}},h={getCanonicalQueryString:function(e){var t,n,i,r=e.indexOf("?"),o="";return r>=0&&(t={},i=e.substr(r+1).split("&"),qq.each(i,function(e,n){var i=n.split("="),r=i[1];null==r&&(r=""),t[encodeURIComponent(i[0])]=encodeURIComponent(r)}),n=Object.keys(t).sort(),n.forEach(function(e,i){o+=e+"="+t[e],i<n.length-1&&(o+="&")})),o},getCanonicalRequest:function(e){return qq.format("{}\n{}\n{}\n{}\n{}\n{}",e.method,h.getCanonicalUri(e.endOfUrl),h.getCanonicalQueryString(e.endOfUrl),e.headersStr||"\n",h.getSignedHeaders(e.headerNames),e.hashedContent)},getCanonicalUri:function(e){var t=e,n=e.indexOf("?");return n>0&&(t=e.substr(0,n)),"/"+t},getEncodedHashedPayload:function(e){var t,n=new qq.Promise;return qq.isBlob(e)?(t=new FileReader,t.onloadend=function(e){if(e.target.readyState===FileReader.DONE)if(e.target.error)n.failure(e.target.error);else{var t=qq.CryptoJS.lib.WordArray.create(e.target.result);n.success(qq.CryptoJS.SHA256(t).toString())}},t.readAsArrayBuffer(e)):(e=e||"",n.success(qq.CryptoJS.SHA256(e).toString())),n},getScope:function(e,t){return qq.s3.util.getCredentialsDate(e)+"/"+t+"/s3/aws4_request"},getStringToSign:function(e){var t=h.getCanonicalRequest(e),n=qq.s3.util.getV4PolicyDate(e.date,e.drift),i=qq.CryptoJS.SHA256(t).toString(),r=h.getScope(e.date,c.signatureSpec.region),o="AWS4-HMAC-SHA256\n{}\n{}\n{}";return{hashed:qq.format(o,n,r,i),raw:qq.format(o,n,r,t)}},getSignedHeaders:function(e){var t="";return e.forEach(function(n,i){t+=n.toLowerCase(),i<e.length-1&&(t+=";")}),t},signApiRequest:function(e,t,n){var i,r,o,s,u=a.get().secretKey,l=/.+\n.+\n(\d+)\/(.+)\/s3\/.+\n(.+)/,c=l.exec(t);i=qq.CryptoJS.HmacSHA256(c[1],"AWS4"+u),r=qq.CryptoJS.HmacSHA256(c[2],i),o=qq.CryptoJS.HmacSHA256("s3",r),s=qq.CryptoJS.HmacSHA256("aws4_request",o),d(e,qq.CryptoJS.HmacSHA256(t,s),n)},signPolicy:function(e,t,n,i){var r,o,s,u,l,c=JSON.stringify(e),d=qq.CryptoJS.enc.Utf8.parse(c),f=qq.CryptoJS.enc.Base64.stringify(d),h=a.get().secretKey,p=/.+\/(.+)\/(.+)\/s3\/aws4_request/,m=function(){var t=null;return qq.each(e.conditions,function(e,n){var i=n["x-amz-credential"];return i?(t=i,!1):void 0}),t}();r=p.exec(m),o=qq.CryptoJS.HmacSHA256(r[1],"AWS4"+h),s=qq.CryptoJS.HmacSHA256(r[2],o),u=qq.CryptoJS.HmacSHA256("s3",s),l=qq.CryptoJS.HmacSHA256("aws4_request",u),t.success({policy:f,signature:qq.CryptoJS.HmacSHA256(f,l).toString()},n,i)}};qq.extend(c,e,!0),a=c.signatureSpec.credentialsProvider,s=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:c.method,contentType:"application/json; charset=utf-8",endpointStore:{get:function(){return c.signatureSpec.endpoint}},paramsStore:c.paramsStore,maxConnections:c.maxConnections,customHeaders:c.signatureSpec.customHeaders,log:c.log,onComplete:t,cors:c.cors})),qq.extend(this,{getSignature:function(e,t){var n,r=t,o=t.signatureConstructor,u=new qq.Promise;return 4===c.signatureSpec.version&&(n={v4:!0}),a.get().secretKey&&qq.CryptoJS?a.get().expiration.getTime()>Date.now()?i(e,t,u):a.onExpired().then(function(){i(e,t,u,a.get().accessKey,a.get().sessionToken)},function(){c.log("Attempt to update expired credentials apparently failed! Unable to sign request.  ","error"),u.failure("Unable to sign request - expired credentials.")}):(c.log("Submitting S3 signature request for "+e),o?o.getToSign(e).then(function(t){r={headers:t.stringToSignRaw},s.initTransport(e).withParams(r).withQueryParams(n).send()},function(){c.log("Failed to construct signature. ","error"),u.failure("Failed to construct signature.")}):s.initTransport(e).withParams(r).withQueryParams(n).send(),l[e]={promise:u,signatureConstructor:o}),u},constructStringToSign:function(e,t,i,r){var o,s,u,l,d,f={};return{withHeaders:function(e){return f=e,this},withUploadId:function(e){return o=e,this},withContent:function(e){return s=e,this},withContentType:function(e){return u=e,this},withPartNum:function(e){return l=e,this},getToSign:function(h){var p=a.get().sessionToken,m=new qq.Promise,g=new Date(Date.now()+c.signatureSpec.drift);return f["x-amz-date"]=g.toUTCString(),p&&(f[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=p),n(h,c.signatureSpec.version,{bucket:t,content:s,contentType:u,headers:f,host:i,key:r,partNum:l,type:e,uploadId:o}).then(function(e){d=e,m.success({headers:function(){return u&&(f["Content-Type"]=u),delete f.Host,f}(),date:d.date,endOfUrl:d.endOfUrl,signedHeaders:d.signedHeaders,stringToSign:d.toSign,stringToSignRaw:d.toSignRaw})},function(e){m.failure(e)}),m},getHeaders:function(){return qq.extend({},f)},getEndOfUrl:function(){return d&&d.endOfUrl},getRequestDate:function(){return d&&d.date},getSignedHeaders:function(){return d&&d.signedHeaders}}}})},qq.s3.RequestSigner.prototype.REQUEST_TYPE={MULTIPART_INITIATE:"multipart_initiate",MULTIPART_COMPLETE:"multipart_complete",MULTIPART_ABORT:"multipart_abort",MULTIPART_UPLOAD:"multipart_upload"},qq.UploadSuccessAjaxRequester=function(e){"use strict";function t(e,t,n){var o,s=i[e],a=t.responseText,u={success:!0},l={success:!1};delete i[e],r.log(qq.format("Received the following response body to an upload success request for id {}: {}",e,a));try{o=qq.parseJson(a),n||o&&(o.error||o.success===!1)?(r.log("Upload success request was rejected by the server.","error"),s.failure(qq.extend(o,l))):(r.log("Upload success was acknowledged by the server."),s.success(qq.extend(o,u)))}catch(c){n?(r.log(qq.format("Your server indicated failure in its upload success request response for id {}!",e),"error"),s.failure(l)):(r.log("Upload success was acknowledged by the server."),s.success(u))}}var n,i=[],r={method:"POST",endpoint:null,maxConnections:3,customHeaders:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(){}};qq.extend(r,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:r.method,endpointStore:{get:function(){return r.endpoint}},paramsStore:r.paramsStore,maxConnections:r.maxConnections,customHeaders:r.customHeaders,log:r.log,onComplete:t,cors:r.cors})),qq.extend(this,{sendSuccessRequest:function(e,t){var o=new qq.Promise;return r.log("Submitting upload success request/notification for "+e),n.initTransport(e).withParams(t).send(),i[e]=o,o}})},qq.s3.InitiateMultipartAjaxRequester=function(e){"use strict";function t(e){var t,n=s.getBucket(e),i=s.getHost(e),o={},a=new qq.Promise,u=s.getKey(e);return o["x-amz-acl"]=s.aclStore.get(e),s.reducedRedundancy&&(o[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),s.serverSideEncryption&&(o[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),o[qq.s3.util.AWS_PARAM_PREFIX+s.filenameParam]=encodeURIComponent(s.getName(e)),qq.each(s.paramsStore.get(e),function(e,t){qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,e)>=0?o[e]=t:o[qq.s3.util.AWS_PARAM_PREFIX+e]=encodeURIComponent(t)}),t=r.constructStringToSign(r.REQUEST_TYPE.MULTIPART_INITIATE,n,i,u).withContentType(s.getContentType(e)).withHeaders(o),r.getSignature(e,{signatureConstructor:t}).then(a.success,a.failure),a}function n(e,t,n){var i,r,a,u,l,c=o[e],d=new DOMParser,f=d.parseFromString(t.responseText,"application/xml");delete o[e],n?(l=t.status,r=f.getElementsByTagName("Message"),r.length>0&&(u=r[0].textContent)):(i=f.getElementsByTagName("UploadId"),i.length>0?a=i[0].textContent:u="Upload ID missing from request"),void 0===a?(u?s.log(qq.format("Specific problem detected initiating multipart upload request for {}: '{}'.",e,u),"error"):s.log(qq.format("Unexplained error with initiate multipart upload request for {}.  Status code {}.",e,l),"error"),c.failure("Problem initiating upload request.",t)):(s.log(qq.format("Initiate multipart upload request successful for {}.  Upload ID is {}",e,a)),c.success(a,t))}var i,r,o={},s={filenameParam:"qqfilename",method:"POST",endpointStore:null,paramsStore:null,signatureSpec:null,aclStore:null,reducedRedundancy:!1,serverSideEncryption:!1,maxConnections:3,getContentType:function(){},getBucket:function(){},getHost:function(){},getKey:function(){},getName:function(){},log:function(){}};qq.extend(s,e),r=new qq.s3.RequestSigner({endpointStore:s.endpointStore,signatureSpec:s.signatureSpec,cors:s.cors,log:s.log}),i=qq.extend(this,new qq.AjaxRequester({method:s.method,contentType:null,endpointStore:s.endpointStore,maxConnections:s.maxConnections,allowXRequestedWithAndCacheControl:!1,log:s.log,onComplete:n,successfulResponseCodes:{POST:[200]}})),qq.extend(this,{send:function(e){var n=new qq.Promise;return t(e).then(function(t,r){s.log("Submitting S3 initiate multipart upload request for "+e),o[e]=n,i.initTransport(e).withPath(r).withHeaders(t).send()},n.failure),n}})},qq.s3.CompleteMultipartAjaxRequester=function(e){"use strict";function t(e,t,n){var i=new qq.Promise,r=a.getBucket(e),s=a.getHost(e),u=o.constructStringToSign(o.REQUEST_TYPE.MULTIPART_COMPLETE,r,s,a.getKey(e)).withUploadId(t).withContent(n).withContentType("application/xml; charset=UTF-8");return o.getSignature(e,{signatureConstructor:u}).then(i.success,i.failure),i}function n(e,t,n){var i=s[e],r=new DOMParser,o=a.getBucket(e),u=(a.getKey(e),r.parseFromString(t.responseText,"application/xml")),l=u.getElementsByTagName("Bucket"),c=u.getElementsByTagName("Key");delete s[e],a.log(qq.format("Complete response status {}, body = {}",t.status,t.responseText)),n?a.log(qq.format("Complete Multipart Upload request for {} failed with status {}.",e,t.status),"error"):l.length&&c.length?l[0].textContent!==o&&(n=!0,a.log(qq.format("Wrong bucket in response to Complete Multipart Upload request for {}.",e),"error")):(n=!0,a.log(qq.format("Missing bucket and/or key in response to Complete Multipart Upload request for {}.",e),"error")),n?i.failure("Problem combining the file parts!",t):i.success({},t)}function i(e){var t=document.implementation.createDocument(null,"CompleteMultipartUpload",null);return e.sort(function(e,t){return e.part-t.part}),qq.each(e,function(e,n){var i=n.part,r=n.etag,o=t.createElement("Part"),s=t.createElement("PartNumber"),a=t.createTextNode(i),u=t.createTextNode(r),l=t.createElement("ETag");l.appendChild(u),s.appendChild(a),o.appendChild(s),o.appendChild(l),qq(t).children()[0].appendChild(o)}),(new XMLSerializer).serializeToString(t)}var r,o,s={},a={method:"POST",contentType:"text/xml",endpointStore:null,signatureSpec:null,maxConnections:3,getBucket:function(){},getHost:function(){},getKey:function(){},log:function(){}};qq.extend(a,e),o=new qq.s3.RequestSigner({endpointStore:a.endpointStore,signatureSpec:a.signatureSpec,cors:a.cors,log:a.log}),r=qq.extend(this,new qq.AjaxRequester({method:a.method,contentType:"application/xml; charset=UTF-8",endpointStore:a.endpointStore,maxConnections:a.maxConnections,allowXRequestedWithAndCacheControl:!1,log:a.log,onComplete:n,successfulResponseCodes:{POST:[200]}})),qq.extend(this,{send:function(e,n,o){var u=new qq.Promise,l=i(o);return t(e,n,l).then(function(t,n){a.log("Submitting S3 complete multipart upload request for "+e),s[e]=u,delete t["Content-Type"],r.initTransport(e).withPath(n).withHeaders(t).withPayload(l).send()},u.failure),u}})},qq.s3.AbortMultipartAjaxRequester=function(e){"use strict";function t(e,t){var n=new qq.Promise,i=o.getBucket(e),s=o.getHost(e),a=r.constructStringToSign(r.REQUEST_TYPE.MULTIPART_ABORT,i,s,o.getKey(e)).withUploadId(t);return r.getSignature(e,{signatureConstructor:a}).then(n.success,n.failure),n}function n(e,t,n){var i,r=new DOMParser,s=r.parseFromString(t.responseText,"application/xml"),a=s.getElementsByTagName("Error");o.log(qq.format("Abort response status {}, body = {}",t.status,t.responseText)),n?o.log(qq.format("Abort Multipart Upload request for {} failed with status {}.",e,t.status),"error"):a.length?(n=!0,i=s.getElementsByTagName("Message")[0].textContent,o.log(qq.format("Failed to Abort Multipart Upload request for {}.  Error: {}",e,i),"error")):o.log(qq.format("Abort MPU request succeeded for file ID {}.",e))}var i,r,o={method:"DELETE",endpointStore:null,signatureSpec:null,maxConnections:3,getBucket:function(){},getHost:function(){},getKey:function(){},log:function(){}};qq.extend(o,e),r=new qq.s3.RequestSigner({endpointStore:o.endpointStore,signatureSpec:o.signatureSpec,cors:o.cors,log:o.log}),i=qq.extend(this,new qq.AjaxRequester({validMethods:["DELETE"],method:o.method,contentType:null,endpointStore:o.endpointStore,maxConnections:o.maxConnections,allowXRequestedWithAndCacheControl:!1,log:o.log,onComplete:n,successfulResponseCodes:{DELETE:[204]}})),qq.extend(this,{send:function(e,n){t(e,n).then(function(t,n){o.log("Submitting S3 Abort multipart upload request for "+e),i.initTransport(e).withPath(n).withHeaders(t).send()})}})},qq.s3.XhrUploadHandler=function(e,t){"use strict";var n=t.getName,i=t.log,r=e.clockDrift,o=200,s=e.getBucket,a=e.getHost,u=e.getKeyName,l=e.filenameParam,c=e.paramsStore,d=e.endpointStore,f=e.aclStore,h=e.objectProperties.reducedRedundancy,p=e.objectProperties.region,m=e.objectProperties.serverSideEncryption,g=e.validation,v=qq.extend({region:p,drift:r},e.signature),_=this,y=e.signature.credentialsProvider,q={combine:function(e){var t=_._getPersistableData(e).uploadId,n=_._getPersistableData(e).etags,i=new qq.Promise;return b.completeMultipart.send(e,t,n).then(i.success,function(t,n){i.failure(S.done(e,n).response,n)}),i},done:function(e,t,n){var i,r=S.response.parse(e,t);r.success&&(i=t.getResponseHeader("ETag"),_._getPersistableData(e).etags||(_._getPersistableData(e).etags=[]),_._getPersistableData(e).etags.push({part:n+1,etag:i}))},initHeaders:function(e,t,n){var i=S.bucket.getName(e),r=S.host.getName(e),o=S.key.urlSafe(e),s=new qq.Promise,a=b.restSignature.constructStringToSign(b.restSignature.REQUEST_TYPE.MULTIPART_UPLOAD,i,r,o).withPartNum(t+1).withContent(n).withUploadId(_._getPersistableData(e).uploadId);return b.restSignature.getSignature(e+"."+t,{signatureConstructor:a}).then(s.success,s.failure),s},put:function(t,n){var r=_._createXhr(t,n),o=_._getChunkData(t,n),s=e.endpointStore.get(t),a=new qq.Promise;return q.initHeaders(t,n,o.blob).then(function(e,u){if(r._cancelled)i(qq.format("Upload of item {}.{} cancelled. Upload will not start after successful signature request.",t,n)),a.failure({error:"Chunk upload cancelled"});else{var l=s+"/"+u;_._registerProgressHandler(t,n,o.size),S.track(t,r,n).then(a.success,a.failure),r.open("PUT",l,!0);var c=!1;qq.each(e,function(e,t){"Content-Type"===e&&(c=!0),r.setRequestHeader(e,t)}),c||r.setRequestHeader("Content-Type",""),r.send(o.blob)}},function(){a.failure({error:"Problem signing the chunk!"},r)}),a},send:function(e,t){var n=new qq.Promise;return q.setup(e).then(function(){q.put(e,t).then(n.success,n.failure)},function(e,t){n.failure({error:e},t)}),n},setup:function(e){var t=new qq.Promise,n=_._getPersistableData(e).uploadId,i=new qq.Promise;return n?n instanceof qq.Promise?n.then(function(e){t.success(e)}):t.success(n):(_._getPersistableData(e).uploadId=i,b.initiateMultipart.send(e).then(function(n){_._getPersistableData(e).uploadId=n,i.success(n),t.success(n)},function(n,r){_._getPersistableData(e).uploadId=null,t.failure(n,r),i.failure(n,r)})),t}},b={abortMultipart:new qq.s3.AbortMultipartAjaxRequester({endpointStore:d,signatureSpec:v,cors:e.cors,log:i,getBucket:function(e){return S.bucket.getName(e)},getHost:function(e){return S.host.getName(e)},getKey:function(e){return S.key.urlSafe(e)}}),completeMultipart:new qq.s3.CompleteMultipartAjaxRequester({endpointStore:d,signatureSpec:v,cors:e.cors,log:i,getBucket:function(e){return S.bucket.getName(e)},getHost:function(e){return S.host.getName(e)},getKey:function(e){return S.key.urlSafe(e)}}),initiateMultipart:new qq.s3.InitiateMultipartAjaxRequester({filenameParam:l,endpointStore:d,paramsStore:c,signatureSpec:v,aclStore:f,reducedRedundancy:h,serverSideEncryption:m,cors:e.cors,log:i,getContentType:function(e){return _._getMimeType(e)},getBucket:function(e){return S.bucket.getName(e)},getHost:function(e){return S.host.getName(e)},getKey:function(e){return S.key.urlSafe(e)},getName:function(e){return n(e)}}),policySignature:new qq.s3.RequestSigner({expectingPolicy:!0,signatureSpec:v,cors:e.cors,log:i}),restSignature:new qq.s3.RequestSigner({endpointStore:d,signatureSpec:v,cors:e.cors,log:i})},w={initParams:function(e){var t=c.get(e);return t[l]=n(e),qq.s3.util.generateAwsParams({endpoint:d.get(e),clockDrift:r,params:t,type:_._getMimeType(e),bucket:S.bucket.getName(e),key:_.getThirdPartyFileId(e),accessKey:y.get().accessKey,sessionToken:y.get().sessionToken,acl:f.get(e),expectedStatus:o,minFileSize:g.minSizeLimit,maxFileSize:g.maxSizeLimit,reducedRedundancy:h,region:p,serverSideEncryption:m,signatureVersion:v.version,log:i},qq.bind(b.policySignature.getSignature,this,e))},send:function(e){var t=new qq.Promise,n=_._createXhr(e),r=_.getFile(e);return _._registerProgressHandler(e),S.track(e,n).then(t.success,t.failure),w.setup(e,n,r).then(function(t){i("Sending upload request for "+e),n.send(t)},t.failure),t},setup:function(e,t,n){var i=new FormData,r=d.get(e),o=r,s=new qq.Promise;return w.initParams(e).then(function(e){t.open("POST",o,!0),qq.obj2FormData(e,i),i.append("file",n),s.success(i)},function(e){s.failure({error:e})}),s}},S={bucket:{promise:function(e){var t=new qq.Promise,n=_._getFileState(e).bucket;return n?t.success(n):s(e).then(function(n){_._getFileState(e).bucket=n,t.success(n)},t.failure),t},getName:function(e){return _._getFileState(e).bucket}},host:{promise:function(e){var t=new qq.Promise,n=_._getFileState(e).host;return n?t.success(n):a(e).then(function(n){_._getFileState(e).host=n,t.success(n)},t.failure),t},getName:function(e){return _._getFileState(e).host}},done:function(e,t){var n=S.response.parse(e,t),r=n.success!==!0;return r&&S.response.shouldReset(n.code)&&(i("This is an unrecoverable error, we must restart the upload entirely on the next retry attempt.","error"),n.reset=!0),{success:!r,response:n}},key:{promise:function(e){var t=new qq.Promise,i=_.getThirdPartyFileId(e);return null==i?(_._setThirdPartyFileId(e,t),u(e,n(e)).then(function(n){_._setThirdPartyFileId(e,n),t.success(n)},function(n){_._setThirdPartyFileId(e,null),t.failure(n)})):qq.isGenericPromise(i)?i.then(t.success,t.failure):t.success(i),t},urlSafe:function(e){var t=_.getThirdPartyFileId(e);return qq.s3.util.uriEscapePath(t)}},response:{parse:function(e,t){var n,r={};try{i(qq.format("Received response status {} with body: {}",t.status,t.responseText)),t.status===o?r.success=!0:(n=S.response.parseError(t.responseText),n&&(r.error=n.message,r.code=n.code))}catch(s){i("Error when attempting to parse xhr response text ("+s.message+")","error")}return r},parseError:function(e){var t,n,i=new DOMParser,r=i.parseFromString(e,"application/xml"),o=r.getElementsByTagName("Error"),s={};return o.length?(t=r.getElementsByTagName("Code"),n=r.getElementsByTagName("Message"),n.length&&(s.message=n[0].textContent),t.length&&(s.code=t[0].textContent),s):void 0},shouldReset:function(e){return"EntityTooSmall"===e||"InvalidPart"===e||"InvalidPartOrder"===e||"NoSuchUpload"===e}},start:function(e,t){var n=new qq.Promise;return S.key.promise(e).then(function(){S.bucket.promise(e).then(function(){S.host.promise(e).then(function(){null==t?w.send(e).then(n.success,n.failure):q.send(e,t).then(n.success,n.failure)})})},function(e){n.failure({error:e})}),n},track:function(e,t,n){var i=new qq.Promise;return t.onreadystatechange=function(){if(4===t.readyState){var r;null==n?(r=S.done(e,t),i[r.success?"success":"failure"](r.response,t)):(q.done(e,t,n),r=S.done(e,t),i[r.success?"success":"failure"](r.response,t))}},i}};qq.extend(this,{uploadChunk:S.start,uploadFile:S.start}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"s3"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,function(e){return{expunge:function(t){var n=_._getPersistableData(t)&&_._getPersistableData(t).uploadId,i=_._maybeDeletePersistedChunkData(t);void 0!==n&&i&&b.abortMultipart.send(t,n),e.expunge(t)},finalizeChunks:function(e){return q.combine(e)},_getLocalStorageId:function(t){var n=e._getLocalStorageId(t),i=S.bucket.getName(t);return n+"-"+i}}})},qq.s3.FormUploadHandler=function(e,t){"use strict";function n(t,n){var i,r,o,s=(e.endpointStore.get(t),a._getFileState(t).bucket);try{if(i=n.contentDocument||n.contentWindow.document,r=i.body.innerHTML,o=qq.s3.util.parseIframeResponse(n),o.bucket===s&&o.key===qq.s3.util.encodeQueryStringParam(a.getThirdPartyFileId(t)))return!0;f("Response from AWS included an unexpected bucket or key name.","error")}catch(u){f("Error when attempting to parse form upload response ("+u.message+")","error")}return!1}function i(e){var t=g.get(e);return t[m]=c(e),qq.s3.util.generateAwsParams({endpoint:v.get(e),clockDrift:u,params:t,bucket:a._getFileState(e).bucket,key:a.getThirdPartyFileId(e),accessKey:C.get().accessKey,sessionToken:C.get().sessionToken,acl:_.get(e),minFileSize:w.minSizeLimit,maxFileSize:w.maxSizeLimit,successRedirectUrl:x,reducedRedundancy:y,region:q,serverSideEncryption:b,signatureVersion:S.version,log:f},qq.bind(T.getSignature,this,e))}function r(t,n){var r=new qq.Promise,o="POST",u=e.endpointStore.get(t),l=c(t);return i(t).then(function(e){var t=a._initFormForUpload({method:o,endpoint:u,params:e,paramsInBody:!0,targetName:n.name});r.success(t)},function(e){r.failure(e),s(t,n,l,{error:e})}),r}function o(e){var t=a._createIframe(e),i=a.getInput(e),o=new qq.Promise;return r(e,t).then(function(r){r.appendChild(i),a._attachLoadEvent(t,function(i){f("iframe loaded"),i?i.success===!1&&(f("Amazon likely rejected the upload request","error"),o.failure(i)):(i={},i.success=n(e,t),i.success===!1?(f("A success response was received by Amazon, but it was invalid in some way.","error"),o.failure(i)):(qq.extend(i,qq.s3.util.parseIframeResponse(t)),o.success(i))),s(e,t)}),f("Sending upload request for "+e),r.submit(),qq(r).remove()},o.failure),o}function s(e,t){a._detachLoadEvent(e),t&&qq(t).remove()}var a=this,u=e.clockDrift,l=t.onUuidChanged,c=t.getName,d=t.getUuid,f=t.log,h=e.getBucket,p=e.getKeyName,m=e.filenameParam,g=e.paramsStore,v=e.endpointStore,_=e.aclStore,y=e.objectProperties.reducedRedundancy,q=e.objectProperties.region,b=e.objectProperties.serverSideEncryption,w=e.validation,S=e.signature,x=e.iframeSupport.localBlankPagePath,C=e.signature.credentialsProvider,T=new qq.s3.RequestSigner({signatureSpec:S,cors:e.cors,log:f});if(void 0===x)throw new Error("successRedirectEndpoint MUST be defined if you intend to use browsers that do not support the File API!");qq.extend(this,new qq.FormUploadHandler({options:{isCors:!1,inputName:"file"},proxy:{onCancel:e.onCancel,onUuidChanged:l,getName:c,getUuid:d,log:f}})),qq.extend(this,{uploadFile:function(e){var t=c(e),n=new qq.Promise;return a.getThirdPartyFileId(e)?a._getFileState(e).bucket?o(e).then(n.success,n.failure):h(e).then(function(t){a._getFileState(e).bucket=t,o(e).then(n.success,n.failure)}):p(e,t).then(function(t){h(e).then(function(i){a._getFileState(e).bucket=i,a._setThirdPartyFileId(e,t),o(e).then(n.success,n.failure)},function(e){n.failure({error:e})})},function(e){n.failure({error:e})}),n}})},qq.DragAndDrop=function(e){"use strict";function t(e,t){var n=Array.prototype.slice.call(e);l.callbacks.dropLog("Grabbed "+e.length+" dropped files."),t.dropDisabled(!1),l.callbacks.processingDroppedFilesComplete(n,t.getElement())}function n(e){var t=new qq.Promise;return e.isFile?e.file(function(n){var i=e.name,r=e.fullPath,o=r.indexOf(i);r=r.substr(0,o),"/"===r.charAt(0)&&(r=r.substr(1)),n.qqPath=r,h.push(n),t.success()},function(n){l.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+n.code+".","error"),t.failure()}):e.isDirectory&&i(e).then(function(e){var i=e.length;qq.each(e,function(e,r){n(r).done(function(){i-=1,0===i&&t.success()})}),e.length||t.success()},function(n){l.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+n.code+".","error"),t.failure()}),t}function i(e,t,n,r){var o=r||new qq.Promise,s=t||e.createReader();return s.readEntries(function(t){var r=n?n.concat(t):t;t.length?setTimeout(function(){i(e,s,r,o)},0):o.success(r)},o.failure),o}function r(e,t){var i=[],r=new qq.Promise;return l.callbacks.processingDroppedFiles(),t.dropDisabled(!0),e.files.length>1&&!l.allowMultipleItems?(l.callbacks.processingDroppedFilesComplete([]),l.callbacks.dropError("tooManyFilesError",""),t.dropDisabled(!1),r.failure()):(h=[],qq.isFolderDropSupported(e)?qq.each(e.items,function(e,t){var o=t.webkitGetAsEntry();o&&(o.isFile?h.push(t.getAsFile()):i.push(n(o).done(function(){i.pop(),0===i.length&&r.success()})))}):h=e.files,0===i.length&&r.success()),r}function o(e){var n=new qq.UploadDropZone({HIDE_ZONES_EVENT_NAME:c,element:e,onEnter:function(t){qq(e).addClass(l.classes.dropActive),t.stopPropagation()},onLeaveNotDescendants:function(){qq(e).removeClass(l.classes.dropActive)},onDrop:function(e){r(e.dataTransfer,n).then(function(){t(h,n)},function(){l.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.","error")})}});return p.addDisposer(function(){n.dispose()}),qq(e).hasAttribute(d)&&qq(e).hide(),f.push(n),n}function s(e){var t;return qq.each(e.dataTransfer.types,function(e,n){return"Files"===n?(t=!0,!1):void 0}),t}function a(e){return qq.firefox()?!e.relatedTarget:qq.safari()?e.x<0||e.y<0:0===e.x&&0===e.y}function u(){var e=l.dropZoneElements,t=function(){setTimeout(function(){qq.each(e,function(e,t){qq(t).hasAttribute(d)&&qq(t).hide(),qq(t).removeClass(l.classes.dropActive)})},10)};qq.each(e,function(t,n){var i=o(n);e.length&&qq.supportedFeatures.fileDrop&&p.attach(document,"dragenter",function(t){!i.dropDisabled()&&s(t)&&qq.each(e,function(e,t){t instanceof HTMLElement&&qq(t).hasAttribute(d)&&qq(t).css({display:"block"})})})}),p.attach(document,"dragleave",function(e){a(e)&&t()}),p.attach(qq(document).children()[0],"mouseenter",function(){t()}),p.attach(document,"drop",function(e){e.preventDefault(),t()}),p.attach(document,c,t)}var l,c="qq-hidezones",d="qq-hide-dropzone",f=[],h=[],p=new qq.DisposeSupport;l={dropZoneElements:[],allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(l,e,!0),u(),qq.extend(this,{setupExtraDropzone:function(e){l.dropZoneElements.push(e),o(e)},removeDropzone:function(e){var t,n=l.dropZoneElements;for(t in n)if(n[t]===e)return n.splice(t,1)},dispose:function(){p.dispose(),qq.each(f,function(e,t){t.dispose()})}})},qq.DragAndDrop.callbacks=function(){"use strict";return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(){},dropError:function(e,t){qq.log("Drag & drop error code '"+e+" with these specifics: '"+t+"'","error")},dropLog:function(e,t){qq.log(e,t)}}},qq.UploadDropZone=function(e){"use strict";function t(){return qq.safari()||qq.firefox()&&qq.windows()}function n(){c||(t?d.attach(document,"dragover",function(e){e.preventDefault()}):d.attach(document,"dragover",function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())
}),c=!0)}function i(e){if(!qq.supportedFeatures.fileDrop)return!1;var t,n=e.dataTransfer,i=qq.safari();return t=qq.ie()&&qq.supportedFeatures.fileDrop?!0:"none"!==n.effectAllowed,n&&t&&(n.files||!i&&n.types.contains&&n.types.contains("Files"))}function r(e){return void 0!==e&&(l=e),l}function o(){function e(){t=document.createEvent("Event"),t.initEvent(a.HIDE_ZONES_EVENT_NAME,!0,!0)}var t;if(window.CustomEvent)try{t=new CustomEvent(a.HIDE_ZONES_EVENT_NAME)}catch(n){e()}else e();document.dispatchEvent(t)}function s(){d.attach(u,"dragover",function(e){if(i(e)){var t=qq.ie()&&qq.supportedFeatures.fileDrop?null:e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",e.stopPropagation(),e.preventDefault()}}),d.attach(u,"dragenter",function(e){if(!r()){if(!i(e))return;a.onEnter(e)}}),d.attach(u,"dragleave",function(e){if(i(e)){a.onLeave(e);var t=document.elementFromPoint(e.clientX,e.clientY);qq(this).contains(t)||a.onLeaveNotDescendants(e)}}),d.attach(u,"drop",function(e){if(!r()){if(!i(e))return;e.preventDefault(),e.stopPropagation(),a.onDrop(e),o()}})}var a,u,l,c,d=new qq.DisposeSupport;a={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}},qq.extend(a,e),u=a.element,n(),s(),qq.extend(this,{dropDisabled:function(e){return r(e)},dispose:function(){d.dispose()},getElement:function(){return u}})},function(){"use strict";qq.uiPublicApi={addInitialFiles:function(){this._parent.prototype.addInitialFiles.apply(this,arguments),this._templating.addCacheToDom()},clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments),this._templating.clearFiles()},addExtraDropzone:function(e){this._dnd&&this._dnd.setupExtraDropzone(e)},removeExtraDropzone:function(e){return this._dnd?this._dnd.removeDropzone(e):void 0},getItemByFileId:function(e){return this._templating.isHiddenForever(e)?void 0:this._templating.getFileContainer(e)},reset:function(){this._parent.prototype.reset.apply(this,arguments),this._templating.reset(),!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._dnd&&(this._dnd.dispose(),this._dnd=this._setupDragAndDrop()),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0,this._setupClickAndEditEventHandlers()},setName:function(e,t){var n=this._options.formatFileName(t);this._parent.prototype.setName.apply(this,arguments),this._templating.updateFilename(e,n)},pauseUpload:function(e){var t=this._parent.prototype.pauseUpload.apply(this,arguments);return t&&this._templating.uploadPaused(e),t},continueUpload:function(e){var t=this._parent.prototype.continueUpload.apply(this,arguments);return t&&this._templating.uploadContinued(e),t},getId:function(e){return this._templating.getFileId(e)},getDropTarget:function(e){var t=this.getFile(e);return t.qqDropTarget}},qq.uiPrivateApi={_getButton:function(e){var t=this._parent.prototype._getButton.apply(this,arguments);return t||e===this._defaultButtonId&&(t=this._templating.getButton()),t},_removeFileItem:function(e){this._templating.removeFile(e)},_setupClickAndEditEventHandlers:function(){this._fileButtonsClickHandler=qq.FileButtonsClickHandler&&this._bindFileButtonsClickEvent(),this._focusinEventSupported=!qq.firefox(),this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var e=this,t=this._options.dragAndDrop.extraDropzones,n=this._templating,i=n.getDropZone();return i&&t.push(i),new qq.DragAndDrop({dropZoneElements:t,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){n.showDropProcessing()},processingDroppedFilesComplete:function(t,i){n.hideDropProcessing(),qq.each(t,function(e,t){t.qqDropTarget=i}),t.length&&e.addFiles(t,null,null)},dropError:function(t,n){e._itemError(t,n)},dropLog:function(t,n){e.log(t,n)}}})},_bindFileButtonsClickEvent:function(){var e=this;return new qq.FileButtonsClickHandler({templating:this._templating,log:function(t,n){e.log(t,n)},onDeleteFile:function(t){e.deleteFile(t)},onCancel:function(t){e.cancel(t)},onRetry:function(t){e.retry(t)},onPause:function(t){e.pauseUpload(t)},onContinue:function(t){e.continueUpload(t)},onGetName:function(t){return e.getName(t)}})},_isEditFilenameEnabled:function(){return this._templating.isEditFilenamePossible()&&!this._options.autoUpload&&qq.FilenameClickHandler&&qq.FilenameInputFocusHandler&&qq.FilenameInputFocusHandler},_filenameEditHandler:function(){var e=this,t=this._templating;return{templating:t,log:function(t,n){e.log(t,n)},onGetUploadStatus:function(t){return e.getUploads({id:t}).status},onGetName:function(t){return e.getName(t)},onSetName:function(t,n){e.setName(t,n)},onEditingStatusChange:function(e,n){var i=qq(t.getEditInput(e)),r=qq(t.getFileContainer(e));n?(i.addClass("qq-editing"),t.hideFilename(e),t.hideEditIcon(e)):(i.removeClass("qq-editing"),t.showFilename(e),t.showEditIcon(e)),r.addClass("qq-temp").removeClass("qq-temp")}}},_onUploadStatusChange:function(e,t,n){this._parent.prototype._onUploadStatusChange.apply(this,arguments),this._isEditFilenameEnabled()&&this._templating.getFileContainer(e)&&n!==qq.status.SUBMITTED&&(this._templating.markFilenameEditable(e),this._templating.hideEditIcon(e)),t===qq.status.UPLOAD_RETRYING&&n===qq.status.UPLOADING?(this._templating.hideRetry(e),this._templating.setStatusText(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.retrying)):n===qq.status.UPLOAD_FAILED&&this._templating.hidePause(e)},_bindFilenameInputFocusInEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusInHandler(e)},_bindFilenameInputFocusEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusHandler(e)},_bindFilenameClickEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameClickHandler(e)},_storeForLater:function(e){this._parent.prototype._storeForLater.apply(this,arguments),this._templating.hideSpinner(e)},_onAllComplete:function(){this._parent.prototype._onAllComplete.apply(this,arguments),this._templating.resetTotalProgress()},_onSubmit:function(e,t){var n=this.getFile(e);n&&n.qqPath&&this._options.dragAndDrop.reportDirectoryPaths&&this._paramsStore.addReadOnly(e,{qqpath:n.qqPath}),this._parent.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onSubmitted:function(e){this._isEditFilenameEnabled()&&(this._templating.markFilenameEditable(e),this._templating.showEditIcon(e),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(e)))},_onProgress:function(e,t,n,i){this._parent.prototype._onProgress.apply(this,arguments),this._templating.updateProgress(e,n,i),0===i||100===Math.round(n/i*100)?(this._templating.hideCancel(e),this._templating.hidePause(e),this._templating.hideProgress(e),this._templating.setStatusText(e,this._options.text.waitingForResponse),this._displayFileSize(e)):this._displayFileSize(e,n,i)},_onTotalProgress:function(e,t){this._parent.prototype._onTotalProgress.apply(this,arguments),this._templating.updateTotalProgress(e,t)},_onComplete:function(e,t,n){function i(t){s&&(o.setStatusText(e),qq(s).removeClass(a._classes.retrying),o.hideProgress(e),a.getUploads({id:e}).status!==qq.status.UPLOAD_FAILED&&o.hideCancel(e),o.hideSpinner(e),t.success?a._markFileAsSuccessful(e):(qq(s).addClass(a._classes.fail),o.showCancel(e),o.isRetryPossible()&&!a._preventRetries[e]&&(qq(s).addClass(a._classes.retryable),o.showRetry(e)),a._controlFailureTextDisplay(e,t)))}var r=this._parent.prototype._onComplete.apply(this,arguments),o=this._templating,s=o.getFileContainer(e),a=this;return r instanceof qq.Promise?r.done(function(e){i(e)}):i(n),r},_markFileAsSuccessful:function(e){var t=this._templating;this._isDeletePossible()&&t.showDeleteButton(e),qq(t.getFileContainer(e)).addClass(this._classes.success),this._maybeUpdateThumbnail(e)},_onUploadPrep:function(e){this._parent.prototype._onUploadPrep.apply(this,arguments),this._templating.showSpinner(e)},_onUpload:function(e){var t=this._parent.prototype._onUpload.apply(this,arguments);return this._templating.showSpinner(e),t},_onUploadChunk:function(e,t){this._parent.prototype._onUploadChunk.apply(this,arguments),t.partIndex>0&&this._handler.isResumable(e)&&this._templating.allowPause(e)},_onCancel:function(e){this._parent.prototype._onCancel.apply(this,arguments),this._removeFileItem(e),0===this._getNotFinished()&&this._templating.resetTotalProgress()},_onBeforeAutoRetry:function(e){var t,n,i;this._parent.prototype._onBeforeAutoRetry.apply(this,arguments),this._showCancelLink(e),this._options.retry.showAutoRetryNote&&(t=this._autoRetries[e],n=this._options.retry.maxAutoAttempts,i=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,t),i=i.replace(/\{maxAuto\}/g,n),this._templating.setStatusText(e,i),qq(this._templating.getFileContainer(e)).addClass(this._classes.retrying))},_onBeforeManualRetry:function(e){return this._parent.prototype._onBeforeManualRetry.apply(this,arguments)?(this._templating.resetProgress(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.fail),this._templating.setStatusText(e),this._templating.showSpinner(e),this._showCancelLink(e),!0):(qq(this._templating.getFileContainer(e)).addClass(this._classes.retryable),this._templating.showRetry(e),!1)},_onSubmitDelete:function(e){var t=qq.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,e,t)},_onSubmitDeleteSuccess:function(){this._options.deleteFile.forceConfirm?this._showDeleteConfirm.apply(this,arguments):this._sendDeleteRequest.apply(this,arguments)},_onDeleteComplete:function(e,t,n){this._parent.prototype._onDeleteComplete.apply(this,arguments),this._templating.hideSpinner(e),n?(this._templating.setStatusText(e,this._options.deleteFile.deletingFailedText),this._templating.showDeleteButton(e)):this._removeFileItem(e)},_sendDeleteRequest:function(e){this._templating.hideDeleteButton(e),this._templating.showSpinner(e),this._templating.setStatusText(e,this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(e){var t,n=this.getName(e),i=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,n),r=(this.getUuid(e),arguments),o=this;t=this._options.showConfirm(i),qq.isGenericPromise(t)?t.then(function(){o._sendDeleteRequest.apply(o,r)}):t!==!1&&o._sendDeleteRequest.apply(o,r)},_addToList:function(e,t,n){var i,r,o=0,s=this._handler.isProxied(e)&&this._options.scaling.hideScaled;this._options.display.prependFiles&&(this._totalFilesInBatch>1&&this._filesInBatchAddedToUi>0&&(o=this._filesInBatchAddedToUi-1),i={index:o}),n||(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading&&this._templating.disableCancel(),this._options.multiple||(r=this.getUploads({id:e}),this._handledProxyGroup=this._handledProxyGroup||r.proxyGroupId,r.proxyGroupId===this._handledProxyGroup&&r.proxyGroupId||(this._handler.cancelAll(),this._clearList(),this._handledProxyGroup=null))),n?(this._templating.addFileToCache(e,this._options.formatFileName(t),i,s),this._templating.updateThumbnail(e,this._thumbnailUrls[e],!0,this._options.thumbnails.customResizer)):(this._templating.addFile(e,this._options.formatFileName(t),i,s),this._templating.generatePreview(e,this.getFile(e),this._options.thumbnails.customResizer)),this._filesInBatchAddedToUi+=1,(n||this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading)&&this._displayFileSize(e)},_clearList:function(){this._templating.clearFiles(),this.clearStoredFiles()},_displayFileSize:function(e,t,n){var i=this.getSize(e),r=this._formatSize(i);i>=0&&(void 0!==t&&void 0!==n&&(r=this._formatProgress(t,n)),this._templating.updateSize(e,r))},_formatProgress:function(e,t){function n(e,t){i=i.replace(e,t)}var i=this._options.text.formatProgress;return n("{percent}",Math.round(e/t*100)),n("{total_size}",this._formatSize(t)),i},_controlFailureTextDisplay:function(e,t){var n,i,r;n=this._options.failedUploadTextDisplay.mode,i=this._options.failedUploadTextDisplay.responseProperty,"custom"===n?(r=t[i],r||(r=this._options.text.failUpload),this._templating.setStatusText(e,r),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(e,r)):"default"===n?this._templating.setStatusText(e,this._options.text.failUpload):"none"!==n&&this.log("failedUploadTextDisplay.mode value of '"+n+"' is not valid","warn")},_showTooltip:function(e,t){this._templating.getFileContainer(e).title=t},_showCancelLink:function(e){(!this._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading)&&this._templating.showCancel(e)},_itemError:function(){var e=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(e)},_batchError:function(e){this._parent.prototype._batchError.apply(this,arguments),this._options.showMessage(e)},_setupPastePrompt:function(){var e=this;this._options.callbacks.onPasteReceived=function(){var t=e._options.paste.namePromptMessage,n=e._options.paste.defaultName;return e._options.showPrompt(t,n)}},_fileOrBlobRejected:function(){this._totalFilesInBatch-=1,this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(e){this._totalFilesInBatch=e.length,this._filesInBatchAddedToUi=0,this._parent.prototype._prepareItemsForUpload.apply(this,arguments)},_maybeUpdateThumbnail:function(e){var t=this._thumbnailUrls[e],n=this.getUploads({id:e}).status;n===qq.status.DELETED||!t&&!this._options.thumbnails.placeholders.waitUntilResponse&&qq.supportedFeatures.imagePreviews||this._templating.updateThumbnail(e,t,this._options.thumbnails.customResizer)},_addCannedFile:function(){var e=this._parent.prototype._addCannedFile.apply(this,arguments);return this._addToList(e,this.getName(e),!0),this._templating.hideSpinner(e),this._templating.hideCancel(e),this._markFileAsSuccessful(e),e},_setSize:function(e,t){this._parent.prototype._setSize.apply(this,arguments),this._templating.updateSize(e,this._formatSize(t))},_sessionRequestComplete:function(){this._templating.addCacheToDom(),this._parent.prototype._sessionRequestComplete.apply(this,arguments)}}}(),qq.FineUploader=function(e,t){"use strict";var n=this;this._parent=t?qq[t].FineUploaderBasic:qq.FineUploaderBasic,this._parent.apply(this,arguments),qq.extend(this._options,{element:null,button:null,listElement:null,dragAndDrop:{extraDropzones:[],reportDirectoryPaths:!1},text:{formatProgress:"{percent}% of {total_size}",failUpload:"Upload failed",waitingForResponse:"Processing...",paused:"Paused"},template:"qq-template",classes:{retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",success:"qq-upload-success",fail:"qq-upload-fail",editable:"qq-editable",hide:"qq-hide",dropActive:"qq-upload-drop-area-active"},failedUploadTextDisplay:{mode:"default",responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}..."},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},thumbnails:{customResizer:null,maxCount:0,placeholders:{waitUntilResponse:!1,notAvailablePath:null,waitingPath:null},timeBetweenThumbs:750},scaling:{hideScaled:!1},showMessage:function(e){return n._templating.hasDialog("alert")?n._templating.showDialog("alert",e):void setTimeout(function(){window.alert(e)},0)},showConfirm:function(e){return n._templating.hasDialog("confirm")?n._templating.showDialog("confirm",e):window.confirm(e)},showPrompt:function(e,t){return n._templating.hasDialog("prompt")?n._templating.showDialog("prompt",e,t):window.prompt(e,t)}},!0),qq.extend(this._options,e,!0),this._templating=new qq.Templating({log:qq.bind(this.log,this),templateIdOrEl:this._options.template,containerEl:this._options.element,fileContainerEl:this._options.listElement,button:this._options.button,imageGenerator:this._imageGenerator,classes:{hide:this._options.classes.hide,editable:this._options.classes.editable},limits:{maxThumbs:this._options.thumbnails.maxCount,timeBetweenThumbs:this._options.thumbnails.timeBetweenThumbs},placeholders:{waitUntilUpdate:this._options.thumbnails.placeholders.waitUntilResponse,thumbnailNotAvailable:this._options.thumbnails.placeholders.notAvailablePath,waitingForThumbnail:this._options.thumbnails.placeholders.waitingPath},text:this._options.text}),this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari()?this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari):!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._templating.renderFailure(this._options.messages.unsupportedBrowser):(this._wrapCallbacks(),this._templating.render(),this._classes=this._options.classes,!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._setupClickAndEditEventHandlers(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop&&(this._dnd=this._setupDragAndDrop()),this._options.paste.targetElement&&this._options.paste.promptForName&&(qq.PasteSupport?this._setupPastePrompt():this.log("Paste support module not found.","error")),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0)},qq.extend(qq.FineUploader.prototype,qq.basePublicApi),qq.extend(qq.FineUploader.prototype,qq.basePrivateApi),qq.extend(qq.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.FineUploader.prototype,qq.uiPrivateApi),qq.Templating=function(e){"use strict";var t,n,i,r,o,s,a,u,l="qq-file-id",c="qq-file-id-",d="qq-max-size",f="qq-server-scale",h="qq-hide-dropzone",p="qq-drop-area-text",m="qq-in-progress",g="qq-hidden-forever",v={content:document.createDocumentFragment(),map:{}},_=!1,y=0,q=!1,b=[],w=-1,S={log:null,limits:{maxThumbs:0,timeBetweenThumbs:750},templateIdOrEl:"qq-template",containerEl:null,fileContainerEl:null,button:null,imageGenerator:null,classes:{hide:"qq-hide",editable:"qq-editable"},placeholders:{waitUntilUpdate:!1,thumbnailNotAvailable:null,waitingForThumbnail:null},text:{paused:"Paused"}},x={button:"qq-upload-button-selector",alertDialog:"qq-alert-dialog-selector",dialogCancelButton:"qq-cancel-button-selector",confirmDialog:"qq-confirm-dialog-selector",dialogMessage:"qq-dialog-message-selector",dialogOkButton:"qq-ok-button-selector",promptDialog:"qq-prompt-dialog-selector",uploader:"qq-uploader-selector",drop:"qq-upload-drop-area-selector",list:"qq-upload-list-selector",progressBarContainer:"qq-progress-bar-container-selector",progressBar:"qq-progress-bar-selector",totalProgressBarContainer:"qq-total-progress-bar-container-selector",totalProgressBar:"qq-total-progress-bar-selector",file:"qq-upload-file-selector",spinner:"qq-upload-spinner-selector",size:"qq-upload-size-selector",cancel:"qq-upload-cancel-selector",pause:"qq-upload-pause-selector",continueButton:"qq-upload-continue-selector",deleteButton:"qq-upload-delete-selector",retry:"qq-upload-retry-selector",statusText:"qq-upload-status-text-selector",editFilenameInput:"qq-edit-filename-selector",editNameIcon:"qq-edit-filename-icon-selector",dropText:"qq-upload-drop-area-text-selector",dropProcessing:"qq-drop-processing-selector",dropProcessingSpinner:"qq-drop-processing-spinner-selector",thumbnail:"qq-thumbnail-selector"},C={},T=new qq.Promise,E=new qq.Promise,P=function(){var e=S.placeholders.thumbnailNotAvailable,n=S.placeholders.waitingForThumbnail,i={maxSize:w,scale:u};a&&(e?S.imageGenerator.generate(e,new Image,i).then(function(e){T.success(e)},function(){T.failure(),t("Problem loading 'not available' placeholder image at "+e,"error")}):T.failure(),n?S.imageGenerator.generate(n,new Image,i).then(function(e){E.success(e)},function(){E.failure(),t("Problem loading 'waiting for thumbnail' placeholder image at "+n,"error")}):E.failure())},A=function(e){var t=new qq.Promise;return E.then(function(n){G(n,e),e.src?t.success():(e.src=n.src,e.onload=function(){e.onload=null,tt(e),t.success()})},function(){Y(e),t.success()}),t},F=function(e,n,i){var r=V(e);return t("Generating new thumbnail for "+e),n.qqThumbnailId=e,S.imageGenerator.generate(n,r,i).then(function(){y++,tt(r),C[e].success()},function(){C[e].failure(),S.placeholders.waitUntilUpdate||X(e,r)})},k=function(){if(b.length){q=!0;var e=b.shift();e.update?Z(e):J(e)}else q=!1},D=function(e){return $(L(e),x.cancel)},I=function(e){return $(L(e),x.continueButton)},N=function(e){return $(o,x[e+"Dialog"])},R=function(e){return $(L(e),x.deleteButton)},M=function(){return $(o,x.dropProcessing)},H=function(e){return $(L(e),x.editNameIcon)},L=function(e){return v.map[e]||qq(s).getFirstByClass(c+e)},O=function(e){return $(L(e),x.file)},U=function(e){return $(L(e),x.pause)},B=function(e){return null==e?$(o,x.totalProgressBarContainer)||$(o,x.totalProgressBar):$(L(e),x.progressBarContainer)||$(L(e),x.progressBar)},z=function(e){return $(L(e),x.retry)},j=function(e){return $(L(e),x.size)},W=function(e){return $(L(e),x.spinner)},$=function(e,t){return e&&qq(e).getFirstByClass(t)},V=function(e){return a&&$(L(e),x.thumbnail)},Y=function(e){e&&qq(e).addClass(S.classes.hide)},G=function(e,t){var n=e.style.maxWidth,i=e.style.maxHeight;i&&n&&!t.style.maxWidth&&!t.style.maxHeight&&qq(t).css({maxWidth:n,maxHeight:i})},X=function(e,t){var n=C[e]||(new qq.Promise).failure(),i=new qq.Promise;return T.then(function(e){n.then(function(){i.success()},function(){G(e,t),t.onload=function(){t.onload=null,i.success()},t.src=e.src,tt(t)})}),i},K=function(){var e,r,o,s,l,c,m,g,v,_,y;if(t("Parsing template"),null==S.templateIdOrEl)throw new Error("You MUST specify either a template element or ID!");if(qq.isString(S.templateIdOrEl)){if(e=document.getElementById(S.templateIdOrEl),null===e)throw new Error(qq.format("Cannot find template script at ID '{}'!",S.templateIdOrEl));r=e.innerHTML}else{if(void 0===S.templateIdOrEl.innerHTML)throw new Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");r=S.templateIdOrEl.innerHTML}if(r=qq.trimStr(r),s=document.createElement("div"),s.appendChild(qq.toElement(r)),y=qq(s).getFirstByClass(x.uploader),S.button&&(c=qq(s).getFirstByClass(x.button),c&&qq(c).remove()),qq.DragAndDrop&&qq.supportedFeatures.fileDrop||(v=qq(s).getFirstByClass(x.dropProcessing),v&&qq(v).remove()),m=qq(s).getFirstByClass(x.drop),m&&!qq.DragAndDrop&&(t("DnD module unavailable.","info"),qq(m).remove()),qq.supportedFeatures.fileDrop?qq(y).hasAttribute(p)&&m&&(_=qq(m).getFirstByClass(x.dropText),_&&qq(_).remove()):(y.removeAttribute(p),m&&qq(m).hasAttribute(h)&&qq(m).css({display:"none"})),g=qq(s).getFirstByClass(x.thumbnail),a?g&&(w=parseInt(g.getAttribute(d)),w=w>0?w:null,u=qq(g).hasAttribute(f)):g&&qq(g).remove(),a=a&&g,n=qq(s).getByClass(x.editFilenameInput).length>0,i=qq(s).getByClass(x.retry).length>0,o=qq(s).getFirstByClass(x.list),null==o)throw new Error("Could not find the file list container in the template!");return l=o.innerHTML,o.innerHTML="",s.getElementsByTagName("DIALOG").length&&document.createElement("dialog"),t("Template parsing complete"),{template:qq.trimStr(s.innerHTML),fileTemplate:qq.trimStr(l)}},Q=function(e,t,n){var i=n,r=i.firstChild;t>0&&(r=qq(i).children()[t].nextSibling),i.insertBefore(e,r)},J=function(e){var t=e.id,n=e.optFileOrBlob,i=n&&n.qqThumbnailId,r=V(t),o={customResizeFunction:e.customResizeFunction,maxSize:w,orient:!0,scale:!0};qq.supportedFeatures.imagePreviews?r?S.limits.maxThumbs&&S.limits.maxThumbs<=y?(X(t,r),k()):A(r).done(function(){C[t]=new qq.Promise,C[t].done(function(){setTimeout(k,S.limits.timeBetweenThumbs)}),null!=i?nt(t,i):F(t,n,o)}):k():r&&(A(r),k())},Z=function(e){var t=e.id,n=e.thumbnailUrl,i=e.showWaitingImg,r=V(t),o={customResizeFunction:e.customResizeFunction,scale:u,maxSize:w};if(r)if(n){if(!(S.limits.maxThumbs&&S.limits.maxThumbs<=y))return i&&A(r),S.imageGenerator.generate(n,r,o).then(function(){tt(r),y++,setTimeout(k,S.limits.timeBetweenThumbs)},function(){X(t,r),setTimeout(k,S.limits.timeBetweenThumbs)});X(t,r),k()}else X(t,r),k()},et=function(e,t){var n=B(e),i=null==e?x.totalProgressBar:x.progressBar;n&&!qq(n).hasClass(i)&&(n=qq(n).getFirstByClass(i)),n&&(qq(n).css({width:t+"%"}),n.setAttribute("aria-valuenow",t))},tt=function(e){e&&qq(e).removeClass(S.classes.hide)},nt=function(e,n){var i=V(e),r=V(n);t(qq.format("ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.",e,n,n)),C[n].then(function(){y++,C[e].success(),t(qq.format("Now using previously generated thumbnail created for ID {} on ID {}.",n,e)),i.src=r.src,tt(i)},function(){C[e].failure(),S.placeholders.waitUntilUpdate||X(e,i)})};qq.extend(S,e),t=S.log,qq.supportedFeatures.imagePreviews||(S.limits.timeBetweenThumbs=0,S.limits.maxThumbs=0),o=S.containerEl,a=void 0!==S.imageGenerator,r=K(),P(),qq.extend(this,{render:function(){t("Rendering template in DOM."),y=0,o.innerHTML=r.template,Y(M()),this.hideTotalProgress(),s=S.fileContainerEl||$(o,x.list),t("Template rendering complete")},renderFailure:function(e){var t=qq.toElement(e);o.innerHTML="",o.appendChild(t)},reset:function(){this.render()},clearFiles:function(){s.innerHTML=""},disableCancel:function(){_=!0},addFile:function(e,t,n,i,a){var u,d=qq.toElement(r.fileTemplate),f=$(d,x.file),h=$(o,x.uploader),m=a?v.content:s;a&&(v.map[e]=d),qq(d).addClass(c+e),h.removeAttribute(p),f&&(qq(f).setText(t),f.setAttribute("title",t)),d.setAttribute(l,e),n?Q(d,n.index,m):m.appendChild(d),i?(d.style.display="none",qq(d).addClass(g)):(Y(B(e)),Y(j(e)),Y(R(e)),Y(z(e)),Y(U(e)),Y(I(e)),_&&this.hideCancel(e),u=V(e),u&&!u.src&&E.then(function(e){u.src=e.src,e.style.maxHeight&&e.style.maxWidth&&qq(u).css({maxHeight:e.style.maxHeight,maxWidth:e.style.maxWidth}),tt(u)}))},addFileToCache:function(e,t,n,i){this.addFile(e,t,n,i,!0)},addCacheToDom:function(){s.appendChild(v.content),v.content=document.createDocumentFragment(),v.map={}},removeFile:function(e){qq(L(e)).remove()},getFileId:function(e){var t=e;if(t){for(;null==t.getAttribute(l);)t=t.parentNode;return parseInt(t.getAttribute(l))}},getFileList:function(){return s},markFilenameEditable:function(e){var t=O(e);t&&qq(t).addClass(S.classes.editable)},updateFilename:function(e,t){var n=O(e);n&&(qq(n).setText(t),n.setAttribute("title",t))},hideFilename:function(e){Y(O(e))},showFilename:function(e){tt(O(e))},isFileName:function(e){return qq(e).hasClass(x.file)},getButton:function(){return S.button||$(o,x.button)},hideDropProcessing:function(){Y(M())},showDropProcessing:function(){tt(M())},getDropZone:function(){return $(o,x.drop)},isEditFilenamePossible:function(){return n},hideRetry:function(e){Y(z(e))},isRetryPossible:function(){return i},showRetry:function(e){tt(z(e))},getFileContainer:function(e){return L(e)},showEditIcon:function(e){var t=H(e);t&&qq(t).addClass(S.classes.editable)},isHiddenForever:function(e){return qq(L(e)).hasClass(g)},hideEditIcon:function(e){var t=H(e);t&&qq(t).removeClass(S.classes.editable)},isEditIcon:function(e){return qq(e).hasClass(x.editNameIcon,!0)},getEditInput:function(e){return $(L(e),x.editFilenameInput)},isEditInput:function(e){return qq(e).hasClass(x.editFilenameInput,!0)},updateProgress:function(e,t,n){var i,r=B(e);r&&n>0&&(i=Math.round(t/n*100),100===i?Y(r):tt(r),et(e,i))},updateTotalProgress:function(e,t){this.updateProgress(null,e,t)},hideProgress:function(e){var t=B(e);t&&Y(t)},hideTotalProgress:function(){this.hideProgress()},resetProgress:function(e){et(e,0),this.hideTotalProgress(e)},resetTotalProgress:function(){this.resetProgress()},showCancel:function(e){if(!_){var t=D(e);t&&qq(t).removeClass(S.classes.hide)}},hideCancel:function(e){Y(D(e))},isCancel:function(e){return qq(e).hasClass(x.cancel,!0)},allowPause:function(e){tt(U(e)),Y(I(e))},uploadPaused:function(e){this.setStatusText(e,S.text.paused),this.allowContinueButton(e),Y(W(e))},hidePause:function(e){Y(U(e))},isPause:function(e){return qq(e).hasClass(x.pause,!0)},isContinueButton:function(e){return qq(e).hasClass(x.continueButton,!0)},allowContinueButton:function(e){tt(I(e)),Y(U(e))},uploadContinued:function(e){this.setStatusText(e,""),this.allowPause(e),tt(W(e))},showDeleteButton:function(e){tt(R(e))},hideDeleteButton:function(e){Y(R(e))},isDeleteButton:function(e){return qq(e).hasClass(x.deleteButton,!0)},isRetry:function(e){return qq(e).hasClass(x.retry,!0)},updateSize:function(e,t){var n=j(e);n&&(tt(n),qq(n).setText(t))},setStatusText:function(e,t){var n=$(L(e),x.statusText);n&&(null==t?qq(n).clearText():qq(n).setText(t))},hideSpinner:function(e){qq(L(e)).removeClass(m),Y(W(e))},showSpinner:function(e){qq(L(e)).addClass(m),tt(W(e))},generatePreview:function(e,t,n){this.isHiddenForever(e)||(b.push({id:e,customResizeFunction:n,optFileOrBlob:t}),!q&&k())},updateThumbnail:function(e,t,n,i){this.isHiddenForever(e)||(b.push({customResizeFunction:i,update:!0,id:e,thumbnailUrl:t,showWaitingImg:n}),!q&&k())},hasDialog:function(e){return qq.supportedFeatures.dialogElement&&!!N(e)},showDialog:function(e,t,n){var i=N(e),r=$(i,x.dialogMessage),o=i.getElementsByTagName("INPUT")[0],s=$(i,x.dialogCancelButton),a=$(i,x.dialogOkButton),u=new qq.Promise,l=function(){s.removeEventListener("click",c),a&&a.removeEventListener("click",d),u.failure()},c=function(){s.removeEventListener("click",c),i.close()},d=function(){i.removeEventListener("close",l),a.removeEventListener("click",d),i.close(),u.success(o&&o.value)};return i.addEventListener("close",l),s.addEventListener("click",c),a&&a.addEventListener("click",d),o&&(o.value=n),r.textContent=t,i.showModal(),u}})},qq.UiEventHandler=function(e,t){"use strict";function n(e){i.attach(e,r.eventType,function(e){e=e||window.event;var t=e.target||e.srcElement;r.onHandled(t,e)})}var i=new qq.DisposeSupport,r={eventType:"click",attachTo:null,onHandled:function(){}};qq.extend(this,{addHandler:function(e){n(e)},dispose:function(){i.dispose()}}),qq.extend(t,{getFileIdFromItem:function(e){return e.qqFileId},getDisposeSupport:function(){return i}}),qq.extend(r,e),r.attachTo&&n(r.attachTo)},qq.FileButtonsClickHandler=function(e){"use strict";function t(e,t){qq.each(r,function(n,r){var o,s=n.charAt(0).toUpperCase()+n.slice(1);return i.templating["is"+s](e)?(o=i.templating.getFileId(e),qq.preventDefault(t),i.log(qq.format("Detected valid file button click event on file '{}', ID: {}.",i.onGetName(o),o)),r(o),!1):void 0})}var n={},i={templating:null,log:function(){},onDeleteFile:function(){},onCancel:function(){},onRetry:function(){},onPause:function(){},onContinue:function(){},onGetName:function(){}},r={cancel:function(e){i.onCancel(e)},retry:function(e){i.onRetry(e)},deleteButton:function(e){i.onDeleteFile(e)},pause:function(e){i.onPause(e)},continueButton:function(e){i.onContinue(e)}};qq.extend(i,e),i.eventType="click",i.onHandled=t,i.attachTo=i.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(i,n))},qq.FilenameClickHandler=function(e){"use strict";function t(e,t){if(i.templating.isFileName(e)||i.templating.isEditIcon(e)){var r=i.templating.getFileId(e),o=i.onGetUploadStatus(r);o===qq.status.SUBMITTED&&(i.log(qq.format("Detected valid filename click event on file '{}', ID: {}.",i.onGetName(r),r)),qq.preventDefault(t),n.handleFilenameEdit(r,e,!0))}}var n={},i={templating:null,log:function(){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(){},onGetName:function(){}};qq.extend(i,e),i.eventType="click",i.onHandled=t,qq.extend(this,new qq.FilenameEditHandler(i,n))},qq.FilenameInputFocusInHandler=function(e,t){"use strict";function n(e){if(i.templating.isEditInput(e)){var n=i.templating.getFileId(e),r=i.onGetUploadStatus(n);r===qq.status.SUBMITTED&&(i.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.",i.onGetName(n),n)),t.handleFilenameEdit(n,e))}}var i={templating:null,onGetUploadStatus:function(){},log:function(){}};t||(t={}),i.eventType="focusin",i.onHandled=n,qq.extend(i,e),qq.extend(this,new qq.FilenameEditHandler(i,t))},qq.FilenameInputFocusHandler=function(e){"use strict";e.eventType="focus",e.attachTo=null,qq.extend(this,new qq.FilenameInputFocusInHandler(e,{}))
},qq.FilenameEditHandler=function(e,t){"use strict";function n(e){var t=a.onGetName(e),n=t.lastIndexOf(".");return n>0&&(t=t.substr(0,n)),t}function i(e){var t=a.onGetName(e);return qq.getExtension(t)}function r(e,t){var n,r=e.value;void 0!==r&&qq.trimStr(r).length>0&&(n=i(t),void 0!==n&&(r=r+"."+n),a.onSetName(t,r)),a.onEditingStatusChange(t,!1)}function o(e,n){t.getDisposeSupport().attach(e,"blur",function(){r(e,n)})}function s(e,n){t.getDisposeSupport().attach(e,"keyup",function(t){var i=t.keyCode||t.which;13===i&&r(e,n)})}var a={templating:null,log:function(){},onGetUploadStatus:function(){},onGetName:function(){},onSetName:function(){},onEditingStatusChange:function(){}};qq.extend(a,e),a.attachTo=a.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(a,t)),qq.extend(t,{handleFilenameEdit:function(e,t,i){var r=a.templating.getEditInput(e);a.onEditingStatusChange(e,!0),r.value=n(e),i&&r.focus(),o(r,e),s(r,e)}})},function(){"use strict";qq.s3.FineUploader=function(e){var t={failedUploadTextDisplay:{mode:"custom"}};qq.extend(t,e,!0),qq.FineUploader.call(this,t,"s3"),qq.supportedFeatures.ajaxUploading||void 0!==t.iframeSupport.localBlankPagePath||(this._options.element.innerHTML="<div>You MUST set the <code>localBlankPagePath</code> property of the <code>iframeSupport</code> option since this browser does not support the File API!</div>")},qq.extend(qq.s3.FineUploader.prototype,qq.s3.FineUploaderBasic.prototype),qq.extend(qq.s3.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.s3.FineUploader.prototype,qq.uiPrivateApi)}()}(window),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Uploader=function(t){function n(e){var t;this.options=e,t=this.defaultSettings(),$.extend(!0,t,this.options),n.__super__.constructor.call(this,t)}return e(n,t),n.prototype.defaultSettings=function(){return{template:"qq-upload-template",request:{endpoint:"https://weddingwoo.s3.amazonaws.com",accessKey:"AKIAJHB6QYYKRE4HMJFQ",clockDrift:server.clock_drift},signature:{endpoint:server.signature_endpoint,customHeaders:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")}},multiple:!1,objectProperties:{acl:"public-read",key:function(e){var t,i;return t=this.options.directory||"files",i=this.getName(e),n.createKey(t,i)}},callbacks:{onSubmit:function(e){return this.onSubmit(e)},onProgress:function(e,t,n,i){var r;return r=Math.round(n/i*100),this.onProgress(e,t,r)},onComplete:function(e,t,n){var i;return i="https://d25uo7j7o9w973.cloudfront.net/"+this.getKey(e),this.onComplete(e,t,n,i)},onError:function(e,t,n,i){return this.onError(e,t,n,i)}}}},n.prototype.onSubmit=function(e){return this.getProgress(e).slideDown("fast")},n.prototype.onProgress=function(e,t,n){var i;return i=this.getProgress(e).find(".progress-bar"),i.css({width:n+"%"})},n.prototype.onComplete=function(e){var t;return t=this.getProgress(e),t.hide(),t.find(".progress-bar").css({width:"0%"})},n.prototype.onError=function(e,t,n){var i,r,o;o=qq.format("Error on file {} \u2013 {}. Reason: {}",e,t,n),console.log(o);try{throw new Error(o)}catch(r){i=r,airbrake.notify(i)}return alert("An error occurred for the upload. Please notify us if you are having issues.")},n.prototype.getProgress=function(e){return $(this.getButton(e)).prev(".progress")},n}(qq.s3.FineUploader),this.Uploader.createKey=function(e,t){var n,i;return n="uploads",i=[n,e,server.cid,SecureRandom.hex(),Uploader.sanitizeFile(t)],i.join("/")},this.Uploader.sanitizeFile=function(e){var t;return t=e.replace(/[^\w.-]/g,""),t.split(".")[0].length||(t="file"+t),t},this.ImageUploader=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.defaultSettings=function(){var e,t;return t=n.__super__.defaultSettings.apply(this,arguments),e={validation:{allowedExtensions:["gif","jpeg","jpg","png"],acceptFiles:"image/gif, image/jpeg, image/png"},callbacks:{onComplete:function(e,t,n){var i;return i="https://weddingwoo.imgix.net/"+this.getKey(e),this.onComplete(e,t,n,i)}}},$.extend(!0,t,e)},n}(this.Uploader)}.call(this),function(){$.support.pjax&&($.pjax.defaults.timeout=2e3),$(document).on("pjax:start",function(){return $.colorbox.remove(),$("#content").animate({opacity:.5},200)}).on("pjax:end",function(){return window._gaq&&_gaq.push(["_trackPageview",window.location.href]),"/"===window.location.pathname?($("#content").hide(),$("#about_message").fadeIn(200)):($("#content:hidden").show(),$("#about_message").not(":hidden").fadeOut(200)),0===$("#content").html().trim().length&&$("#content").hide(),$("#content").animate({opacity:1},100)}).on("pjax:click",function(e){return $("#navigation_links li.active").removeClass(),$(e.target).parent().addClass("active")}).on("ready",function(){return $(document).pjax("a[data-pjax]","[data-pjax-container]")}).on("ready pjax:success",function(){var e;return Translator.useLastLanguage(),$("#branding-footer-link").mouseenter(function(){return $(this).find("span.icon-off").removeClass().addClass("icon-on")}).mouseleave(function(){return $(this).find("span.icon-on").removeClass().addClass("icon-off")}).powerTip({placement:"e",fadeInTime:150,fadeOutTime:250}),$("#password-prompt").ready(function(){return $("#page-password-field").focus(function(){return $("#flash-alert").fadeOut()})}),$("#photos").ready(function(){return $("ul.grid li a.photo").colorbox({rel:"gallery",transition:"none",width:"80%",height:"80%",opacity:.7,escKey:!0,returnFocus:!1,current:"{current} of {total}",close:"x",onOpen:function(){var e;return e=new Spinner({lines:10,length:5,width:3,radius:5,speed:2,color:"#fff"}).spin(),$("#cboxLoadingGraphic").append(e.el)}}),$("#royalslider").removeClass("invisible").royalSlider({keyboardNavEnabled:!0,globalCaption:!0,globalCaptionInside:!0,controlNavigation:"thumbnails",loopRewind:!0,fadeinLoadedSlide:!0,fullscreen:{enabled:!0,nativeFS:!0},autoplay:{enabled:!0,delay:3e3,stopAtAction:!1},thumbs:{autoCenter:!1,transitionSpeed:400},transitionType:"move",transitionSpeed:400,imageScaleMode:"fit-if-smaller"})}),$("#rsvp").ready(function(){return RsvpFormSubmission.init(),Rules.initialize()}),$("#rsvp-next").ready(function(){return RsvpNext.init()}),$("#guestbook").ready(function(){return GuestbookForm.init()}),$("#song-requests").ready(function(){return SongRequests.init()}),$("#wedding-party").ready(function(){return $("ul li a.avatar").colorbox({rel:"gallery",transition:"none",width:"80%",height:"80%",opacity:.7,escKey:!0,returnFocus:!1,current:"{current} of {total}",close:"x",onComplete:function(){return 0===$("#cboxContent").find("#cboxUser").length&&$("#cboxContent").append('<div id="cboxUser"></div>'),$("#cboxUser").html($.colorbox.element().text())},onOpen:function(){var e;return e=new Spinner({lines:10,length:5,width:3,radius:5,speed:2,color:"#fff"}).spin(),$("#cboxLoadingGraphic").append(e.el)}})}),e=$("#locale").val(),null!=e&&e.length>0&&"en"!==e?$.extend($.validator.messages,$.validator.i18n[e]):void 0}),$(window).load(function(){return $("body").data("stickyLinks")&&!Modernizr.touch?new Waypoint.Sticky({element:$("#navi")}):void 0})}.call(this);